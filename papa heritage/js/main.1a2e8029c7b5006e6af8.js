!function(e){function n(n){for(var a,s,o=n[0],l=n[1],c=n[2],d=0,p=[];d<o.length;d++)s=o[d],r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(n);p.length;)p.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,o=1;o<t.length;o++){var l=t[o];0!==r[l]&&(a=!1)}a&&(i.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},r={1:0},i=[];function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=n,o=o.slice();for(var c=0;c<o.length;c++)n(o[c]);var u=l;i.push([147,2]),t()}([function(module,exports,__webpack_require__){"use strict";eval('\n\n/**\n * Returns resource value.\n * Fallbacks to error message.\n *\n * @param {string} key\n * @param {object} context Handlebars context object\n * @return {string}\n */\nmodule.exports = function resource(key, context) {\n  var resources = context.data.root.resources;\n\n  if (resources[key]) {\n    return resources[key];\n  } else {\n    return "\x3c!-- MISSING RESOURCE " + key + " --\x3e";\n  }\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/resource.js?')},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toSel = undefined;\n\nvar _pubsubJs = __webpack_require__(57);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar toSel = exports.toSel = function toSel(className) {\n  return '.' + className.replace(/\\s/g, '.');\n};\n\nvar Component = function Component(_ref) {\n  var el = _ref.el,\n      $el = _ref.$el;\n\n  _classCallCheck(this, Component);\n\n  this.el = el;\n  this.$el = $el;\n  this.publish = _pubsubJs2.default.publish;\n};\n\nexports.default = Component;\n\n//# sourceURL=webpack:///./src/common/scripts/core/component.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * Returns boolean value on performed operation.\n * \n * @param {*} v1 First value\n * @param {string} operator\n * @param {*} v2 Second value\n * @param {object} options Handlebars options object\n * @return {boolean}\n */\nmodule.exports = function op(v1, operator, v2, options) {\n  var _options$fn = options.fn,\n      fn = _options$fn === undefined ? function () {\n    return true;\n  } : _options$fn,\n      _options$inverse = options.inverse,\n      inverse = _options$inverse === undefined ? function () {\n    return false;\n  } : _options$inverse;\n\n\n  switch (operator) {\n    case '===':\n      return v1 === v2 ? fn(this) : inverse(this);\n    case '!==':\n      return v1 !== v2 ? fn(this) : inverse(this);\n    case '<':\n      return v1 < v2 ? fn(this) : inverse(this);\n    case '<=':\n      return v1 <= v2 ? fn(this) : inverse(this);\n    case '>':\n      return v1 > v2 ? fn(this) : inverse(this);\n    case '>=':\n      return v1 >= v2 ? fn(this) : inverse(this);\n    case '&&':\n      return v1 && v2 ? fn(this) : inverse(this);\n    case '||':\n      return v1 || v2 ? fn(this) : inverse(this);\n    case 'includes':\n      return v1.indexOf(v2) !== -1 ? fn(this) : inverse();\n    case 'excludes':\n      return v1.indexOf(v2) === -1 ? fn(this) : inverse();\n    default:\n      return inverse(this);\n  }\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/op.js?")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateLazyLoad = updateLazyLoad;\nexports.getBrowserWidth = getBrowserWidth;\nexports.getCurrentBreakpoint = getCurrentBreakpoint;\nexports.getBreakpoint = getBreakpoint;\nexports.getViewportDimensions = getViewportDimensions;\nexports.getScrollHeight = getScrollHeight;\nexports.setCheckedStatus = setCheckedStatus;\nexports.lockBody = lockBody;\nexports.loadScript = loadScript;\nexports.getCookies = getCookies;\nexports.getCookie = getCookie;\nexports.queryStringParams = queryStringParams;\nexports.toQueryString = toQueryString;\nexports.gaParameters = gaParameters;\nexports.setDateTimeForCulture = setDateTimeForCulture;\nexports.localeForUrl = localeForUrl;\nexports.injectCityNames = injectCityNames;\nexports.animatedScrollTo = animatedScrollTo;\nexports.scrollInElement = scrollInElement;\nexports.delay = delay;\nexports.retry = retry;\nexports.numberFormat = numberFormat;\n\nvar _eachRight = __webpack_require__(157);\n\nvar _eachRight2 = _interopRequireDefault(_eachRight);\n\nvar _keys = __webpack_require__(9);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _airports = __webpack_require__(17);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _vanillaLazyload = __webpack_require__(245);\n\nvar _vanillaLazyload2 = _interopRequireDefault(_vanillaLazyload);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Initialize lazy load instance for IMG elements.\n */\nvar myLazyLoadImg = new _vanillaLazyload2.default();\n\n/**\n * Initialize lazy load instance for elements with background image.\n */\nvar myLazyLoadBg = new _vanillaLazyload2.default({\n  elements_selector: \".lazy\"\n});\n\n/**\n * Triggers the lazy load update to manage new images.\n */\nfunction updateLazyLoad() {\n  myLazyLoadImg.update();\n}\n\nvar breakpoints = {\n  'mobile': 0,\n  'medium': 768,\n  'desktop': 1024\n};\n\nvar retryInterval = 5000;\nvar retryAttempts = 3;\n\nfunction getBrowserWidth() {\n  return (0, _jquery2.default)(window).width();\n}\n\nfunction getCurrentBreakpoint() {\n  var w = getBrowserWidth();\n  var result = {\n    width: 0,\n    breakpoint: ''\n  };\n\n  (0, _eachRight2.default)(breakpoints, function (breakpoint, key) {\n    if (w > breakpoint) {\n      result.width = breakpoint;\n      result.breakpoint = key;\n      return false;\n    }\n  });\n  return result;\n}\n\nfunction getBreakpoint(breakpoint) {\n  return breakpoints[breakpoint];\n}\n\nfunction getViewportDimensions() {\n  return {\n    width: Math.max(document.documentElement.clientWidth, window.innerWidth) || 0,\n    height: Math.max(document.documentElement.clientHeight, window.innerHeight) || 0\n  };\n}\n\nfunction getScrollHeight() {\n  return {\n    height: document.documentElement.scrollHeight || 0\n  };\n}\n\nfunction setCheckedStatus(status, $el) {\n  if (status) {\n    $el.prop('checked', status).attr('checked', status);\n  } else {\n    $el.removeAttr('checked');\n  }\n  return $el.attr('aria-checked', status);\n}\n\nfunction lockBody(isLocked) {\n  if (getCurrentBreakpoint().breakpoint !== 'mobile' && isLocked) return;\n\n  var bodyEl = (0, _jquery2.default)('body');\n\n  if (isLocked) {\n    if (!bodyEl.data('scroll-position')) {\n      bodyEl.data('scroll-position', (0, _jquery2.default)(document).scrollTop()).addClass('locked');\n    }\n  } else {\n    var scrollPosition = bodyEl.data('scroll-position') || 0;\n    bodyEl.data('scroll-position', '').removeClass('locked');\n    scrollPosition && (0, _jquery2.default)('html, body').scrollTop(scrollPosition);\n  }\n}\n\nfunction loadScript(source) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = source;\n    script.async = true;\n    script.addEventListener('load', function (e) {\n      resolve();\n    }, false);\n    document.head.appendChild(script);\n  });\n}\n\nfunction getCookies() {\n  var cookies = {};\n  for (var _iterator = document.cookie.split('; '), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var cookie = _ref;\n\n    var _cookie$split = cookie.split('='),\n        name = _cookie$split[0],\n        value = _cookie$split[1];\n\n    cookies[name] = decodeURIComponent(value);\n  }\n  return cookies;\n}\n\nfunction getCookie(name) {\n  var cookies = getCookies();\n  return cookies[name];\n}\n\nfunction queryStringParams() {\n  var hashes = location.search.slice(location.search.indexOf('?') + 1).split('&'); // eslint-disable-line\n  var params = {};\n  hashes.map(function (hash) {\n    var _hash$split = hash.split('='),\n        key = _hash$split[0],\n        val = _hash$split[1];\n\n    params[key] = decodeURIComponent(val);\n  });\n  return params;\n}\n\nfunction toQueryString(params, gaRequired) {\n  var urlParams = (0, _keys2.default)(params).map(function (k) {\n    return encodeURIComponent(k) + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n  if (gaRequired) {\n    var queryParams = queryStringParams();\n    if (queryParams.utm_source) urlParams.utm_source = queryParams.utm_source;\n    if (queryParams.utm_medium) urlParams.utm_medium = queryParams.utm_medium;\n    if (queryParams.utm_campaign) urlParams.utm_campaign = queryParams.utm_campaign;\n    if (queryParams.utm_content) urlParams.utm_content = queryParams.utm_content;\n    if (queryParams.utm_term) urlParams.utm_term = queryParams.utm_term;\n  }\n  return urlParams;\n}\n\nfunction gaParameters() {\n  var gaParams = {};\n  var queryParams = queryStringParams();\n  if (queryParams.utm_source) gaParams.utm_source = queryParams.utm_source;\n  if (queryParams.utm_medium) gaParams.utm_medium = queryParams.utm_medium;\n  if (queryParams.utm_campaign) gaParams.utm_campaign = queryParams.utm_campaign;\n  if (queryParams.utm_content) gaParams.utm_content = queryParams.utm_content;\n  if (queryParams.utm_term) gaParams.utm_term = queryParams.utm_term;\n  return gaParams;\n}\n\n// @TODO - needs to format date correctly for a users locale\nfunction setDateTimeForCulture(el) {\n  var $el = el && el.jquery ? el : (0, _jquery2.default)(el);\n  var timeStamps = $el.find('.js-time-date');\n  for (var i = 0; i < timeStamps.length; i++) {\n    var item = timeStamps[i];\n    var dateAsString = (0, _jquery2.default)(item).attr('data-time');\n    var dateFormated = (0, _moment2.default)(dateAsString).format('ddd, MMMM YY');\n    (0, _jquery2.default)(item).html(dateFormated);\n  }\n}\n\nfunction localeForUrl() {\n  var path = window.location.pathname.split('/');\n  path.shift();\n  switch (path[0]) {\n    case 'global':\n      return '' + path[1];\n      break;\n    case 'english':\n      return 'english';\n      break;\n    default:\n      path[0] + '/' + path[1];\n      break;\n  }\n}\n\nfunction injectCityNames(el) {\n  var DEFAULT_VALUE = '';\n  var $el = el && el.jquery ? el : (0, _jquery2.default)(el);\n  // Due to performance issues the airport list is not available on the back-end side any more,\n  // therefore we use the list on the front-end side to inject city names based on iata code.\n  (0, _airports.getAirports)().then(function (_ref2) {\n    var airportsByIataCode = _ref2.airportsByIataCode;\n\n    $el.find('.js-city-name-field').each(function (i, element) {\n      var $element = (0, _jquery2.default)(element);\n      var iataCode = $element.data('iataCode');\n      var name = (0, _get2.default)(airportsByIataCode, iataCode + '.shortName', DEFAULT_VALUE);\n      $element.html(name);\n    });\n  });\n}\n\n/*\n  Solution inpired from https://stackoverflow.com/a/24559613\n*/\nfunction animatedScrollTo(scrollToY, scrollDuration) {\n  var cosParameter = (window.pageYOffset - scrollToY) / 2;\n  var waitForPerformanceNow = 50;\n  var xScroll = 0; //INFO: Use this for any future requirement to scroll horizontally\n  var scrollCount = 0;\n  var oldTimestamp = performance.now();\n\n  function step(newTimestamp) {\n    var tsDiff = newTimestamp - oldTimestamp;\n\n    scrollCount += Math.PI / (scrollDuration / tsDiff);\n    if (scrollCount >= Math.PI) {\n      var currentScrollY = (0, _jquery2.default)(window).scrollTop();\n      if (Math.abs(scrollToY - currentScrollY) > 1) {\n        // (Firefox fix): Allow up to 1px error margin to avoid infinite calls\n        animatedScrollTo(scrollToY, scrollDuration);\n      }\n      return;\n    }\n\n    var yScroll = Math.round(scrollToY + cosParameter + cosParameter * Math.cos(scrollCount));\n    window.scrollTo(xScroll, yScroll);\n    oldTimestamp = newTimestamp;\n    window.requestAnimationFrame(step);\n  }\n\n  // INFO: Performance.now() loads late on certain browser, so waiting 50ms before starting to scroll\n  setTimeout(function () {\n    return window.requestAnimationFrame(step);\n  }, waitForPerformanceNow);\n}\n\n/**\n * Allow scrolling within an element\n * Solution from https://stackoverflow.com/a/45325140\n */\nfunction scrollInElement($element, to, duration) {\n  var start = $element.scrollTop(),\n      change = to - start,\n      currentTime = 0,\n      increment = 20;\n\n  var animateScroll = function animateScroll() {\n    currentTime += increment;\n    var val = Math.easeInOutQuad(currentTime, start, change, duration);\n    $element.scrollTop(val);\n    if (currentTime < duration) {\n      setTimeout(animateScroll, increment);\n    }\n  };\n\n  //t = current time\n  //b = start value\n  //c = change in value\n  //d = duration\n  Math.easeInOutQuad = function (t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) return c / 2 * t * t + b;\n    t--;\n    return -c / 2 * (t * (t - 2) - 1) + b;\n  };\n  animateScroll();\n}\n\nfunction delay(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : retryInterval;\n\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, delay);\n  }).then(function () {\n    return fn();\n  });\n}\n\nfunction retry(fn) {\n  var maxAttempts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : retryAttempts;\n  var interval = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : retryInterval;\n\n  return new Promise(function (resolve) {\n    return resolve(fn());\n  }).then(function (response) {\n    return response;\n  }).catch(function (err) {\n    if (maxAttempts > 1) {\n      return delay(function () {\n        return retry(fn, maxAttempts - 1);\n      }, interval);\n    } else {\n      return Promise.reject(err);\n    }\n  });\n}\n\nfunction numberFormat(number) {\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n\n  return parseInt(number).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator);\n}\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/utils.js?")},,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\n/* global dataLayer */\n\nfunction isDataLayer() {\n  return typeof dataLayer !== 'undefined';\n}\n\nfunction pushSingleSiteErrorEvent(eventData) {\n  if (isDataLayer()) {\n    var siteErrors = [eventData.errorType + ':' + eventData.moduleName + ':' + eventData.errorKey];\n    dataLayer.push({\n      event: 'DataPush.Common_siteErrorCode',\n      siteErrorCode: siteErrors\n    });\n  }\n}\n\nmodule.exports = {\n  pushContentInteractionEvent: function pushContentInteractionEvent(eventData) {\n    if (isDataLayer()) {\n      dataLayer.push({\n        event: 'EventTrigger.Common_contentInteraction',\n        category: 'Content Interaction',\n        action: eventData.actionName,\n        label: eventData.label,\n        value: eventData.value || 0\n      });\n    }\n  },\n  pushEvent: function pushEvent(eventData) {\n    if (isDataLayer()) {\n      dataLayer.push({\n        event: eventData.event,\n        category: eventData.category,\n        action: eventData.action,\n        label: eventData.label,\n        value: eventData.value || 0\n      });\n    }\n  },\n  pushVariable: function pushVariable(eventData) {\n    if (isDataLayer()) {\n      if (eventData.value !== '') {\n        dataLayer.push({\n          variable_name: eventData.name,\n          variable_value: eventData.value\n        });\n      }\n    }\n  },\n  pushClientErrorEvent: function pushClientErrorEvent(moduleName, errorKey) {\n    var eventData = {\n      errorType: 'Client',\n      moduleName: moduleName,\n      errorKey: errorKey\n    };\n    pushSingleSiteErrorEvent(eventData);\n  }\n};\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/analytics.js?")},,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOriginsFromAirports = exports.getDestinationsHoliday = exports.getOriginsHoliday = exports.getOrigins = exports.getAirports = exports.airportsReducer = undefined;\nexports.getClosestOrigin = getClosestOrigin;\nexports.getDestinations = getDestinations;\nexports.getSuggestedIataCodes = getSuggestedIataCodes;\nexports.getSuggestions = getSuggestions;\n\nvar _haversine = __webpack_require__(170);\n\nvar _haversine2 = _interopRequireDefault(_haversine);\n\nvar _isUndefined = __webpack_require__(171);\n\nvar _isUndefined2 = _interopRequireDefault(_isUndefined);\n\nvar _memoize = __webpack_require__(70);\n\nvar _memoize2 = _interopRequireDefault(_memoize);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _find = __webpack_require__(32);\n\nvar _find2 = _interopRequireDefault(_find);\n\nvar _isEmpty = __webpack_require__(226);\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _defaultsDeep = __webpack_require__(80);\n\nvar _defaultsDeep2 = _interopRequireDefault(_defaultsDeep);\n\nvar _deburr = __webpack_require__(86);\n\nvar _deburr2 = _interopRequireDefault(_deburr);\n\nvar _reduce = __webpack_require__(87);\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _utils = __webpack_require__(5);\n\nvar _config = __webpack_require__(23);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ENDPOINTS = {\n  AIRPORTS: 'service/airports',\n  ORIGINS: 'service/origins/all',\n  ORIGINS_HOLIDAY: 'service/holidays/origins',\n  DESTINATIONS_HOLIDAY: 'service/holidays/destinations',\n  DESTINATIONS: 'service/destinations',\n  ORIGINS_CLOSEST: 'service/origins/closest',\n  GEOLOCATION: 'service/geo'\n};\n// Default options for any fetch call.\nvar FETCH_OPTIONS = {\n  // Ensure any auth call is sending credentials just for the same domain,\n  // avoiding XSS credential bleeding.\n  credentials: 'same-origin'\n};\n// Responses with booleans from the old service(v2) are strings in the form of `Y/N`\n// use the const to toggle between v2 and v3 ( where Y = true, N = false).\nvar TRUE = true;\n\nvar EK_DISTANCE_UNITS = 'km';\n\nvar toJSON = function toJSON(response) {\n  return response.json();\n};\nvar readResults = function readResults(json) {\n  return json.results;\n};\nvar sortAirports = function sortAirports(airports) {\n  return airports.sort(function (a, b) {\n    var SORT_PROPERTY = 'city.longName';\n    var aProperty = (0, _get2.default)(a, SORT_PROPERTY);\n    var bProperty = (0, _get2.default)(b, SORT_PROPERTY);\n    if (aProperty < bProperty) return -1;\n    if (aProperty > bProperty) return 1;\n    return 0;\n  });\n};\n\nvar checkIsOk = function checkIsOk(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n};\n\n/**\n * Requests, parses and retrieves the results of the given `input` resource.\n *\n * @param {USVString | Request} input This defines the resource that you wish to fetch.\n * This can either be:\n *  * A `USVString` containing the direct URL of the resource you want to fetch.\n *  Some browsers accept blob: and data: as schemes.\n *  * A `Request` object.\n * @param {*} [init=FETCH_OPTIONS] An options object containing any custom settings that you want to\n * apply to the request, allows overriding or extending `FETCH_OPTIONS`.\n * Please refer to https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch\n * @returns {Promise<*>}\n */\nvar getResults = function getResults(input) {\n  var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return fetch(input, (0, _defaultsDeep2.default)({}, init, FETCH_OPTIONS)).then(checkIsOk).then(toJSON).then(readResults);\n};\n\n/**\n * Returns a new decorated list of the given `airportCodes`.\n *\n * @param {Object} airportsByIataCode map of airport details indexed by `iataCode`.\n * @param {Array<String>} airportCodes list of iataCodes to match with `airportsByIataCode`.\n * @return {Array<Object>}\n */\nvar airportsReducer = exports.airportsReducer = function airportsReducer() {\n  var airportsByIataCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var airportCodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var airportsWithDetails = airportCodes\n  // Decorate aditional data from the airports list.\n  .map(function (iataCode) {\n    return airportsByIataCode[iataCode];\n  })\n  // Remove not valid array elements like `null` or `undefined`.\n  .filter(Boolean);\n\n  return sortAirports(airportsWithDetails);\n};\n\n/**\n * Returns a list of iataCodes for the given origin.\n *\n * @param {Object} options\n * @param {string} options.iataCode desired orgin iata code.\n * @param {boolean} options.isReward classic rewards flag.\n * @returns {Promise<Array<String>>}\n */\nfunction _getDestinationsCodes(_ref) {\n  var iataCode = _ref.iataCode,\n      isReward = _ref.isReward;\n  //eslint-disable-line\n  return getResults('/' + ENDPOINTS.DESTINATIONS + '?code=' + iataCode + '&isReward=' + isReward);\n}\n\n/* eslint-disable no-underscore-dangle */\n/**\n * Returns the list of origins iata codes.\n *\n * @param {Object} options\n * @param {boolean} options.isReward classic rewards flag.\n * @returns {Promise<Array<String>>}\n */\nfunction _getOriginsCodes(_ref2) {\n  var isReward = _ref2.isReward;\n\n  return getResults('/' + ENDPOINTS.ORIGINS + '?isReward=' + isReward);\n}\n/**\n * Returns the list of origins holiday iata codes.\n *\n * @returns {Promise<Array<String>>}\n */\nfunction _getOriginsHolidayCodes() {\n  var countryCode = (0, _config.getConfig)('content.country.taxonomyKey').toLowerCase();\n  var langCode = (0, _config.getConfig)('content.language.taxonomyKey').toLowerCase();\n  var cultureCode = countryCode === 'us' ? 'en' : langCode + '-' + countryCode;\n\n  return getResults('/' + ENDPOINTS.ORIGINS_HOLIDAY + '?countryCode=' + countryCode + '&cultureCode=' + cultureCode);\n}\n\n/**\n * Returns the list of destination holiday iata codes.\n *\n * @returns {Promise<Array<String>>}\n */\nfunction _getDestinationsHolidayCodes(code) {\n  var countryCode = (0, _config.getConfig)('content.country.taxonomyKey').toLowerCase();\n  var langCode = (0, _config.getConfig)('content.language.taxonomyKey').toLowerCase();\n  var cultureCode = countryCode === 'us' ? 'en' : langCode + '-' + countryCode;\n\n  return getResults('/' + ENDPOINTS.DESTINATIONS_HOLIDAY + '?countryCode=' + countryCode + '&cultureCode=' + cultureCode + '&term=' + code);\n}\n\n/**\n * Returns language code from url parser\n *\n * @returns {String}\n */\nfunction _getLangCode() {\n  return (0, _isUndefined2.default)(window.__EK__) ? 'en' : (0, _config.getConfig)('langCode');\n}\n\n/**\n * Returns language content code from a key inside publications array\n *\n * @returns {String}\n */\nfunction _getLanguageCode() {\n  var country = void 0;\n  if (!(0, _isUndefined2.default)(window.__EK__)) {\n    country = (0, _find2.default)(window.__EK__.publications, {\n      languages: [{ href: '/' + (0, _config.getConfig)('country') + '/' + (0, _config.getConfig)('language') }]\n    });\n  }\n  if ((0, _isUndefined2.default)(country)) {\n    return _getLangCode();\n  }\n\n  var language = (0, _find2.default)(country.languages, {\n    href: '/' + (0, _config.getConfig)('country') + '/' + (0, _config.getConfig)('language')\n  });\n  if ((0, _isUndefined2.default)(language)) {\n    return _getLangCode();\n  }\n\n  return (0, _isUndefined2.default)(language.contentKey) ? _getLangCode() : language.contentKey;\n}\n\n/**\n * Returns a detailed airport list as a map by iataCode.\n *\n * @returns {Promise<Array>}\n */\nfunction _getAirportsMap() {\n  return (0, _utils.retry)(function () {\n    return getResults('/' + ENDPOINTS.AIRPORTS + '?lang=' + _getLanguageCode());\n  });\n}\n\n/**\n * Returns the client geolocation.\n *\n * @returns {Promise}\n */\nfunction getUserLocationFromClient() {\n  var clientGeoLocationConfig = String((0, _config.getConfig)('ENABLE_CLIENT_GEO_LOCATION'));\n  var allowClientLocation = ['1', 'true'].indexOf(clientGeoLocationConfig) > -1;\n\n  if (!allowClientLocation || !window.navigator || !window.navigator.geolocation) {\n    return Promise.reject();\n  }\n\n  return new Promise(function (resolve, reject) {\n    window.navigator.geolocation.getCurrentPosition(function (position) {\n      resolve({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      });\n    }, function () {\n      reject();\n    });\n  });\n}\n\n/**\n * Returns the users's geolocation from Akamai endpoint.\n *\n * @returns {Promise}\n */\nfunction getUserLocationFromAkamai() {\n  return fetch('/' + ENDPOINTS.GEOLOCATION, FETCH_OPTIONS).then(checkIsOk).then(toJSON).then(function (location) {\n    location.latitude = +location.latitude;\n    location.longitude = +location.longitude;\n    if (!location.latitude || !location.longitude) {\n      throw Error('Invalid location');\n    }\n    return location;\n  });\n}\n\n/**\n * Calculates the closest airport from user's location.\n *\n * @param {Object} airports\n * @param {Object} userLocation\n * @return {Object}\n */\nfunction calculateClosestAirport(airports, userLocation) {\n  var closest = null;\n  Object.keys(airports.airportsByIataCode).map(function (iataCode) {\n    if (airports.airportsByIataCode[iataCode].isEK !== 'Yes') {\n      return;\n    }\n    var currentAirportCountry = (0, _get2.default)(airports, 'airportsByIataCode.' + iataCode + '.country.code', '').toUpperCase();\n    if (currentAirportCountry !== (0, _get2.default)(userLocation, 'country', '').toUpperCase()) {\n      // Allow only same country airports\n      return;\n    }\n    var airportLocation = {\n      latitude: (0, _get2.default)(airports, 'airportsByIataCode.' + iataCode + '.geoCoordinates.latitude', 0),\n      longitude: (0, _get2.default)(airports, 'airportsByIataCode.' + iataCode + '.geoCoordinates.longitude', 0)\n    };\n    var distance = (0, _haversine2.default)(userLocation, airportLocation, {\n      unit: EK_DISTANCE_UNITS\n    });\n    if (!closest || closest.distance > distance) {\n      closest = airports.airportsByIataCode[iataCode];\n      closest.distance = distance;\n    }\n  });\n  return closest;\n}\n\n/**\n * Returns the closest origin from the actual location.\n *\n * @return {Promise}\n */\nfunction getClosestOrigin() {\n  return Promise.all([getAirports(), getUserLocationFromAkamai().catch(function () {\n    return getUserLocationFromClient();\n  })]).then(function (_ref3) {\n    var airports = _ref3[0],\n        userLocation = _ref3[1];\n    return calculateClosestAirport(airports, userLocation);\n  });\n}\n\n// Memoizing the results of previous call will avoid extra API calls.\nvar getAirportsMap = (0, _memoize2.default)(_getAirportsMap);\n// Memoize by default uses the first param as the key for the cache, so\n// whenever is an object the refs will always be different, serialising\n// with `JSON.stringify` is needed for a correct hash to be created.\nvar getDestinationsCodes = (0, _memoize2.default)(_getDestinationsCodes, JSON.stringify);\nvar getOriginsCodes = (0, _memoize2.default)(_getOriginsCodes, JSON.stringify);\nvar getOriginsHolidayCodes = (0, _memoize2.default)(_getOriginsHolidayCodes, JSON.stringify);\nvar getDestinationsHolidayCodes = (0, _memoize2.default)(_getDestinationsHolidayCodes, JSON.stringify);\n\n/**\n * Returns airports details as map, origins and destinations.\n *\n * @typedef {Object} AirportsDetails\n * @property {Object} airportsByIataCode Map of airports indexed by `iataCode`\n * @property {Array<String>} originsCodes Collection of iataCodes valid as a origin.\n * @property {Array<String>} destinationsCodes Collection of iataCodes valid as a destination.\n *\n * @returns {Promise<AirportsDetails>}\n */\nfunction _getAirports() {\n  var filterByPropertyTrue = function filterByPropertyTrue(list, property) {\n    return list.filter(function (e) {\n      return e[property] === TRUE;\n    });\n  };\n  var pickIataCodes = function pickIataCodes(airports) {\n    return airports.map(function (_ref4) {\n      var iataCode = _ref4.iataCode;\n      return iataCode;\n    });\n  };\n\n  return getAirportsMap().then(function (airportsByIataCode) {\n    // Transliterate special characters from airport names\n    airportsByIataCode = (0, _reduce2.default)(airportsByIataCode, _cleanAirportNames, {});\n\n    // Construct a simple array of airports so we can filter it easily.\n    var airports = Object.keys(airportsByIataCode).map(function (iataCode) {\n      return airportsByIataCode[iataCode];\n    });\n    var originsCodes = pickIataCodes(filterByPropertyTrue(airports, 'showAsOrigin'));\n    return {\n      airportsByIataCode: airportsByIataCode,\n      originsCodes: originsCodes\n    };\n  }).catch(function (error) {\n    return {\n      error: error,\n      airportsByIataCode: {},\n      originsCodes: []\n    };\n  });\n}\n\nfunction _cleanAirportNames(result, airport, iataCode) {\n  result[iataCode] = (0, _assign2.default)(airport, {\n    cleanCity: {\n      longName: (0, _deburr2.default)(airport.city.longName),\n      shortName: (0, _deburr2.default)(airport.city.shortName)\n    },\n    cleanCountry: {\n      longName: (0, _deburr2.default)(airport.country.longName),\n      shortName: (0, _deburr2.default)(airport.country.shortName)\n    },\n    cleanRegion: {\n      longName: (0, _deburr2.default)(airport.region.longName)\n    },\n    cleanLongName: (0, _deburr2.default)(airport.longName)\n  });\n  return result;\n}\n\nvar getAirports = exports.getAirports = (0, _memoize2.default)(_getAirports);\n\n/**\n * Returns a detailed list of origins.\n *\n * @returns {Promise<Array>}\n */\nfunction _getOrigins() {\n  var isReward = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var promises = [getAirports(), getOriginsCodes({ isReward: isReward })];\n\n  return Promise.all(promises)\n  // Create a nice list of airports with the whole details.\n  .then(function (_ref5) {\n    var airports = _ref5[0],\n        originsCodes = _ref5[1];\n    return airportsReducer(airports.airportsByIataCode, originsCodes);\n  });\n}\n\nvar getOrigins = exports.getOrigins = (0, _memoize2.default)(_getOrigins);\n\n/**\n * Returns a detailed list of origins holiday.\n * Note: isReward is not used, but added because Safari expects some argument\n *\n * @returns {Promise<Array>}\n */\nfunction _getOriginsHoliday() {\n  var isReward = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var promises = [getOriginsHolidayCodes({ isReward: isReward })];\n\n  return Promise.all(promises);\n}\n\nvar getOriginsHoliday = exports.getOriginsHoliday = (0, _memoize2.default)(_getOriginsHoliday);\n\n/**\n * Returns a detailed list of destinations holiday.\n *\n * @returns {Promise<Array>}\n */\nfunction _getDestinationsHoliday(code) {\n  var promises = [getDestinationsHolidayCodes(code)];\n\n  return Promise.all(promises);\n}\n\nvar getDestinationsHoliday = exports.getDestinationsHoliday = (0, _memoize2.default)(_getDestinationsHoliday);\n\n/**\n * Returns a detailed list of origins.\n *\n * @returns {Promise<Array>}\n */\nfunction _getOriginsFromAirports() {\n  return getAirports().then(function (_ref6) {\n    var airportsByIataCode = _ref6.airportsByIataCode,\n        originsCodes = _ref6.originsCodes;\n    return airportsReducer(airportsByIataCode, originsCodes);\n  });\n}\n\nvar getOriginsFromAirports = exports.getOriginsFromAirports = (0, _memoize2.default)(_getOriginsFromAirports);\n\n/**\n * Returns a detailed list of destinations for a given origin `iataCode`.\n *\n * @param {String} iataCode origin airport iataCode to search from.\n * @returns {Promise<Array>} Collection of destinations with details.\n */\nfunction getDestinations() {\n  var iataCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var isReward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var promises = [getAirports(), getDestinationsCodes({ iataCode: iataCode, isReward: isReward })];\n\n  return Promise.all(promises)\n  // Create a nice list of airports with the whole details.\n  .then(function (_ref7) {\n    var airports = _ref7[0],\n        destinationsCodes = _ref7[1];\n\n    if (airports.error) return [];\n    return airportsReducer(airports.airportsByIataCode, destinationsCodes);\n  });\n}\n\nfunction getSuggestedIataCodes(airportDetails) {\n  var suggestion = (0, _get2.default)(airportDetails, 'sellingPOS');\n  return (0, _isEmpty2.default)(suggestion) ? [] : [suggestion];\n}\n\nfunction getSuggestions(iataCode) {\n  return getAirports().then(function (_ref8) {\n    var airportsByIataCode = _ref8.airportsByIataCode,\n        error = _ref8.error;\n\n    if (error) return [];\n    var suggestions = getSuggestedIataCodes(airportsByIataCode[iataCode]);\n    return airportsReducer(airportsByIataCode, suggestions);\n  });\n}\n\n/* eslint-enable no-underscore-dangle */\n\n//# sourceURL=webpack:///./src/common/scripts/services/airports.js?")},,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getConfig = getConfig;\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = (0, _assign2.default)({}, (0, _get2.default)(window, '__EK__.config'), (0, _get2.default)(window, '__EK__.env'), (0, _get2.default)(window, '__EK__.urlparser'));\n\nfunction getConfig(key) {\n  return (0, _get2.default)(config, key);\n}\n\n//# sourceURL=webpack:///./src/common/scripts/common-helpers/config.js?")},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\n/* global window */\nvar get = __webpack_require__(4);\nvar resource = __webpack_require__(0);\n// Some common format strings\nvar masks = {\n  default: 'ddd MMM DD yyyy HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'h:mm TT',\n  mediumTime: 'h:mm:ss TT',\n  longTime: 'h:mm:ss TT Z',\n  isoDate: 'YYYY-MM-DD',\n  isoTime: 'HH:mm:ss',\n  isoDateTime: \"YYYY-MM-DD'T'HH:mm:ss\",\n  isoUtcDateTime: \"UTC:YYYY-MM-DD'T'HH:mm:ss'Z'\"\n};\n\nvar monthLabel = '';\nvar monthShortLabel = '';\nvar dayLabel = '';\nvar dayShortLabel = '';\n\n/**\n * Passing date through Date applies Date.parse and returns timestamp\n * \n * @param {string} date \n * @return {string} timestamp \n */\nvar parseDate = function parseDate(date) {\n  var parsed = Date.parse(date);\n  if (!isNaN(parsed)) {\n    return parsed;\n  }\n\n  return Date.parse(date.replace(/-/g, '/'));\n};\n\n/**\n * Returns formatted date.\n * \n * @param {string} date \n * @param {*} mask \n * @param {*} utc \n * @return {string}\n */\nfunction dateFormat(date, mask, utc) {\n  // eslint-disable-line wrap-iife\n  var token = /d{1,4}|D{1,2}|M{1,4}|YY(?:YY)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g;\n  var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n  var timezoneClip = /[^-+\\dA-Z]/g;\n  var pad = function pad(val, len) {\n    val = String(val); // eslint-disable-line no-param-reassign\n    len = len || 2; // eslint-disable-line no-param-reassign\n    while (val.length < len) {\n      val = '0' + val;\n    } // eslint-disable-line no-param-reassign\n    return val;\n  };\n\n  var configLabels = {\n    monthLong: monthLabel.split(','),\n    monthShort: monthShortLabel.split(','),\n    dayLong: dayLabel.split(','),\n    dayShort: dayShortLabel.split(',')\n\n    // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n  };if (arguments.length === 1 && Object.prototype.toString.call(date) === '[object String]' && !/\\d/.test(date)) {\n    mask = date; // eslint-disable-line no-param-reassign\n    date = undefined; // eslint-disable-line no-param-reassign\n  }\n\n  // Passing date through Date applies Date.parse, if necessary\n  date = date ? new Date(parseDate(date)) : new Date(); // eslint-disable-line no-param-reassign\n  if (isNaN(date)) throw SyntaxError('invalid date'); // eslint-disable-line no-restricted-globals\n\n  mask = String(masks[mask] || mask || masks.default); // eslint-disable-line no-param-reassign, max-len\n\n  // Allow setting the utc argument via the mask\n  if (mask.slice(0, 4) === 'UTC:') {\n    mask = mask.slice(4); // eslint-disable-line no-param-reassign\n    utc = true; // eslint-disable-line no-param-reassign\n  }\n\n  // Internationalization strings\n  var i18n = {\n    dayNames: configLabels.dayShort.concat(configLabels.dayLong),\n    monthNames: configLabels.monthShort.concat(configLabels.monthLong)\n  };\n\n  var _ = utc ? 'getUTC' : 'get';\n  var d = date[_ + 'Date']();\n  var D = date[_ + 'Day']();\n  var M = date[_ + 'Month']();\n  var y = date[_ + 'FullYear']();\n  var H = date[_ + 'Hours']();\n  var m = date[_ + 'Minutes']();\n  var s = date[_ + 'Seconds']();\n  var L = date[_ + 'Milliseconds']();\n  var o = utc ? 0 : date.getTimezoneOffset();\n  var flags = {\n    D: d,\n    DD: pad(d),\n    ddd: i18n.dayNames[D],\n    dddd: i18n.dayNames[D + 7],\n    M: M + 1,\n    MM: pad(M + 1),\n    MMM: i18n.monthNames[M],\n    MMMM: i18n.monthNames[M + 12],\n    YY: String(y).slice(2),\n    YYYY: y,\n    h: H % 12 || 12,\n    hh: pad(H % 12 || 12),\n    H: H,\n    HH: pad(H),\n    m: m,\n    mm: pad(m),\n    s: s,\n    ss: pad(s),\n    l: pad(L, 3),\n    L: pad(L > 99 ? Math.round(L / 10) : L),\n    t: H < 12 ? 'a' : 'p',\n    tt: H < 12 ? 'am' : 'pm',\n    T: H < 12 ? 'A' : 'P',\n    TT: H < 12 ? 'AM' : 'PM',\n    Z: utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n    o: (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n    S: ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 !== 10) * d % 10]\n  };\n\n  return mask.replace(token, function ($0) {\n    return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\n  });\n}\n\n/**\n * Returns formatted date.\n * \n * @param {string} date \n * @param {object} options Handlebars options object\n * @return {string}\n */\nmodule.exports = function formatResourceDate(date, options) {\n  // eslint-disable-line func-names\n  var _options$hash = options.hash,\n      key = _options$hash.key,\n      format = _options$hash.format;\n\n  // Server side or client side data structure for the content config.\n  // TODO(techdebt): Try to have the same data structure\n\n  var config = get(options, 'data.root.metadata.siteConfigurations') || get(options, 'data.root.config') || get(window, '__EK__.config');\n\n  // It will default to `options.format` if there is no key present for that pattern.\n  var pattern = get(config, 'content.language.metadata.cultureConfigurations.content.' + key + '.title', format);\n\n  monthLabel = resource('BookManage/search-flight/calendar-months__text', options);\n  monthShortLabel = resource('BookManage/search-flight/calendar-months-short__text', options);\n  dayLabel = resource('BookManage/search-flight/calendar-days__text', options);\n  dayShortLabel = resource('BookManage/search-flight/calendar-days-short__text', options);\n\n  return dateFormat(date, pattern);\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/formatResourceDate.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.collapseAllPopups = collapseAllPopups;\nexports.collapseAllPopupsExcept = collapseAllPopupsExcept;\nexports.registerPopup = registerPopup;\nvar mobileBreakpoint = exports.mobileBreakpoint = 1024;\n\nvar eventKeyCode = exports.eventKeyCode = { ESC: 27, TAB: 9, ENTER: 13, ARROW_DOWN: 40, ARROW_UP: 38, ARROW_LEFT: 37, ARROW_RIGHT: 39 };\n\nvar fuseOptions = exports.fuseOptions = {\n    shouldSort: true,\n    findAllMatches: true,\n    tokenize: true,\n    matchAllTokens: true,\n    includeScore: true,\n    includeMatches: true,\n    threshold: 0.1,\n    location: 0,\n    distance: 0,\n    maxPatternLength: 32,\n    minMatchCharLength: 2,\n    keys: [{ name: 'languages.countryTitle', weight: 0.9 }, { name: 'code', weight: 0.8 }, { name: 'languages.alternateNames', weight: 0.6 }, { name: 'a3Code', weight: 0.4 }, { name: 'languages.language', weight: 0.3 }, { name: 'languages.languageTitle', weight: 0.2 }]\n};\n\n// global nav popup intances should be added to this object.\n// So that it can be accessed and manipulated from other popup instances.\n\nif (typeof window !== 'undefined' && window.popups === undefined) {\n    window.popups = {};\n}\n\nvar popups = window.popups;\n\n/**\n * Collapse all the registered popups \n */\nfunction collapseAllPopups() {\n    for (var key in popups) {\n        window.popups[key].collapse();\n    }\n}\n\n/**\n * Collapse all the popups except passes popup\n * @param {String} name - name of the popup that should not collapse\n */\nfunction collapseAllPopupsExcept(name) {\n    for (var key in popups) {\n        if (key != name) {\n            window.popups[key].collapse();\n        }\n    }\n}\n\n/**\n * Register the popup\n * @param {String} name - name of the popup\n * @param {Object} popup - the popup instance\n */\nfunction registerPopup(name, popup) {\n    popups[name] = popup;\n    window.popups = popups;\n}\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/nav-utils.js?")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.guid = guid;\nexports.apply = apply;\nexports.registerElement = registerElement;\n/* global document, navigator, window */\nvar DOC = document;\nvar ua = navigator.userAgent.toLowerCase();\n\nvar check = function check(r) {\n  return r.test(ua);\n};\n\nvar docMode = exports.docMode = DOC.documentMode;\nvar isStrict = exports.isStrict = DOC.compatMode === 'CSS1Compat';\nvar isOpera = exports.isOpera = check(/opera/);\nvar isChrome = exports.isChrome = check(/\\bchrome\\b/);\nvar isWebKit = exports.isWebKit = check(/webkit/);\nvar isSafari = exports.isSafari = !isChrome && check(/safari/);\nvar isSafari2 = exports.isSafari2 = isSafari && check(/applewebkit\\/4/); // unique to Safari 2\nvar isSafari3 = exports.isSafari3 = isSafari && check(/version\\/3/);\nvar isSafari4 = exports.isSafari4 = isSafari && check(/version\\/4/);\nvar isIE = exports.isIE = !isOpera && check(/msie/);\nvar isIE7 = exports.isIE7 = isIE && (check(/msie 7/) || docMode === 7);\nvar isIE8 = exports.isIE8 = isIE && check(/msie 8/) && docMode !== 7;\nvar isIE9 = exports.isIE9 = isIE && check(/msie 9/);\nvar isIE6 = exports.isIE6 = isIE && !isIE7 && !isIE8 && !isIE9;\nvar isGecko = exports.isGecko = !isWebKit && check(/gecko/);\nvar isGecko2 = exports.isGecko2 = isGecko && check(/rv:1\\.8/);\nvar isGecko3 = exports.isGecko3 = isGecko && check(/rv:1\\.9/);\nvar isBorderBox = exports.isBorderBox = isIE && !isStrict;\nvar isWindows = exports.isWindows = check(/windows|win32/);\nvar isMac = exports.isMac = check(/macintosh|mac os x/);\nvar isAir = exports.isAir = check(/adobeair/);\nvar isLinux = exports.isLinux = check(/linux/);\nvar isSecure = exports.isSecure = /^https/i.test(window.location.protocol);\nvar isMobile = exports.isMobile = window.outerWidth <= 768;\n// custom element prefix\nvar PREFIX = exports.PREFIX = 'eol';\n\nvar isFunction = exports.isFunction = function isFunction(val) {\n  return typeof val === 'function';\n};\nvar isObject = exports.isObject = function isObject(val) {\n  return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && val !== null;\n};\nvar isString = exports.isString = function isString(val) {\n  return typeof val === 'string';\n};\nvar isSymbol = exports.isSymbol = function isSymbol(val) {\n  return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'symbol';\n};\nvar isUndefined = exports.isUndefined = function isUndefined(val) {\n  return typeof val === 'undefined';\n};\n\n/**\n * Generates random GUID\n * @return {String} GUID\n */\nfunction guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n  return s4() + '-' + s4() + '-' + s4() + '-' + s4();\n}\n\n/**\n * Copies all the properties of config to obj.\n * Object.assign can not be used as it won't be supported in IE9\n * @param {Object} obj The receiver of the properties\n * @param {Object} config The source of the properties\n * @param {Object} defaults A different object that will also be applied for default values\n * @return {Object} returns obj\n */\nfunction apply(o, c, defaults) {\n  if (defaults) {\n    apply(o, defaults);\n  }\n\n  if (o && c && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n    for (var p in c) {\n      // eslint-disable-line guard-for-in, no-restricted-syntax\n      o[p] = c[p]; // eslint-disable-line no-param-reassign\n    }\n  }\n\n  return o;\n}\n\nfunction registerElement(el, proto) {\n  if (!('elementRegistry' in window)) {\n    window.elementRegistry = {};\n  }\n  if (!window.elementRegistry[el]) {\n    document.registerElement(el, proto);\n    window.elementRegistry[el] = proto;\n  }\n}\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/core/Ek.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* global window */\nvar config = window.CalendarConfig;\nif (!config) {\n  config = {\n    monthLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    dayLong: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    dayShortest: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n    firstDay: 1,\n    dateFormat: 'DD MMM YY',\n    dateFormatTitle: 'MMMM YYYY',\n    srDateFormat: 'dddd, DD MMMM YYYY'\n  };\n}\n\n/*\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\nvar dateFormat = exports.dateFormat = function () {\n  // eslint-disable-line wrap-iife\n  var token = /d{1,4}|D{1,2}|M{1,4}|YY(?:YY)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g;\n  var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n  var timezoneClip = /[^-+\\dA-Z]/g;\n  var pad = function pad(val, len) {\n    val = String(val); // eslint-disable-line no-param-reassign\n    len = len || 2; // eslint-disable-line no-param-reassign\n    while (val.length < len) {\n      val = '0' + val;\n    } // eslint-disable-line no-param-reassign\n    return val;\n  };\n\n  // Regexes and supporting functions are cached through closure\n  return function (date, mask, utc) {\n    var dF = dateFormat;\n\n    // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n    if (arguments.length === 1 && Object.prototype.toString.call(date) === '[object String]' && !/\\d/.test(date)) {\n      mask = date; // eslint-disable-line no-param-reassign\n      date = undefined; // eslint-disable-line no-param-reassign\n    }\n\n    // Passing date through Date applies Date.parse, if necessary\n    date = date ? new Date(date) : new Date(); // eslint-disable-line no-param-reassign\n    if (isNaN(date)) throw SyntaxError('invalid date'); // eslint-disable-line no-restricted-globals\n\n    mask = String(dF.masks[mask] || mask || dF.masks.default); // eslint-disable-line no-param-reassign, max-len\n\n    // Allow setting the utc argument via the mask\n    if (mask.slice(0, 4) === 'UTC:') {\n      mask = mask.slice(4); // eslint-disable-line no-param-reassign\n      utc = true; // eslint-disable-line no-param-reassign\n    }\n\n    // Internationalization strings\n    dF.i18n = {\n      dayNames: config.dayShort.concat(config.dayLong),\n      monthNames: config.monthShort.concat(config.monthLong)\n    };\n\n    var _ = utc ? 'getUTC' : 'get';\n    var d = date[_ + 'Date']();\n    var D = date[_ + 'Day']();\n    var M = date[_ + 'Month']();\n    var y = date[_ + 'FullYear']();\n    var H = date[_ + 'Hours']();\n    var m = date[_ + 'Minutes']();\n    var s = date[_ + 'Seconds']();\n    var L = date[_ + 'Milliseconds']();\n    var o = utc ? 0 : date.getTimezoneOffset();\n    var flags = {\n      D: d,\n      DD: pad(d),\n      ddd: dF.i18n.dayNames[D],\n      dddd: dF.i18n.dayNames[D + 7],\n      M: M + 1,\n      MM: pad(M + 1),\n      MMM: dF.i18n.monthNames[M],\n      MMMM: dF.i18n.monthNames[M + 12],\n      YY: String(y).slice(2),\n      YYYY: y,\n      h: H % 12 || 12,\n      hh: pad(H % 12 || 12),\n      H: H,\n      HH: pad(H),\n      m: m,\n      mm: pad(m),\n      s: s,\n      ss: pad(s),\n      l: pad(L, 3),\n      L: pad(L > 99 ? Math.round(L / 10) : L),\n      t: H < 12 ? 'a' : 'p',\n      tt: H < 12 ? 'am' : 'pm',\n      T: H < 12 ? 'A' : 'P',\n      TT: H < 12 ? 'AM' : 'PM',\n      Z: utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n      o: (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n      S: ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 !== 10) * d % 10]\n    };\n\n    return mask.replace(token, function ($0) {\n      return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\n    });\n  };\n}();\n\n// Some common format strings\ndateFormat.masks = {\n  default: 'ddd MMM dd yyyy HH:mm:ss',\n  shortDate: 'M/d/yy',\n  mediumDate: 'MMM d, yyyy',\n  longDate: 'MMMM d, yyyy',\n  fullDate: 'dddd, MMMM d, yyyy',\n  shortTime: 'h:mm TT',\n  mediumTime: 'h:mm:ss TT',\n  longTime: 'h:mm:ss TT Z',\n  isoDate: 'yyyy-MM-dd',\n  isoTime: 'HH:mm:ss',\n  isoDateTime: \"yyyy-MM-dd'T'HH:mm:ss\",\n  isoUtcDateTime: \"UTC:yyyy-MM-dd'T'HH:mm:ss'Z'\"\n};\n\nvar CalendarConfig = exports.CalendarConfig = config;\n\nvar TYPES = exports.TYPES = {\n  ONEWAY: 1,\n  RETURN: 2\n};\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/elements/CalendarConfig.js?")},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * Returns icon related to the location type.\n * \n * @param {object} location Location details\n * @return {string}\n */\nmodule.exports = function locationicon(location) {\n  var tailfin = '<i class=\"icon icon-tailfin-ek\" aria-hidden=\"true\"></i>';\n  var bus = '<i class=\"icon icon-bus\" aria-hidden=\"true\"></i>';\n  var train = '<i class=\"icon icon-train\" aria-hidden=\"true\"></i>';\n  if (location.stationType === '1') return bus;\n  if (location.stationType === '2') return train;\n  if (location.isEK === 'Yes') return tailfin;\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/locationicon.js?")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getmytrips = getmytrips;\n\nvar _memoize = __webpack_require__(70);\n\nvar _memoize2 = _interopRequireDefault(_memoize);\n\nvar _defaultsDeep = __webpack_require__(80);\n\nvar _defaultsDeep2 = _interopRequireDefault(_defaultsDeep);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Default options for any fetch call.\nvar FETCH_OPTIONS = {\n  // Ensure any auth call is sending credentials just for the same domain,\n  // avoiding XSS credential bleeding.\n  credentials: 'same-origin'\n};\n\nvar toJSON = function toJSON(response) {\n  return response.json();\n};\n\nvar ENDPOINTS = {\n  mytrips: 'service/mytrips'\n};\n\n/**\n * Requests, parses and retrieves the results of the given `input` resource.\n *\n * @param {USVString | Request} input This defines the resource that you wish to fetch.\n * This can either be:\n *  * A `USVString` containing the direct URL of the resource you want to fetch.\n *  Some browsers accept blob: and data: as schemes.\n *  * A `Request` object.\n * @param {*} [init=FETCH_OPTIONS] An options object containing any custom settings that you want to\n * apply to the request, allows overriding or extending `FETCH_OPTIONS`.\n * Please refer to https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch\n * @returns {Promise<*>}\n */\nvar getResults = function getResults(input) {\n  var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return fetch(input, (0, _defaultsDeep2.default)({}, init, FETCH_OPTIONS)).then(checkIsOk).then(toJSON).catch(function (err) {\n    console.log(err);\n  });\n};\nvar getmytripsinfo = (0, _memoize2.default)(_getmytrips);\nvar checkIsOk = function checkIsOk(response) {\n  if (!response.ok) {\n    console.log(response.statusText);\n  }\n  return response;\n};\n\nfunction getmytrips() {\n  var promises = [getmytripsinfo()];\n\n  return Promise.all(promises).then(function (_ref) {\n    var mytripsinfo = _ref[0];\n\n    if (mytripsinfo == null) return [];\n    return mytripsinfo;\n  });\n}\n/**\n * call the my trips route.\n *\n */\nfunction _getmytrips() {\n  return getResults('/' + ENDPOINTS.mytrips + '?' + new Date().getTime());\n}\n\n//# sourceURL=webpack:///./src/common/scripts/services/mytrips.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar moment = __webpack_require__(8);\n\n/**\n * Returns constructed URL based on provided params.\n * \n * @param {string} type \n * @param {string} resource \n * @param {string} flightNumber \n * @param {string} date \n * @return {string}\n */\nmodule.exports = function deepLink(type, resource, flightNumber, date) {\n  var formattedFlightNumber = flightNumber && flightNumber.replace('EK', '');\n  var formattedDate = date && moment(date).format('YYMMDD');\n  var url = '';\n  var query = '';\n\n  switch (type) {\n    case 'womf':\n      {\n        url = resource.url;\n        query = '?service=home&FlNo=' + formattedFlightNumber + '&depDate=' + formattedDate;\n      }\n      break;\n    case 'status':\n      {\n        url = resource.url;\n        query = '?FlightNumber=' + formattedFlightNumber + '&DateSelected=' + formattedDate;\n      }\n      break;\n    case 'womf-upcoming-flights':\n      {\n        url = resource.url;\n      }\n      break;\n    case 'status-upcoming-flights':\n      {\n        url = resource.url;\n      }\n      break;\n    default:\n      break;\n  }\n\n  return '' + url + query;\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/deep-link.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _localStorage = __webpack_require__(427);\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _cookieStorage = __webpack_require__(428);\n\nvar _cookieStorage2 = _interopRequireDefault(_cookieStorage);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_PREFIX = 'EK:';\nvar NO_PREFIX = 0;\n\nvar STORAGE_TYPE = {\n  DEFAULT: 0,\n  LOCAL_STORAGE: 1,\n  COOKIE: 2\n};\n\nvar Store = function () {\n  function Store(options) {\n    _classCallCheck(this, Store);\n\n    this.options = (0, _assign2.default)({}, { type: STORAGE_TYPE.DEFAULT }, options);\n    if (!this.options.prefix) {\n      this.options.noPrefix = true;\n    }\n\n    switch (this.options.type) {\n      case STORAGE_TYPE.LOCAL_STORAGE:\n        if ((0, _localStorage.hasLocalStorage)()) {\n          this.storageProvider = new _localStorage2.default();\n        } else if ((0, _cookieStorage.hasCookies)()) {\n          this.storageProvider = new _cookieStorage2.default();\n        } else {\n          console.error('LocalStorage and Cookie are not supported in this browser');\n        }\n        break;\n      case STORAGE_TYPE.COOKIE:\n        if ((0, _cookieStorage.hasCookies)()) {\n          this.storageProvider = new _cookieStorage2.default();\n        } else {\n          console.error('Cookie is not supported in this browser');\n        }\n        break;\n      default:\n        if ((0, _localStorage.hasLocalStorage)()) {\n          this.storageProvider = new _localStorage2.default();\n        } else if ((0, _cookieStorage.hasCookies)()) {\n          this.storageProvider = new _cookieStorage2.default();\n        } else {\n          console.error('LocalStorage and Cookie are not supported in this browser');\n        }\n    }\n  }\n\n  Store.getStorageTypes = function getStorageTypes() {\n    return STORAGE_TYPE;\n  };\n\n  Store.prototype.set = function set(key, value) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!key || !value) {\n      throw new TypeError('key and value parameters are required.');\n    }\n    var queryKey = this.getPrefixedKey(key, (0, _assign2.default)(this.options, options));\n\n    try {\n      if (typeof value === 'string') {\n        this.storageProvider.setItem(queryKey, value, options);\n      } else {\n        this.storageProvider.setItem(queryKey, JSON.stringify(value), options);\n      }\n    } catch (e) {\n      console.warn('Store didn\\'t successfully save the ' + key + ' : ' + value + ' pair, because the localStorage is full.');\n    }\n  };\n\n  Store.prototype.get = function get(key, missing) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { json: true };\n\n    if (!key) {\n      throw new TypeError('key parameter is required.');\n    }\n    var queryKey = this.getPrefixedKey(key, (0, _assign2.default)(this.options, options));\n    var value = void 0;\n\n    try {\n      if (options.json) {\n        value = JSON.parse(this.storageProvider.getItem(queryKey));\n      } else {\n        value = this.storageProvider.getItem(queryKey);\n      }\n    } catch (e) {\n      value = null;\n    }\n\n    if (!value) {\n      return missing;\n    } else {\n      return value;\n    }\n  };\n\n  Store.prototype.getAll = function getAll(includeKeys) {\n    var _this = this;\n\n    var keys = this.keys();\n    if (includeKeys) {\n      return keys.reduce(function (accum, key) {\n        var tempObj = {};\n        tempObj[key] = _this.get(key);\n        accum.push(tempObj);\n        return accum;\n      }, []);\n    }\n\n    return keys.map(function (key) {\n      return _this.get(key);\n    });\n  };\n\n  Store.prototype.keys = function keys() {\n    var prefix = this.options && this.options.prefix || DEFAULT_PREFIX;\n    var keys = [];\n    var allKeys = this.storageProvider.getKeys();\n\n    if (prefix.length === NO_PREFIX) {\n      return allKeys;\n    }\n\n    allKeys.forEach(function (key) {\n      if (key.indexOf(prefix) !== -1) {\n        keys.push(key.replace(prefix, ''));\n      }\n    });\n\n    return keys;\n  };\n\n  Store.prototype.remove = function remove(key) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!key) {\n      throw new TypeError('key parameter is required.');\n    }\n    var queryKey = this.getPrefixedKey(key, (0, _assign2.default)(this.options, options));\n    this.storageProvider.removeItem(queryKey);\n  };\n\n  Store.prototype.flush = function flush() {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var prefix = this.options && this.options.prefix || DEFAULT_PREFIX;\n    if (prefix.length !== NO_PREFIX) {\n      this.keys().forEach(function (key) {\n        return _this2.storageProvider.removeItem(_this2.getPrefixedKey(key));\n      });\n    } else {\n      this.storageProvider.clearAll();\n    }\n  };\n\n  Store.prototype.getPrefixedKey = function getPrefixedKey(key) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (options.noPrefix) {\n      return key;\n    } else if (options.prefix) {\n      return options.prefix + key;\n    } else {\n      return DEFAULT_PREFIX + key;\n    }\n  };\n\n  return Store;\n}();\n\nexports.default = Store;\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/storage/store.js?")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _incrementalDom = __webpack_require__(100);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Composable2 = __webpack_require__(154);\n\nvar _Composable3 = _interopRequireDefault(_Composable2);\n\nvar _ComponentRegistry = __webpack_require__(155);\n\nvar _ComponentRegistry2 = _interopRequireDefault(_ComponentRegistry);\n\nvar _Ek = __webpack_require__(41);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global HTMLElement */\n// eslint-disable-line import/no-extraneous-dependencies\n// eslint-disable-line import/no-extraneous-dependencies\n\n\n/**\n * @class ComponentBase\n * @extends Composable<HTMLElement>\n */\nvar ComponentBase = function (_Composable) {\n  _inherits(ComponentBase, _Composable);\n\n  function ComponentBase() {\n    _classCallCheck(this, ComponentBase);\n\n    return _possibleConstructorReturn(this, _Composable.apply(this, arguments));\n  }\n\n  /**\n   * @constructor\n   */\n  ComponentBase.prototype.createdCallback = function createdCallback() {\n    if (_Composable.prototype.createdCallback) {\n      _Composable.prototype.createdCallback.call(this);\n    }\n    // add an attribute & css class when the element is defined\n    this.$el = (0, _jquery2.default)(this);\n\n    // Register the component into the global registry.\n    _ComponentRegistry2.default.register(this);\n  };\n\n  /**\n   * Web component v0 lifecycle callback.\n   * This will be executed when the component is attached to the DOM.\n   */\n\n\n  ComponentBase.prototype.attachedCallback = function attachedCallback() {\n    if (_Composable.prototype.attachedCallback) {\n      _Composable.prototype.attachedCallback.call(this);\n    }\n\n    this.$el.attr('defined', '');\n    this.$el.addClass(this.cls);\n  };\n\n  /**\n   * Web component v0 lifecycle callback.\n   * This will be executed when the component is dettached to the DOM.\n   */\n\n\n  ComponentBase.prototype.detachedCallback = function detachedCallback() {\n    // Remove the reference from the registry\n    _ComponentRegistry2.default.unregister(this);\n  };\n\n  /**\n   * Observed attributes are the web component V1 spec Property for a component.\n   * Any items in this array will treat as the valid attribute for the element.\n   * Changing this attributes on the element will trigger the attribute changed callback.\n   * @return {Array<String>} observedAttributes\n   */\n\n\n  /**\n   * Renders the renderedCallback virtual elements to the parent div\n   * Wrapper for the update\n   * @param {HTMLElement} el\n   * @param {Function} callback\n   */\n  ComponentBase.prototype.render = function render(el, callback) {\n    this.update(el, callback);\n  };\n\n  /**\n   * Update the virtual dom\n   * @param {HTMLElement} el\n   * @param {Function} callback\n   */\n\n\n  ComponentBase.prototype.update = function update(el, callback) {\n    // eslint-disable-line class-methods-use-this\n    (0, _incrementalDom.patchInner)(el, function () {\n      var possibleFn = callback(el);\n      if ((0, _Ek.isFunction)(possibleFn)) {\n        possibleFn();\n      } else if (Array.isArray(possibleFn)) {\n        possibleFn.forEach(function (fn) {\n          if ((0, _Ek.isFunction)(fn)) {\n            fn();\n          }\n        });\n      }\n    });\n  };\n\n  /**\n   * Shows this list element at x and y position\n   * @param {Number} x - left\n   * @param {Number} y - top\n   */\n\n\n  ComponentBase.prototype.showAt = function showAt(x, y) {\n    this.setPosition(x, y);\n    this.visible = true;\n  };\n\n  /**\n   * Set the x & y position\n   * @param {Number} x - left\n   * @param {Number} y - top\n   */\n\n\n  ComponentBase.prototype.setPosition = function setPosition(x, y) {\n    this.style.left = x;\n    this.style.top = y;\n  };\n\n  _createClass(ComponentBase, [{\n    key: 'visible',\n\n\n    /**\n     * Property to indicate the visibility state.\n     * Setting this value to false will hide the element.\n     * @returns {Boolean} visible\n     */\n    get: function get() {\n      if (!this.isVisible) {\n        // Check if any attribute is present on the element.\n        // <ek-element visible=\"false\" />\n        this.isVisible = !(this.getAttribute('visible') === 'false');\n      }\n      return this.isVisible;\n    }\n\n    /**\n     * Property to indicate the visibility state.\n     * Setting this value to false will hide the element.\n     * @param {Boolean} value\n     */\n    ,\n    set: function set(value) {\n      this.isVisible = value;\n      if (value === false) this.style.display = 'none';else this.style.display = 'initial';\n    }\n\n    /**\n     * Get the generated component Id. This is a readable property\n     * @return {String} componentId\n     */\n\n  }, {\n    key: 'componentId',\n    get: function get() {\n      return this.getAttribute('data-component-id');\n    }\n\n    /**\n     * component name, used for internal purpose. As the tag names can be changed there is no way to\n     * distinguish between the elements. So adding a readonly name property to the element;\n     * @return {String} name - internal name of the component\n     */\n\n  }, {\n    key: 'name',\n    get: function get() {\n      // eslint-disable-line class-methods-use-this\n      return 'component';\n    }\n  }], [{\n    key: 'observedAttributes',\n    get: function get() {\n      return ['visible'];\n    }\n  }]);\n\n  return ComponentBase;\n}((0, _Composable3.default)(HTMLElement));\n\nexports.default = ComponentBase;\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/core/ComponentBase.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (elem, name) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (opts.bubbles === undefined) {\n    opts.bubbles = true; // eslint-disable-line no-param-reassign\n  }\n  if (opts.cancelable === undefined) {\n    opts.cancelable = true; // eslint-disable-line no-param-reassign\n  }\n  if (opts.composed === undefined) {\n    opts.composed = true; // eslint-disable-line no-param-reassign\n  }\n  return elem.dispatchEvent(createCustomEvent(name, opts));\n};\n\n/* global window, document */\nvar root = window;\n\nvar Event = function (TheEvent) {\n  if (TheEvent) {\n    try {\n      new TheEvent('emit-init'); // eslint-disable-line no-new\n    } catch (e) {\n      return undefined;\n    }\n  }\n  return TheEvent;\n}(root.Event);\n\nfunction createCustomEvent(name) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var detail = opts.detail;\n\n  delete opts.detail; // eslint-disable-line no-param-reassign\n\n  var e = void 0;\n  if (Event) {\n    e = new Event(name, opts);\n    Object.defineProperty(e, 'detail', { value: detail });\n  } else {\n    e = document.createEvent('CustomEvent');\n    Object.defineProperty(e, 'composed', { value: opts.composed });\n    e.initCustomEvent(name, opts.bubbles, opts.cancelable, detail);\n  }\n  return e;\n}\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/core/emit.js?")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return "content-split__"\n    + container.escapeExpression(((helper = (helper = helpers["class"] || (depth0 != null ? depth0["class"] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"class","hash":{},"data":data}) : helper)));\n},"3":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return "        <div class=\\"content-split__label-container\\">\\n            <span class=\\"content-split__label\\">"\n    + container.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"label","hash":{},"data":data}) : helper)))\n    + "</span>\\n        </div>\\n";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "<div class=\\"content-split\\">\\n    <hr class=\\"content-split__hr "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0["class"] : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\" />\\n"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.label : depth0),{"name":"if","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n//# sourceURL=webpack:///./src/components/content-split/content-split.handlebars?')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * Returns number of total passengers.\n * \n * @param {object} data Details for total passengers\n * @param {*} [root]\n * @return {number}\n */\nmodule.exports = function passengercount(data, root) {\n  var total = 0;\n  var adults = data.adults,\n      children = data.children,\n      infants = data.infants,\n      youths = data.youths;\n\n  if (adults) total = total + +adults;\n  if (children) total = total + +children;\n  if (youths) total = total + +youths;\n  return total;\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/passengercount.js?")},,,,function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(345);\n\n//# sourceURL=webpack:///./src/components/contextual-help/index.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _utils = __webpack_require__(5);\n\nvar _flightValidation = __webpack_require__(376);\n\nvar _mytrips = __webpack_require__(60);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _airports = __webpack_require__(17);\n\nvar _keys = __webpack_require__(9);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _includes = __webpack_require__(39);\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _analytics = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\n/**\n * Class representing Flight Common component.\n * Shared a common functionality for Flight Status and WOMF widgets.\n *\n * @extends Component\n */\nvar FlightCommon = function (_Component) {\n  _inherits(FlightCommon, _Component);\n\n  function FlightCommon(el, $el) {\n    _classCallCheck(this, FlightCommon);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      flightNumberClass: "js-activate-flight-number",\n      flightRouteClass: "js-activate-flight-route",\n      flightNumberError: "js-flight-number-error"\n    };\n\n    _this.$el = _this.$el || $el;\n\n    _this.state = {};\n    _this.$form = _this.$el.find(".js-widget-form");\n    _this.$flightStatusNumber = _this.$el.find(".js-flight-number-status");\n    _this.$flightStatusDateField = _this.$el.find(\'input[name="flight-status-date"]\');\n    _this.$woyfDateField = _this.$el.find("#womf-date-picker--depart");\n    _this.$departureAirport = _this.$el.find(\'input[name="Departure airport"]\');\n    _this.$arrivalAirport = _this.$el.find(\'input[name="Arrival airport"]\');\n    _this.$flightNumber = _this.$el.find(\'input[name="Flight number"]\');\n    _this.$woyfFlightNumber = _this.$el.find("#womf__flight-number-status");\n\n    _this.$flightNumberError = _this.$el.find((0, _component.toSel)(_this.options.flightNumberError));\n    _this.$flightRouteRadio = _this.$el.find((0, _component.toSel)(_this.options.flightRouteClass));\n    _this.$flightNumberRadio = _this.$el.find((0, _component.toSel)(_this.options.flightNumberClass));\n    _this.$invalidFlightMessage = _this.$el.find(".js-error");\n\n    _this.setDefaultRadio(el);\n\n    _this.options.outage = _this.$el.hasClass("js-outage");\n\n    _this.moduleName = _this.$el.hasClass("js-flight-status") ? "Flight Status" : "What\'s on your flight";\n    _this.isKeyUp = false;\n\n    //TODO better solution for city names needed\n    if (window.__EK__ && window.__EK__.session.isAuthenticated) {\n      (0, _mytrips.getmytrips)().then(function (mytripsinfo) {\n        _this.bulkRender(mytripsinfo);\n      }).then(function () {\n        (0, _utils.injectCityNames)(_this.$el);\n      });\n    }\n    return _this;\n  }\n\n  /**\n   * Fires custom event to trigger login modal open.\n   */\n\n\n  FlightCommon.prototype.triggerLogin = function triggerLogin() {\n    (0, _jquery2.default)(".main-navigation").trigger("openLogin");\n  };\n\n  /**\n   * Updates state and triggers action to display the right form.\n   *\n   * @param {HTMLElement} el DOM element\n   */\n\n\n  FlightCommon.prototype.setDefaultRadio = function setDefaultRadio(el) {\n    if (__EK__.resources["BookManage/Flight-Status/Widget/default-option-flightnumber__text"] && __EK__.resources["BookManage/Flight-Status/Widget/default-option-flightnumber__text"] === "true") {\n      this.state.type = "flightNumber";\n      this.showFlightNumber(el);\n    } else {\n      this.state.type = "route";\n      this.showFlightRoute(el);\n    }\n  };\n\n  /**\n   * Shows form details related to Flight Number.\n   *\n   * @param {HTMLElement=} e DOM element\n   */\n\n\n  FlightCommon.prototype.showFlightNumber = function showFlightNumber(e) {\n    this.state.type = "flightNumber";\n    this.$el.addClass("flight-status--flight-number");\n    this.$el.removeClass("flight-status--flight-route");\n    (0, _utils.setCheckedStatus)(true, this.$flightNumberRadio);\n    (0, _utils.setCheckedStatus)(false, this.$flightRouteRadio);\n    this.valid && this.valid();\n    this.updateFormUrl && this.updateFormUrl();\n    this.toggleFlightTypeControls && this.toggleFlightTypeControls();\n    this.$el.removeClass("route-choice");\n    this.manageErrors(true);\n  };\n\n  /**\n   * Shows form details related to Flight Route.\n   *\n   * @param {HTMLElement} e DOM element\n   */\n\n\n  FlightCommon.prototype.showFlightRoute = function showFlightRoute() {\n    this.state.type = "route";\n    this.$el.removeClass("flight-status--flight-number");\n    this.$el.addClass("flight-status--flight-route");\n    (0, _utils.setCheckedStatus)(false, this.$flightNumberRadio);\n    (0, _utils.setCheckedStatus)(true, this.$flightRouteRadio);\n    this.valid && this.valid();\n    this.updateFormUrl && this.updateFormUrl();\n    this.toggleFlightTypeControls && this.toggleFlightTypeControls();\n    this.$el.addClass("route-choice");\n    this.manageErrors(true);\n  };\n\n  /**\n   * Injects error description into DOM.\n   *\n   * @param {string} term\n   */\n\n\n  FlightCommon.prototype.setFlightNumberErrorText = function setFlightNumberErrorText(term) {\n    if (term) {\n      this.$flightNumberError.show();\n      var p = this.$flightNumberError.find("p");\n      p.text(term);\n      if (this.isKeyUp) {\n        (0, _analytics.pushClientErrorEvent)(this.moduleName, "Partner Flight Number Error");\n        this.isKeyUp = false;\n      }\n    }\n  };\n\n  /**\n   * Triggers action on keyboard release.\n   *\n   * @param {Event} e\n   */\n\n\n  FlightCommon.prototype.handleKeyUp = function handleKeyUp(e) {\n    this.isKeyUp = true;\n    this.checkFlightStatusLength(e);\n  };\n\n  /**\n   * Triggers validation and form URL update\n   *\n   * @param {Event} [event]\n   */\n\n\n  FlightCommon.prototype.checkFlightStatusLength = function checkFlightStatusLength(event) {\n    var flightNumberError = this.$el.find(".js-flight-number");\n    this.valid && this.valid();\n    if (!this.valid()) {\n      var fieldElement = event.currentTarget || event.target;\n      if (this.$invalidFlightMessage && this.$invalidFlightMessage[0] && this.$invalidFlightMessage[0].classList.contains("show") && fieldElement && fieldElement.classList && !fieldElement.classList.contains("error-highlighter")) {\n        fieldElement.classList.add("error-highlighter");\n      }\n    }\n    flightNumberError.hide();\n    this.$el.find(".error-wrapper").hide();\n    this.updateFormUrl && this.updateFormUrl();\n  };\n\n  /**\n   * Returns true or false if form passed validation.\n   *\n   * @return {boolean}\n   */\n\n\n  FlightCommon.prototype.valid = function valid() {\n    var valid = true;\n    if (this.state.type === "route") {\n      if (!this.state.date || !this.state.origin || !this.state.destination) {\n        valid = false;\n      }\n    } else {\n      var input = this.$flightStatusNumber.val();\n      var validity = (0, _flightValidation.validateFlightNumber)({ input: input });\n      valid = validity.valid;\n      if (!validity.valid) {\n        if (validity.exceeded) {\n          this.$flightNumberError.hide();\n          this.$invalidFlightMessage.addClass("show");\n        } else {\n          this.$invalidFlightMessage.removeClass("show");\n        }\n        if (validity.empty) {\n          this.$flightNumberError.hide();\n          this.$invalidFlightMessage.removeClass("show");\n        }\n      } else {\n        var flightNumberError = this.$el.find(".js-flight-number");\n        this.$flightNumberError.hide();\n        this.$invalidFlightMessage.removeClass("show");\n        flightNumberError.hide();\n        this.$el.find(".error-wrapper").hide();\n      }\n    }\n    return valid;\n  };\n\n  /**\n   * Updates state and triggers form URL update.\n   *\n   * @param {Event} event\n   * @param {Object} obj Data object to destruct\n   * @param {*} [obj.display]\n   * @param {string} obj.type\n   * @param {string} obj.name\n   * @param {string} obj.value\n   */\n\n\n  FlightCommon.prototype.handleSelection = function handleSelection(event, _ref) {\n    var display = _ref.display,\n        type = _ref.type,\n        name = _ref.name,\n        value = _ref.value;\n\n    var originError = this.$el.find(".js-origin");\n    var destinationError = this.$el.find(".js-destination");\n    if (name === "flight-status-date") this.state.date = value;\n    if (type === "origin") {\n      this.state.origin = null;\n\n      if (value) {\n        this.state.origin = value.iataCode;\n        originError.hide();\n        this.$departureAirport && this.$departureAirport[0] && this.$departureAirport[0].classList.contains("error-highlighter") && this.$departureAirport[0].classList.remove("error-highlighter");\n      }\n    }\n    if (type === "destination") {\n      this.state.destination = null;\n\n      if (value) {\n        this.state.destination = value.iataCode;\n        destinationError.hide();\n        this.$arrivalAirport && this.$arrivalAirport[0] && this.$arrivalAirport[0].classList.contains("error-highlighter") && this.$arrivalAirport[0].classList.remove("error-highlighter");\n      }\n    }\n    this.updateFormUrl && this.updateFormUrl();\n    if (!destinationError.is(":visible") && !originError.is(":visible")) {\n      this.$el.find(".error-wrapper").hide();\n    }\n  };\n\n  /**\n   * Updates state with starting date.\n   *\n   * @param {*} e\n   */\n\n\n  FlightCommon.prototype.handleDateSelection = function handleDateSelection(e) {\n    this.state.from = (0, _moment2.default)(e.detail).format("YYMMDD");\n  };\n\n  /**\n   * Injects values into form element.\n   */\n\n\n  FlightCommon.prototype.updateFormUrl = function updateFormUrl() {\n    if (!this.valid()) return;\n    var values = this.state.type === "route" ? this.routeValues() : this.flightNumberValues();\n\n    var $form = this.$el.find(".js-widget-form .hidden-inputs");\n    $form.empty();\n\n    (0, _keys2.default)(values).forEach(function (value) {\n      $form.append("<input aria-hidden=\\"true\\" type=\\"hidden\\" name=\\"" + value + "\\" value=\\"" + values[value] + "\\" />");\n    });\n  };\n\n  /**\n   * Handles errors.\n   * Shows or hides error messages.\n   *\n   * @param {boolean} reset\n   */\n\n\n  FlightCommon.prototype.manageErrors = function manageErrors(reset) {\n    this.$el.find(".error-wrapper").hide();\n\n    var originError = this.$el.find(".js-origin");\n    var destinationError = this.$el.find(".js-destination");\n    var departureError = this.$el.find(".js-departure");\n    var flightNumberError = this.$el.find(".js-flight-number");\n    var routeErrorBlock = this.$el.find(".js-route-errors");\n    var flightNumberBlock = this.$el.find(".js-flight-errors");\n\n    routeErrorBlock.hide();\n    flightNumberBlock.hide();\n    originError.hide();\n    destinationError.hide();\n    departureError.hide();\n    flightNumberError.hide();\n\n    var input = this.$flightStatusNumber.val();\n    var validity = (0, _flightValidation.validateFlightNumber)({ input: input });\n\n    if (validity.term) {\n      this.$el.find(".error-wrapper").hide();\n      this.setFlightNumberErrorText(validity.term);\n    }\n\n    if (!reset) {\n      if (this.state.type === "route") {\n        if (!this.state.origin) {\n          originError.show();\n          (0, _analytics.pushClientErrorEvent)(this.moduleName, "Origin Error");\n          this.$departureAirport && this.$departureAirport[0] && this.$departureAirport[0].classList.add("error-highlighter");\n        }\n        if (!this.state.destination) {\n          destinationError.show();\n          (0, _analytics.pushClientErrorEvent)(this.moduleName, "Destination Error");\n          this.$arrivalAirport && this.$arrivalAirport[0] && this.$arrivalAirport[0].classList.add("error-highlighter");\n        }\n        if (!this.state.date) {\n          departureError.show();\n          (0, _analytics.pushClientErrorEvent)(this.moduleName, "Date Error");\n          this.$flightStatusDateField && this.$flightStatusDateField[0] ? this.$flightStatusDateField[0].classList.add("error-highlighter") : false;\n          this.$woyfDateField && this.$woyfDateField[0] ? this.$woyfDateField[0].classList.add("error-highlighter") : false;\n        }\n        routeErrorBlock.show();\n        this.$el.find(".error-wrapper").show();\n        this.$el.find(".error-wrapper").attr("role", "alert");\n        this.$el.find(".js-error-summary").focus();\n      }\n      if (this.state.type === "flightNumber" && validity.empty && !validity.valid) {\n        flightNumberError.show();\n        (0, _analytics.pushClientErrorEvent)(this.moduleName, "Flight Number Error");\n        this.$flightNumber && this.$flightNumber[0] ? this.$flightNumber[0].classList.add("error-highlighter") : false;\n        this.$woyfFlightNumber && this.$woyfFlightNumber[0] ? this.$woyfFlightNumber[0].classList.add("error-highlighter") : false;\n        if (!this.state.date) {\n          departureError.show();\n          (0, _analytics.pushClientErrorEvent)(this.moduleName, "Date Error");\n          this.$flightStatusDateField && this.$flightStatusDateField[0] ? this.$flightStatusDateField[0].classList.add("error-highlighter") : false;\n          this.$woyfDateField && this.$woyfDateField[0] ? this.$woyfDateField[0].classList.add("error-highlighter") : false;\n        }\n        flightNumberBlock.show();\n        this.$el.find(".error-wrapper").show();\n        this.$el.find(".error-wrapper").attr("role", "alert");\n        this.$el.find(".js-error-summary").focus();\n      }\n    }\n  };\n\n  /**\n   * Handles form submission.\n   *\n   * @param {Event} e\n   */\n\n\n  FlightCommon.prototype.submit = function submit(e) {\n    e.preventDefault();\n    this.trackFlightCommonCtaClick(e);\n    if (!this.valid()) {\n      this.manageErrors();\n      return;\n    }\n    this.$el.find(".error-wrapper").hide();\n\n    this.updateFormUrl();\n    this.$form[0].submit();\n  };\n\n  /**\n   * Shows items.\n   */\n\n\n  FlightCommon.prototype.itemReveal = function itemReveal() {\n    var _this2 = this;\n\n    (0, _jquery2.default)(".js-show-flights", this.$el).bind("click", function (e) {\n      _this2.$el.find(".womf__section__row").not(":nth-of-type(1)").not(":nth-of-type(2)").toggleClass("hidden");\n      e.preventDefault();\n      (0, _jquery2.default)(e.currentTarget).parent().parent().hide();\n    });\n  };\n\n  /**\n   * Triggers analytics tracking.\n   *\n   * @param {Event} e\n   */\n\n\n  FlightCommon.prototype.trackFlightCommonCtaClick = function trackFlightCommonCtaClick(e) {\n    var trackValue = void 0;\n    switch (true) {\n      case (0, _includes2.default)(e.currentTarget.className, "js-widget-submit-womf"):\n        trackValue = "Widget:What\'s on your flight:See what\'s on";\n        break;\n      case (0, _includes2.default)(e.currentTarget.className, "js-widget-submit-flight-status"):\n        trackValue = "Widget:Check flight status:Check flight status";\n        break;\n      default:\n        trackValue = "Widget:Unknown button";\n    }\n    var eventData = {\n      event: "EventTrigger.Common_pageBodyWidget_CTAClick",\n      category: "Page Body Interaction",\n      action: "CTA Clicked",\n      label: trackValue\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  return FlightCommon;\n}(_component2.default);\n\nexports.default = FlightCommon;\n\n//# sourceURL=webpack:///./src/components/flight-common/index.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * Assigns local variable.\n * \n * @param {string} name Variable name\n * @param {*} value Variable value\n * @param {object} context Handlebars context object\n */\nmodule.exports = function variable(name, value, context) {\n  this[name] = value;\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/var.js?")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = logout;\n\nvar _config = __webpack_require__(23);\n\nfunction logout() {\n    return fetch((0, _config.getConfig)('SSO_OKTA_API_ENDPOINT') + '/sessions/me', {\n        credentials: 'include',\n        headers: {\n            'Accept': 'application/json'\n        },\n        method: 'DELETE'\n    }).then(function (response) {\n        if ([204, 404].indexOf(response.status) < 0) {\n            return Promise.reject('Okta logout failed! status: ' + response.status);\n        }\n\n        return fetch('/service/logout', {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            credentials: 'include',\n            cache: 'no-store',\n            method: 'POST'\n        });\n    });\n} /**\n   * Logout the user at first from OKTA and then from device\n   */\n;\n\n//# sourceURL=webpack:///./src/common/scripts/services/logout.js?")},,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\n/**\n * Returns interpolated string including number of flights.\n * \n * @param {string} str Resource value\n * @param {string} target Variable name to be replaced\n * @param {*} data Data object\n * @return {string}\n */\nmodule.exports = function (str, target, data) {\n  return str.replace("{{" + target + "}}", data.trips.length);\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/flight-count.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(148);\nmodule.exports = __webpack_require__(253);\n\n\n//# sourceURL=webpack:///multi_./src/common/scripts/eol-components/index.js_./src/sites/ekgroup/index.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(149);\n\n__webpack_require__(150);\n\n__webpack_require__(151);\n\n__webpack_require__(152);\n\nvar _Ek = __webpack_require__(41);\n\nvar _Input = __webpack_require__(153);\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _DateField = __webpack_require__(156);\n\nvar _DateField2 = _interopRequireDefault(_DateField);\n\nvar _Calendar = __webpack_require__(246);\n\nvar _Calendar2 = _interopRequireDefault(_Calendar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _Ek.registerElement)('eol-input', _Input2.default); // eslint-disable-line import/no-extraneous-dependencies\n\n(0, _Ek.registerElement)('eol-datefield', _DateField2.default);\n(0, _Ek.registerElement)('eol-calendar', _Calendar2.default);\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/index.js?")},,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/styles/input.scss?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/styles/calendar.scss?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/styles/checkbox.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ComponentBase2 = __webpack_require__(65);\n\nvar _ComponentBase3 = _interopRequireDefault(_ComponentBase2);\n\nvar _emit = __webpack_require__(66);\n\nvar _emit2 = _interopRequireDefault(_emit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global window */\n// eslint-disable-line import/no-extraneous-dependencies\n\n\n/**\n * <ek-input class=\"textfield\">\n *      <label for=\"input\" class=\"textfield__label\">Label</label>\n *      <input type=\"text\" id=\"input\" class=\"textfield__input\" />\n *      <p class=\"textfield__tooltip\">Tooltip Text</p>\n *      <i class=\"textfield__icon textfield__icon--clear icon icon-clear\"\n *        aria-hidden=\"true\" tabindex=\"0\">\n *      </i>\n * </ek-input>\n *\n * @class Input\n * @extends ComponentBase\n */\nvar Input = function (_ComponentBase) {\n  _inherits(Input, _ComponentBase);\n\n  function Input() {\n    _classCallCheck(this, Input);\n\n    return _possibleConstructorReturn(this, _ComponentBase.apply(this, arguments));\n  }\n\n  /**\n   * @constructor\n   */\n  Input.prototype.createdCallback = function createdCallback() {\n    // call parent class connectedCallback\n    if (_ComponentBase.prototype.createdCallback) {\n      _ComponentBase.prototype.createdCallback.call(this);\n    }\n\n    this.cls = 'textfield';\n    this.focusCls = 'textfield--focused';\n    this.activeCls = 'textfield--active';\n    this.disableCls = 'textfield--disabled';\n    this.errorCls = 'textfield--dirty';\n\n    // element references\n    this.$el = (0, _jquery2.default)(this);\n    this.$window = (0, _jquery2.default)(window);\n    this.$input = this.$el.find('input.textfield__input');\n    this.$tooltip = this.$el.find('p.textfield__tooltip');\n    this.$wrapper = this.$el.find('div.textfield__controls');\n    this.$buttonClear = this.getClearButton();\n    this.validations = [];\n\n    // bind the method to this context\n    this.clearValue = this.clearValue.bind(this);\n    this.toggleState = this.toggleState.bind(this);\n    this.showClearButton = this.showClearButton.bind(this);\n  };\n\n  /**\n   * Get the clear button. If not present generate the mark up\n   * @return {JQuery<HTMLElement>} el\n   */\n\n\n  Input.prototype.getClearButton = function getClearButton() {\n    var $btn = this.$el.find('.textfield__icon.textfield__icon--clear');\n    if ($btn.length === 0) {\n      $btn = (0, _jquery2.default)(\"<i class='textfield__icon textfield__icon--clear icon icon-close' />\").attr({\n        'aria-label': this.$wrapper.attr('data-clear-label'),\n        tabindex: 0\n      }).appendTo(this.$wrapper);\n    }\n    return $btn;\n  };\n\n  /**\n   * Web component v1 lifecycle callback.\n   * This will be executed when the component is attached to the DOM.\n   */\n\n\n  Input.prototype.attachedCallback = function attachedCallback() {\n    // call parent class connectedCallback\n    if (_ComponentBase.prototype.attachedCallback) {\n      _ComponentBase.prototype.attachedCallback.call(this);\n    }\n\n    // Add a CSS class and attribute when the component is defined.\n    this.$el.addClass('textfield--defined').attr('defined', '');\n\n    // instance variables\n    this.hasTooltip = this.$tooltip && this.$tooltip.length > 0;\n\n    // attach the dom events for child elements\n    this.initDOMEvents();\n\n    this.toggleState();\n    this.showClearButton();\n\n    // Check the element states\n    if (this.readonly) {\n      this.readonly = true;\n    }\n\n    /**\n     * As per the developer the Tridion component can only give the class name to the\n     * underlying input element. So adding the error flag on the component load\n     */\n    if (this.$input.hasClass('hasError')) {\n      this.dirty = true;\n    }\n  };\n\n  /**\n   * Attach the DOM event listeners for the child elements\n   */\n\n\n  Input.prototype.initDOMEvents = function initDOMEvents() {\n    // add events to the text field\n    this.$input.on('focus', this.toggleState).on('blur', this.toggleState).on('keyup', this.showClearButton);\n\n    // mouseup triggers before the click event, Clear the input should be executed on mouseup\n    this.$buttonClear.on('click', this.clearValue);\n    this.$buttonClear.on('keyup', this.clearValue);\n    this.$buttonClear.on('blur', this.toggleState);\n  };\n\n  /**\n   * Toggle the tooltip\n   * @param {Boolean} flag - indicates whether to show or hide the tooltip\n   */\n\n\n  Input.prototype.toggleTooltip = function toggleTooltip(flag) {\n    if (!flag) {\n      this.$tooltip.removeClass('textfield__tooltip--visible');\n      return;\n    }\n\n    var spacing = 10;\n    var defaultTop = this.$el.height() + 10;\n    var errorHeight = 0;\n    var height = this.$input.height();\n    var tooltipTop = this.$tooltip.offset().top;\n    var tooltipHeight = this.$tooltip.height();\n\n    // Checks whether there is enough space is available in body to accomodate the popup at the\n    // bottom of the control. If no then the popup should be shown ath the top of the control.\n    var isOffScreen = errorHeight + height + tooltipTop > this.$window + this.$window.height();\n\n    // adjust new top based on the offscreen mode\n    var adjustedTop = isOffScreen ? -height - tooltipHeight - spacing : defaultTop + errorHeight;\n    // add the styles\n    this.$tooltip.toggleClass('is-on-top').addClass('textfield__tooltip--visible').css('top', adjustedTop);\n  };\n\n  /**\n   * Set the rawvalue. The value will be setting to the underlying hidden and select element.\n   * @param {Any} value\n   */\n\n\n  /**\n     * Set th active state of the element.\n     * @param {Boolean} flag - is active\n     */\n  Input.prototype.setActive = function setActive(flag) {\n    this.$el.toggleClass(this.activeCls, flag);\n  };\n\n  /**\n   * Set th focus state of the element.\n   * @param {Boolean} flag - is focused\n   */\n\n\n  Input.prototype.setFocused = function setFocused(flag) {\n    this.$el.toggleClass(this.focusCls, flag);\n  };\n\n  /**\n   * Shows the clear button when the value is present in the text field\n   */\n\n\n  Input.prototype.showClearButton = function showClearButton() {\n    if (!this.readonly) {\n      this.$buttonClear.toggleClass('textfield__icon--visible', !!this.$input.val().length);\n    }\n  };\n\n  /**\n   * Clear the input value\n   * @param {Event?} e\n   */\n\n\n  Input.prototype.clearValue = function clearValue(e) {\n    // stop event\n    if (e && e.preventDefault) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    if (e.type === 'keyup' && e.keyCode !== 13) {\n      return;\n    }\n\n    // reset the value\n    this.value = '';\n    this.rawValue = '';\n    this.$input.focus();\n    (0, _emit2.default)(this, 'clear');\n  };\n\n  /**\n   * Toggle active state of the element\n   * @param {Event} e\n   */\n\n\n  Input.prototype.toggleState = function toggleState(e) {\n    if (!e) e = {}; // eslint-disable-line no-param-reassign\n    // if the field has value or the event is focus then activate the element\n    this.setActive(this.$input.val().length > 0 || e.type === 'focus');\n\n    // if the event is focus then add focused class\n    this.setFocused(e.type === 'focus');\n\n    if (this.$tooltip.length !== 0) {\n      // show tooltip\n      this.toggleTooltip(e.type === 'focus');\n    }\n  };\n\n  /**\n   * Disable the input\n   * @param {Boolean} value - flag to disable/enable\n   */\n\n\n  _createClass(Input, [{\n    key: 'rawValue',\n    set: function set(value) {\n      if (!value || value === '' || value == null) {\n        if (this.$inputHidden) this.$inputHidden.val('');\n        if (this.$inputSelect) this.$inputSelect.val('');\n      } else {\n        if (this.$inputHidden) this.$inputHidden.val(value);\n        if (this.$inputSelect) this.$inputSelect.val(value);\n      }\n    }\n\n    /**\n     * set the value to the input\n     * @param {Any} value\n     */\n\n  }, {\n    key: 'value',\n    set: function set(value) {\n      this.valueData = value;\n      // set input value\n      this.$input.val(value);\n      // activate the field if the value is not null\n      this.setActive();\n      // show/hide the clear button\n      this.showClearButton();\n    }\n\n    /**\n     * get the input value\n     * @return {Any} value\n     */\n    ,\n    get: function get() {\n      this.valueData = this.$input.val();\n      return this.valueData;\n    }\n  }, {\n    key: 'disabled',\n    set: function set(value) {\n      var isDisabled = value && value === 'true';\n      this.$input.attr('disabled', isDisabled);\n      this.$el.toggleClass(this.disableCls, isDisabled);\n    }\n\n    /**\n     * Is the input is disabled.\n     * @return {Boolean} disabled\n     */\n    ,\n    get: function get() {\n      var attr = this.getAttribute('disabled');\n      return this.hasAttribute('disabled') && attr === undefined || attr === 'true';\n    }\n\n    /**\n     * component name, used for internal purpose. As the tag names can be changed there is no way to\n     * distinguish between the elements. So adding a readonly name property to the element;\n     * @return {String} name - internal name of the component\n     */\n\n  }, {\n    key: 'name',\n    get: function get() {\n      // eslint-disable-line class-methods-use-this\n      return 'textfield';\n    }\n\n    /**\n     * Set the input read only\n     * @param {Boolean} readonly\n     */\n\n  }, {\n    key: 'readonly',\n    set: function set(value) {\n      value = value || value === 'true'; // eslint-disable-line no-param-reassign\n      if (this.readonly !== value) {\n        this.setAttribute('readonly', value);\n        if (value) this.$input.attr('readonly', '');else this.$input.removeAttr('readonly', '');\n      }\n    }\n\n    /**\n     * Is readonly\n     * Sample markup expected - <eol-textfield readonly></eol-textfield>\n     * @return {Boolean} readonly\n     */\n    ,\n    get: function get() {\n      var readonly = this.getAttribute('readonly');\n      return this.hasAttribute('readonly') && readonly === undefined || readonly === 'true';\n    }\n\n    /**\n     * Checks for the validation\n     * Sample markup expected - <eol-textfield dirty></eol-textfield>\n     * @return {Boolean} dirty\n     */\n\n  }, {\n    key: 'dirty',\n    get: function get() {\n      var dirty = this.getAttribute('dirty');\n      return this.hasAttribute('dirty') && dirty === undefined || dirty === 'true';\n    }\n\n    /**\n     * Set the field dirty.\n     * @property\n     * @param {Boolean} value\n     */\n    ,\n    set: function set(value) {\n      if (value) this.$el.addClass(this.errorCls).attr('dirty', '');else this.$el.removeClass(this.errorCls).removeAttr('dirty');\n    }\n\n    /**\n     * Checks the mobile list behaviour is enabled on the component.\n     *\n     * Use the following markup to convert the element to add responsive behavior.\n     *  <eol-input class=\"textfield eol-responsive\">\n     *  </eol-input>\n     *\n     * @return {Boolean} IsResponsive\n     */\n\n  }, {\n    key: 'isResponsive',\n    get: function get() {\n      return this.$el.hasClass('eol-responsive');\n    }\n  }]);\n\n  return Input;\n}(_ComponentBase3.default);\n\nexports.default = Input;\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/elements/Input.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nexports.default = function (base) {\n  /**\n     * Mixin to make a class more easily composable with other mixins.\n     *\n     * This mixin contributes a `compose` method that applies a set of mixin\n     * functions and returns the resulting new class. This sugar can make the\n     * application of many mixins at once easier to read.\n     */\n  var Composable = function (_base) {\n    _inherits(Composable, _base);\n\n    function Composable() {\n      _classCallCheck(this, Composable);\n\n      return _possibleConstructorReturn(this, _base.apply(this, arguments));\n    }\n\n    /**\n         * Apply a set of mixin functions or mixin objects to the present class and\n         * return the new class.\n         *\n         * Instead of writing:\n         *\n         *     let MyClass = Mixin1(Mixin2(Mixin3(Mixin4(Mixin5(BaseClass)))));\n         *\n         * You can write:\n         *\n         *     let MyClass = ComposableMixin(BaseClass).compose(\n         *       Mixin1,\n         *       Mixin2,\n         *       Mixin3,\n         *       Mixin4,\n         *       Mixin5\n         *     )\n         *\n         * This function can also take mixin objects. A mixin object is just a\n         * shorthand for a mixin function that creates a new subclass with the given\n         * members. The mixin object\'s members are *not* copied directly onto the\n         * prototype of the base class, as with traditional mixins.\n         *\n         * In addition to providing syntactic sugar, this mixin can be used to\n         * define a class in ES5, which lacks ES6\'s `class` keyword.\n         *\n         * @param {...mixins} mixins - A set of mixin functions or objects to apply.\n         */\n    Composable.compose = function compose() {\n      for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {\n        mixins[_key] = arguments[_key];\n      }\n\n      // We create a new subclass for each mixin in turn. The result becomes\n      // the base class extended by any subsequent mixins. It turns out that\n      // we can use Array.reduce() to concisely express this, using the current\n      // object as the seed for reduce().\n      return mixins.reduce(composeClass, this); // eslint-disable-line no-use-before-define\n    };\n\n    return Composable;\n  }(base);\n\n  return Composable;\n};\n\n// Properties defined by Object that we don\'t want to mixin.\n\n\nvar NON_MIXABLE_OBJECT_PROPERTIES = [\'constructor\'];\n\n/*\n * Apply the mixin to the given base class to return a new class.\n * The mixin can either be a function that returns the modified class, or a\n * plain object whose members will be copied to the new class\' prototype.\n */\nfunction composeClass(base, mixin) {\n  if (typeof mixin === \'function\') {\n    // Mixin function\n    return mixin(base);\n  } else {\n    // eslint-disable-line no-else-return\n    // Mixin object\n    var Subclass = function (_base2) {\n      _inherits(Subclass, _base2);\n\n      function Subclass() {\n        _classCallCheck(this, Subclass);\n\n        return _possibleConstructorReturn(this, _base2.apply(this, arguments));\n      }\n\n      return Subclass;\n    }(base);\n\n    copyOwnProperties(mixin, Subclass.prototype, NON_MIXABLE_OBJECT_PROPERTIES); // eslint-disable-line no-use-before-define\n    return Subclass;\n  }\n}\n\n/*\n * Copy the given properties/methods to the target.\n * Return the updated target.\n */\nfunction copyOwnProperties(source, target) {\n  var ignorePropertyNames = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  Object.getOwnPropertyNames(source).forEach(function (name) {\n    if (ignorePropertyNames.indexOf(name) < 0) {\n      var descriptor = Object.getOwnPropertyDescriptor(source, name);\n      Object.defineProperty(target, name, descriptor);\n    }\n  });\n  return target;\n}\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/core/Composable.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Ek = __webpack_require__(41);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /* global HTMLElement */\n\n\n/**\n * Registry that manages all the instance of the rendered components.\n *\n * @class ComponentRegistry\n */\n\nvar ComponentRegistry = function () {\n  /**\n   * @constructor\n   */\n  function ComponentRegistry() {\n    _classCallCheck(this, ComponentRegistry);\n\n    // components\n    this.components = {};\n  }\n\n  /**\n   * Register component\n   * @param {HTMLElement} el\n   */\n\n\n  ComponentRegistry.prototype.register = function register(el) {\n    if (el && el instanceof HTMLElement) {\n      // Generate a random component id\n      var componentId = (0, _Ek.guid)();\n      el.setAttribute('data-component-id', componentId);\n      this.components[componentId] = el;\n    }\n  };\n\n  /**\n   * Get all the registered component with specific tagname\n   * @param {String} tagName\n   * @return {Array<HTMLELement>} elements\n   */\n\n\n  ComponentRegistry.prototype.getComponentByTagName = function getComponentByTagName(tagName) {\n    var el = [];\n    for (var component in this.components) {\n      // eslint-disable-line no-restricted-syntax\n      if (this.components[component].tagName === tagName) {\n        el.push(this.components[component]);\n      }\n    }\n    return el;\n  };\n\n  /**\n   * Get all the registered component with property name and value\n   * @param {Object} prop\n   * @return {Array<HTMLELement>} elements\n   */\n\n\n  ComponentRegistry.prototype.getComponentByProp = function getComponentByProp(prop) {\n    var el = [];\n    for (var property in prop) {\n      // eslint-disable-line guard-for-in, no-restricted-syntax\n      for (var component in this.components) {\n        // eslint-disable-line no-restricted-syntax\n        if (this.components[component][property] === prop[property]) {\n          el.push(this.components[component]);\n        }\n      }\n    }\n    return el;\n  };\n\n  /**\n   * Unregister the component. Delete the reference and make it ready for garbage collection\n   * @param {HTMLElement} el\n   */\n\n\n  ComponentRegistry.prototype.unregister = function unregister(el) {\n    var id = el.getAttribute('data-component-id');\n    if (id) {\n      delete this.components[id];\n    }\n  };\n\n  return ComponentRegistry;\n}();\n\nexports.default = new ComponentRegistry();\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/core/ComponentRegistry.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ComponentBase2 = __webpack_require__(65);\n\nvar _ComponentBase3 = _interopRequireDefault(_ComponentBase2);\n\nvar _CalendarConfig = __webpack_require__(42);\n\nvar _emit = __webpack_require__(66);\n\nvar _emit2 = _interopRequireDefault(_emit);\n\nvar _utils = __webpack_require__(5);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global window, document */\n// eslint-disable-line\n\n\n/**\n * <eol-datefield class=\"textfield\">\n    <div class=\"textfield__controls\">\n      <div class=\"textfield__date textfield__date--first\">\n        <label for=\"input\" class=\"textfield__label\">Departing</label>\n        <input type=\"text\" id=\"input\" aria-required=\"true\" autocomplete=\"off\" value=\"Returning\"\n          maxlength=\"5\" minlength=\"5\" class=\"textfield__input\">\n      </div>\n      <span>-</span>\n      <div class=\"textfield__date textfield__date--second\">\n        <label for=\"input\" class=\"textfield__label\">Returning</label>\n        <input type=\"text\" id=\"input\" aria-required=\"true\" autocomplete=\"off\" value=\"Returning\"\n          maxlength=\"5\" minlength=\"5\" class=\"textfield__input\">\n      </div>\n    </div>\n  </eol-datefield>\n *\n * @class Input\n * @extends ComponentBase\n */\nvar DateField = function (_ComponentBase) {\n  _inherits(DateField, _ComponentBase);\n\n  function DateField() {\n    _classCallCheck(this, DateField);\n\n    return _possibleConstructorReturn(this, _ComponentBase.apply(this, arguments));\n  }\n\n  /**\n   * @constructor\n   */\n  DateField.prototype.createdCallback = function createdCallback() {\n    // call parent class connectedCallback\n    if (_ComponentBase.prototype.createdCallback) {\n      _ComponentBase.prototype.createdCallback.call(this);\n    }\n\n    this.cls = 'textfield datefield';\n    this.focusCls = 'textfield--focused';\n    this.startFocusCls = 'textfield__start--focused';\n    this.endFocusCls = 'textfield__end--focused';\n    this.activeCls = 'textfield--active';\n    this.disableCls = 'textfield--disabled';\n    this.errorCls = 'textfield--dirty';\n    this.endInputCls = 'textfield__input--end';\n    this.startInputCls = 'textfield__input--start';\n    this.closeCalendar = true;\n    this.endDateClicked = false;\n    this.startDateClicked = false;\n\n    // element references\n    this.$el = (0, _jquery2.default)(this);\n    this.$window = (0, _jquery2.default)(window);\n    this.$document = (0, _jquery2.default)(document);\n\n    this.$input = this.$el.find('input.textfield__input');\n    this.$wrapper = this.$el.find('div.textfield__controls');\n    this.$inputEnd = this.$el.find('input.' + this.endInputCls);\n    this.$inputStart = this.$el.find('input.' + this.startInputCls);\n    this.$returnCtrls = this.$el.find('.textfield__date--second');\n    this.$departCtrls = this.$el.find('.textfield__date--first');\n    this.$inputWrapper = this.$el.find('.textfield__date');\n    this.arrivalTitle = this.$inputEnd.attr('data-heading');\n    this.departureTitle = this.$inputStart.attr('data-heading');\n    this.$inputOneWay = this.$el.find('input.control__one-way');\n    this.$inputFlexible = this.$el.find('input.control__flexible-date');\n    this.$addReturnAction = this.$el.find('.label-text--return');\n    this.$returningText = this.$el.find('.label-text--returning');\n    this.$calendarMessage = this.$el.find('div.calendar__message');\n    this.$departMessageEl = this.$el.find('.calendar-depart__message');\n    this.$returnMessageEl = this.$el.find('.calendar-return__message');\n    this.defaultDepartMessage = this.$departMessageEl.html();\n    this.defaultReturnMessage = this.$returnMessageEl.html();\n\n    // bind the method to this context\n    this.collapse = this.collapse.bind(this);\n    this.mimicBlur = this.mimicBlur.bind(this);\n    this.toggleState = this.toggleState.bind(this);\n    this.manageKeyNav = this.manageKeyNav.bind(this);\n    this.endDateSelected = this.endDateSelected.bind(this);\n    this.pickerTypeChanged = this.pickerTypeChanged.bind(this);\n    this.startDateSelected = this.startDateSelected.bind(this);\n    this.flexibleDateEnabled = this.flexibleDateEnabled.bind(this);\n    this.updateTransitionState = this.updateTransitionState.bind(this);\n    this.keyDownHandler = this.keyDownHandler.bind(this);\n  };\n\n  /**\n   * Web component v1 lifecycle callback.\n   * This will be executed when the component is attached to the DOM.\n   */\n\n\n  DateField.prototype.attachedCallback = function attachedCallback() {\n    // call parent class connectedCallback\n    if (_ComponentBase.prototype.attachedCallback) {\n      _ComponentBase.prototype.attachedCallback.call(this);\n    }\n\n    this.startOffset = this.$inputStart.attr('data-date-offset');\n    this.endOffset = this.$inputEnd.attr('data-date-offset');\n    this.maxDateOffset = this.$wrapper.attr('data-max-date-offset');\n\n    // Add a CSS class and attribute when the component is defined.\n    this.$el.addClass('textfield--defined').attr('defined', '');\n\n    // attach the dom events for child elements\n    this.initDOMEvents();\n    this.toggleState();\n\n    // Check the element states\n    if (this.readonly) {\n      this.readonly = true;\n    }\n\n    // Create the picker instance\n    this.createPicker();\n\n    /**\n     * As per the developer the Tridion component can only give the class name to the\n     * underlying input element. So adding the error flag on the component load\n     */\n    if (this.$input.hasClass('hasError')) {\n      this.dirty = true;\n    }\n  };\n\n  /**\n   * Create the calendar picker\n   */\n\n\n  DateField.prototype.createPicker = function createPicker() {\n    var initialStartDate = this.$inputStart.attr('data-full-date');\n    var initialEndDate = this.$inputEnd.attr('data-full-date');\n    this.calendar = document.createElement('eol-calendar');\n    this.calendar.flexibleDateLabel = this.$inputFlexible.attr('data-label');\n    this.calendar.flexibleDateLabelMobile = this.$inputFlexible.attr('data-label-mobile');\n    this.calendar.enableFlexibleDate = this.$inputFlexible.length !== 0;\n    this.calendar.startOffset = this.startOffset;\n    this.calendar.endOffset = this.endOffset;\n    this.calendar.startIcon = this.$inputStart.attr('data-icon');\n    this.calendar.returnIcon = this.$inputEnd.attr('data-icon');\n    this.calendar.isOneWay = this.$el.attr('one-way') === 'true';\n\n    this.calendar.dayLabels = this.dayLabels;\n    this.calendar.dayShortLabels = this.dayShortLabels;\n    this.calendar.monthLabels = this.monthLabels;\n    this.calendar.monthShortLabels = this.monthShortLabels;\n    this.calendar.firstDay = this.firstDay;\n    this.calendar.datesDifference = this.datesDifference;\n    this.calendar.nextMonthLabel = this.nextMonthLabel;\n    this.calendar.previousMonthLabel = this.previousMonthLabel;\n\n    this.calendar.dateFormat = this.dateFormat;\n\n    this.calendar.dLabels = [].concat(this.dayShortLabels.slice(this.firstDay), this.dayShortLabels.slice(0, this.firstDay));\n\n    if (this.maxDateOffset !== undefined) {\n      var now = new Date();\n      var offset = parseInt(this.maxDateOffset, 10);\n      now.setDate(now.getDate() + offset);\n      this.calendar.maxDate = now;\n    }\n\n    if (this.$inputOneWay.length > 0) {\n      this.calendar.onewayCheckLabel = this.$inputOneWay.attr('data-label');\n    }\n    if (this.departureTitle) {\n      this.calendar.title = this.departureTitle;\n      this.calendar.icon = this.calendar.startIcon;\n    }\n    if (initialStartDate && initialStartDate !== '') {\n      var date = new Date(initialStartDate);\n      date.setHours(0, 0, 0, 0);\n      this.$inputStart.val((0, _CalendarConfig.dateFormat)(date, this.dateFormat));\n      this.calendar.departureDate = date;\n      this.calendar.startDate = date;\n      this.toggleState({});\n    } else if (this.startOffset !== undefined && !initialStartDate) {\n      var today = new Date();\n      var _offset = parseInt(this.startOffset, 10);\n      today.setDate(today.getDate() + _offset);\n      today.setHours(0, 0, 0, 0);\n      this.$inputStart.val((0, _CalendarConfig.dateFormat)(today, this.dateFormat));\n      this.calendar.departureDate = today;\n      this.calendar.startDate = today;\n      this.toggleState({});\n    }\n\n    if (initialEndDate && initialEndDate !== '') {\n      var _date = new Date(initialEndDate);\n      _date.setHours(0, 0, 0, 0);\n      this.$inputEnd.val(_CalendarConfig.CalendarConfig.format(_date, this.dateFormat));\n      this.calendar.arrivalDate = _date;\n      this.calendar.endDate = _date;\n      this.toggleState({});\n    } else if (this.endOffset !== undefined && !initialEndDate) {\n      var _today = new Date();\n      var _offset2 = parseInt(this.endOffset, 10);\n      _today.setDate(_today.getDate() + _offset2);\n      _today.setHours(0, 0, 0, 0);\n      this.$inputEnd.val((0, _CalendarConfig.dateFormat)(_today, this.dateFormat));\n      this.calendar.arrivalDate = _today;\n      this.calendar.endDate = _today;\n      this.toggleState({});\n    }\n\n    var firstActiveDateOffset = this.getAttribute('offset');\n    if (firstActiveDateOffset && firstActiveDateOffset !== null) {\n      var _today2 = new Date();\n      var _offset3 = parseInt(firstActiveDateOffset, 10);\n      _today2.setDate(_today2.getDate() + _offset3);\n      _today2.setHours(0, 0, 0, 0);\n      this.calendar.firstActiveDate = _today2;\n      this.toggleState({});\n    }\n\n    this.$calendar = (0, _jquery2.default)(this.calendar);\n    this.$calendar.appendTo(this.$el);\n    // Update the calendar DOM\n    if (this.calendar && this.calendar.updateEl) {\n      this.calendar.updateEl();\n    }\n    this.$calendar.on('startselect', this.startDateSelected);\n    this.$calendar.on('endselect', this.endDateSelected);\n    this.$calendar.on('onewayselect', this.pickerTypeChanged);\n    this.$calendar.on('flexibledate', this.flexibleDateEnabled);\n    this.$calendar.on('transitionend', this.updateTransitionState);\n    this.$calendar.on('close', this.collapse);\n  };\n\n  DateField.prototype.flexibleDateEnabled = function flexibleDateEnabled(e) {\n    this.$inputFlexible.prop('checked', e.detail);\n  };\n\n  DateField.prototype.pickerTypeChanged = function pickerTypeChanged(e) {\n    var _this2 = this;\n\n    this.$inputOneWay.prop('checked', e.detail);\n    this.type = e.detail ? _CalendarConfig.TYPES.ONEWAY : _CalendarConfig.TYPES.RETURN;\n    if (this.$el.hasClass(this.endFocusCls) && e.detail) {\n      setTimeout(function () {\n        _this2.collapse();\n      }, 100);\n    }\n  };\n\n  /**\n   * On user select the start date\n   * @param {Event} e\n   */\n\n\n  DateField.prototype.startDateSelected = function startDateSelected(e) {\n    var startDate = e.detail;\n    this.$inputStart.val((0, _CalendarConfig.dateFormat)(startDate, this.dateFormat));\n    this.startDateClicked = true;\n    this.endDateClicked = false;\n\n    if (this.type === _CalendarConfig.TYPES.RETURN) {\n      this.toggleState({});\n      if (this.arrivalTitle) {\n        this.calendar.title = this.arrivalTitle;\n        this.calendar.icon = this.calendar.returnIcon;\n        this.calendar.updateEl();\n      }\n\n      var date1 = new Date(this.calendar.departureDate);\n      date1.setHours(0, 0, 0, 0);\n      var date2 = new Date(this.calendar.arrivalDate);\n      date2.setHours(0, 0, 0, 0);\n      var diffDays = this.diffDays(date1, date2);\n\n      if (diffDays < 0) {\n        if (this.calendar.arrivalDate != null) {\n          this.calendar.arrivalDate = null;\n          this.calendar.endDate = new Date();\n          this.$inputEnd.val('');\n        }\n        this.calendar.updateEl();\n      } else if (diffDays === 0 && this.datesDifference !== -1) {\n        this.$inputEnd.val('');\n      }\n\n      this.$inputEnd.focus();\n    } else if (this.closeCalendar) {\n      this.collapse();\n    }\n    this.closeCalendar = true;\n  };\n\n  DateField.prototype.updateTransitionState = function updateTransitionState() {\n    if (!this.$calendar.hasClass('eol-calendar--top') && this.$calendar.hasClass('eol-calendar--visible')) {\n      this.$calendar.removeClass('eol-calendar--visible');\n    }\n  };\n  /**\n   * On user select the end date\n   * @param {Event} e\n   */\n\n\n  DateField.prototype.endDateSelected = function endDateSelected(e) {\n    var endDate = e.detail || e.originalEvent.detail;\n    this.$inputEnd.val((0, _CalendarConfig.dateFormat)(endDate, this.dateFormat));\n    var date1 = new Date(this.calendar.departureDate);\n    date1.setHours(0, 0, 0, 0);\n    var date2 = new Date(this.calendar.arrivalDate);\n    date2.setHours(0, 0, 0, 0);\n    var diffDays = this.diffDays(date1, date2);\n\n    var isSameDate = this.diffDays(this.calendar.startDate, endDate);\n    this.startDateClicked = false;\n    this.endDateClicked = isSameDate === 0 && this.datesDifference !== -1 ? false : true;\n\n    if (isSameDate === 0 && this.datesDifference !== -1) {\n      var message = (0, _get2.default)(__EK__, 'resources.BookManage/search-holiday/error-same-date__text');\n      this.$calendarMessage.html(message);\n    } else if (diffDays < 0) {\n      this.$inputStart.val((0, _CalendarConfig.dateFormat)(date2, this.dateFormat));\n      this.calendar.departureDate = date2;\n      this.calendar.startDate = date2;\n      this.calendar.updateEl();\n    }\n\n    if (this.closeCalendar) {\n      this.toggleState({});\n      this.collapse();\n    }\n    this.closeCalendar = true;\n  };\n\n  /**\n   * Day difference between two dates\n   * @param {Date} start date\n   * @param {Date} end date\n   */\n\n\n  DateField.prototype.diffDays = function diffDays(startDate, endDate) {\n    // eslint-disable-line class-methods-use-this\n    return Math.round((endDate - startDate) / (1000 * 60 * 60 * 24));\n  };\n\n  /**\n   * Format the date\n   * @param {Date} date\n   */\n\n\n  DateField.prototype.formatDate = function formatDate(date) {\n    // eslint-disable-line class-methods-use-this\n    var month = _CalendarConfig.MONTHS[date.getMonth()].label;\n    return date.getDate() + ' ' + month + ' ' + date.getFullYear();\n  };\n\n  /**\n   * Attach the DOM event listeners for the child elements\n   */\n\n\n  DateField.prototype.initDOMEvents = function initDOMEvents() {\n    var _this3 = this;\n\n    // add events to the text field\n    this.$input.on('focus', this.toggleState);\n    this.$input.on('keydown', this.preventDefault);\n    this.$input.on('keyup', this.manageKeyNav);\n    this.$addReturnAction.on('click', function () {\n      _this3.type = _CalendarConfig.TYPES.RETURN;\n      _this3.$inputOneWay.prop('checked', false);\n    });\n    this.$el.on('keydown', this.keyDownHandler);\n    this.$window.on('orientationchange', function () {\n      setTimeout(function () {\n        _this3.updateCalendarColumns();\n        _this3.calendar.updateEl();\n      }, 100);\n    });\n  };\n\n  /**\n     * Prevent Default behaviour for key event.\n     * @param {Object} e\n     */\n\n\n  DateField.prototype.preventDefault = function preventDefault(e) {\n    // eslint-disable-line class-methods-use-this\n    var keyCode = e.keyCode || e.which;\n    if (keyCode >= 37 && keyCode <= 40 || keyCode === 33 || keyCode === 34) {\n      e.preventDefault();\n    }\n  };\n\n  /**\n     * Set th active state of the element.\n     * @param {Boolean} flag - is active\n     */\n\n\n  DateField.prototype.setActive = function setActive(flag) {\n    this.$el.toggleClass(this.activeCls, flag);\n  };\n\n  /**\n   * Set th focus state of the element.\n   * @param {Boolean} flag - is focused\n   */\n\n\n  DateField.prototype.setFocused = function setFocused(flag, isStart) {\n    this.$el.toggleClass(this.focusCls, flag);\n    if (this.$returnCtrls.length === 1) {\n      if (isStart) {\n        this.$el.toggleClass(this.startFocusCls, flag);\n        this.$el.toggleClass(this.endFocusCls, false);\n      } else {\n        this.$el.toggleClass(this.endFocusCls, flag);\n        this.$el.toggleClass(this.startFocusCls, false);\n      }\n    }\n  };\n\n  DateField.prototype.setRawValue = function setRawValue(date) {\n    var message = (0, _CalendarConfig.dateFormat)(date, _CalendarConfig.CalendarConfig.srDateFormat);\n\n    if (this.calendar.mode === 'start') {\n      this.$inputStart.val((0, _CalendarConfig.dateFormat)(date, this.dateFormat));\n    } else {\n      if (this.$inputStart.val() === (0, _CalendarConfig.dateFormat)(date, this.dateFormat) && this.datesDifference !== -1) {\n        message = (0, _get2.default)(__EK__, 'resources.BookManage/search-holiday/error-same-date__text');\n        this.$calendarMessage.html(message);\n      } else {\n        this.$inputEnd.val((0, _CalendarConfig.dateFormat)(date, this.dateFormat));\n      }\n    }\n    this.$calendarMessage.html(message);\n  };\n\n  /**\n   * Manage key down event for date field\n   * @param {Event} e\n   */\n\n\n  DateField.prototype.keyDownHandler = function keyDownHandler(e) {\n    var _this4 = this;\n\n    var keyCode = e.keyCode || e.which;\n    if (keyCode === 9) {\n      setTimeout(function () {\n        if (_this4.isExpanded() && !(_this4.$input.is(':focus') || _this4.$calendar.find('input.checkbox__input').is(':focus'))) {\n          _this4.collapse();\n        }\n      }, 100);\n    }\n  };\n  /**\n   * Manage the key navigation over the calendar\n   * @param {Event} e\n   */\n\n\n  DateField.prototype.manageKeyNav = function manageKeyNav(e) {\n    var keyCode = e.keyCode || e.which;\n    var activeDate = this.calendar.activeDate == null || this.calendar.activeDate === undefined ? new Date() : this.calendar.activeDate;\n    activeDate.setHours(0, 0, 0, 0);\n    this.calendar.activeDate = activeDate;\n    var date = new Date();\n    var message = '';\n    switch (keyCode) {\n      case 38:\n        activeDate.setDate(activeDate.getDate() - 7);\n        if (activeDate >= this.calendar.minDate) {\n          date = this.calendar.highlightDay(activeDate);\n          if (this.isExpanded()) this.setRawValue(date);\n        } else {\n          activeDate.setDate(activeDate.getDate() + 7);\n        }\n        break;\n      case 39:\n        activeDate.setDate(activeDate.getDate() + 1);\n        if (activeDate <= this.calendar.maxDate) {\n          date = this.calendar.highlightDay(activeDate);\n          if (this.isExpanded()) this.setRawValue(date);\n        } else {\n          activeDate.setDate(activeDate.getDate() - 1);\n        }\n        break;\n      case 37:\n        activeDate.setDate(activeDate.getDate() - 1);\n        if (activeDate >= this.calendar.minDate) {\n          date = this.calendar.highlightDay(activeDate);\n          if (this.isExpanded()) this.setRawValue(date);\n        } else {\n          activeDate.setDate(activeDate.getDate() + 1);\n        }\n        break;\n      case 40:\n        activeDate.setDate(activeDate.getDate() + 7);\n        if (activeDate <= this.calendar.maxDate) {\n          date = this.calendar.highlightDay(activeDate);\n          if (this.isExpanded()) this.setRawValue(date);\n        } else {\n          activeDate.setDate(activeDate.getDate() - 7);\n        }\n        break;\n      case 33:\n        this.calendar.onNext(e);\n        activeDate = new Date(this.calendar.currentYear, this.calendar.currentMonth);\n        activeDate.setHours(0, 0, 0, 0);\n        date = this.calendar.highlightDay(activeDate);\n        if (this.isExpanded()) this.setRawValue(date);\n        break;\n      case 34:\n        this.calendar.onPrevious(e);\n        activeDate = new Date(this.calendar.currentYear, this.calendar.currentMonth);\n        activeDate.setHours(0, 0, 0, 0);\n        if (this.calendar.minDate != null && activeDate < this.calendar.minDate) {\n          activeDate = this.calendar.minDate;\n        } else if (activeDate < this.calendar.firstActiveDate) {\n          activeDate = this.calendar.firstActiveDate;\n        }\n        date = this.calendar.highlightDay(activeDate);\n        if (this.isExpanded()) this.setRawValue(date);\n        break;\n      case 27:\n        this.collapse();\n        break;\n      case 13:\n        e.preventDefault();\n        this.closeCalendar = false;\n        this.calendar.onDaySelect({}, new Date(activeDate.valueOf()));\n\n        var isSameDate = this.diffDays(this.calendar.startDate, activeDate);\n        var _message = '';\n        if (this.endDateClicked && isSameDate === 0 && this.datesDifference !== -1) {\n          _message = (0, _get2.default)(__EK__, 'resources.BookManage/search-holiday/error-same-date__text');\n        } else {\n          if ((this.$inputEnd.val() === '' && isSameDate === 0 || this.$inputEnd.val() !== '' && isSameDate !== 0) && this.startDateClicked && !this.endDateClicked) {\n            _message = (0, _CalendarConfig.dateFormat)(activeDate, _CalendarConfig.CalendarConfig.srDateFormat) + ' ' + this.selectedLabel;\n          } else if (isSameDate === 0 && this.datesDifference !== -1) {\n            _message = (0, _get2.default)(__EK__, 'resources.BookManage/search-holiday/error-same-date__text');\n          } else {\n            _message = (0, _CalendarConfig.dateFormat)(activeDate, _CalendarConfig.CalendarConfig.srDateFormat) + ' ' + this.selectedLabel;\n          }\n        }\n        this.$calendarMessage.html(_message);\n        break;\n      default:\n        break;\n    }\n    return false;\n  };\n\n  /**\n   * Toggle active state of the element\n   * @param {Event} e\n   */\n\n\n  DateField.prototype.toggleState = function toggleState(e) {\n    var _this5 = this;\n\n    if (!e) e = {}; // eslint-disable-line no-param-reassign\n    var $target = (0, _jquery2.default)(e.target);\n    // if the field has value or the event is focus then activate the element\n    this.setActive(this.$input.val().length > 0 || e.type === 'focus');\n\n    var isStart = true;\n\n    if ($target.hasClass(this.endInputCls)) {\n      isStart = false;\n    }\n\n    // if the event is focus then add focused class\n    this.setFocused(e.type === 'focus', isStart);\n\n    if ($target.length) {\n      $target.closest('.textfield__date').toggleClass('textfield__date--active', $target.val().length > 0 || e.type === 'focus');\n    }\n\n    if (e.type === 'focus') {\n      this.expand();\n\n      // Adjust calendar mode and min date\n      var adjustCalendarMode = function adjustCalendarMode() {\n        if ($target.hasClass(_this5.startInputCls)) {\n          _this5.calendar.mode = 'start';\n          _this5.calendar.minDate = _this5.calendar.firstActiveDate;\n          _this5.calendar.title = _this5.departureTitle;\n          _this5.calendar.icon = _this5.calendar.startIcon;\n          if (_this5.calendar.departureDate != null) {\n            _this5.calendar.currentMonth = _this5.calendar.departureDate.getMonth();\n            _this5.calendar.currentYear = _this5.calendar.departureDate.getFullYear();\n            var message = _this5.defaultDepartMessage + ' ' + (0, _CalendarConfig.dateFormat)(_this5.calendar.departureDate, _CalendarConfig.CalendarConfig.srDateFormat);\n            _this5.$departMessageEl.html(message);\n          }\n        } else if (_this5.type !== _CalendarConfig.TYPES.ONEWAY) {\n          _this5.calendar.mode = 'end';\n          _this5.calendar.title = _this5.arrivalTitle;\n          _this5.calendar.icon = _this5.calendar.returnIcon;\n          if (_this5.calendar.departureDate != null) {\n            _this5.calendar.minDate = _this5.calendar.departureDate;\n          } else {\n            _this5.calendar.minDate = _this5.calendar.firstActiveDate;\n          }\n          if (_this5.calendar.arrivalDate != null) {\n            var month = _this5.calendar.arrivalDate.getMonth();\n            var year = _this5.calendar.arrivalDate.getFullYear();\n            if (!(month === _this5.calendar.minDate.getMonth() && year === _this5.calendar.minDate.getFullYear()) && _this5.calendar.columns === 2) {\n              month = month === 0 ? 11 : month - 1;\n              year = month === 11 ? year - 1 : year;\n            }\n            _this5.calendar.currentMonth = month;\n            _this5.calendar.currentYear = year;\n            var _message2 = _this5.defaultReturnMessage + ' ' + (0, _CalendarConfig.dateFormat)(_this5.calendar.arrivalDate, _CalendarConfig.CalendarConfig.srDateFormat);\n            _this5.$returnMessageEl.html(_message2);\n          }\n        } else {\n          _this5.type = _CalendarConfig.TYPES.RETURN;\n          _this5.calendar.mode = 'end';\n          _this5.calendar.title = _this5.arrivalTitle;\n          _this5.calendar.icon = _this5.calendar.returnIcon;\n        }\n        _this5.calendar.updateEl();\n      };\n\n      // Adjust calendar mode\n      adjustCalendarMode();\n    }\n  };\n\n  /**\n   * Expand the calendar\n   */\n\n\n  DateField.prototype.expand = function expand() {\n    this.$calendar.addClass('eol-calendar--visible');\n    this.$calendar.addClass('eol-calendar--top');\n\n    this.$document.on('click', this.mimicBlur);\n    this.$el.addClass('datefield--expanded');\n    (0, _emit2.default)(this, 'expand', {});\n    this.updateCalendarColumns();\n  };\n\n  DateField.prototype.isExpanded = function isExpanded() {\n    return this.$calendar.hasClass('eol-calendar--visible');\n  };\n\n  DateField.prototype.updateCalendarColumns = function updateCalendarColumns() {\n    this.calendar.columns = this.$window.width() <= (0, _utils.getBreakpoint)('medium') ? 1 : 2;\n  };\n\n  /**\n   * Close the picker instance\n   */\n\n\n  DateField.prototype.collapse = function collapse() {\n    this.toggleState();\n    this.$el.removeClass('datefield--expanded');\n    this.$calendar.removeClass('eol-calendar--top');\n\n    this.$input.each(function (index, el) {\n      var $el = (0, _jquery2.default)(el);\n      $el.closest('.textfield__date').toggleClass('textfield__date--active', $el.val().length > 0);\n    });\n\n    if ((0, _jquery2.default)(window).width() > 768) {\n      this.$calendar.removeClass('eol-calendar--visible');\n    }\n    (0, _emit2.default)(this, 'collapse', {});\n  };\n\n  /**\n   * Mimics the blur event. The blur event can not be attached to the input in case of this select.\n   * Becuase this is a group of element. On click of body the list should be collapsed and this\n   * event should be removed from the body.\n   * @param {Event} e - Event object\n   */\n\n\n  DateField.prototype.mimicBlur = function mimicBlur(e) {\n    // If click is not on the select or its child element collapse the select list\n    // and remove the click handler from the document body.\n    if (!this.$el.is(e.target) && this.$el.has(e.target).length === 0) {\n      if (this.isExpanded()) this.collapse();\n      (0, _jquery2.default)(document.body).off('click', this.mimicBlur);\n    }\n  };\n\n  /**\n   * component name, used for internal purpose. As the tag names can be changed there is no way to\n   * distinguish between the elements. So adding a readonly name property to the element;\n   * @return {String} name - internal name of the component\n   */\n\n\n  _createClass(DateField, [{\n    key: 'name',\n    get: function get() {\n      // eslint-disable-line class-methods-use-this\n      return 'datefield';\n    }\n\n    /**\n    * Set the default start date in input\n    * @param {Boolean} readonly\n    */\n\n  }, {\n    key: 'initialStartDate',\n    set: function set(value) {\n      var date = new Date(value);\n      date.setHours(0, 0, 0, 0);\n      this.$inputStart.val((0, _CalendarConfig.dateFormat)(date, this.dateFormat));\n      this.calendar.departureDate = date;\n      this.calendar.startDate = date;\n      this.toggleState({});\n      (0, _emit2.default)(this, 'initialstartselect', { detail: date });\n    }\n\n    /**\n    * Set the default arrival date in input\n    * @param {Boolean} readonly\n    */\n\n  }, {\n    key: 'initialEndDate',\n    set: function set(value) {\n      var date = new Date(value);\n      date.setHours(0, 0, 0, 0);\n      this.$inputEnd.val((0, _CalendarConfig.dateFormat)(date, this.dateFormat));\n      this.calendar.arrivalDate = date;\n      this.calendar.endDate = date;\n      this.toggleState({});\n      (0, _emit2.default)(this, 'initialendselect', { detail: date });\n    }\n\n    /**\n    * Set the default arrival date in input\n    * @param {Boolean} readonly\n    */\n\n  }, {\n    key: 'dateOffset',\n    set: function set(value) {\n      var now = new Date();\n      var offset = parseInt(value, 10);\n      now.setDate(now.getDate() + offset);\n      this.calendar.maxDate = now;\n    }\n\n    /**\n     * Is readonly\n     * Sample markup expected - <eol-textfield readonly></eol-textfield>\n     * @return {Boolean} readonly\n     */\n\n  }, {\n    key: 'readonly',\n    get: function get() {\n      var readonly = this.getAttribute('readonly');\n      return this.hasAttribute('readonly') && readonly === undefined || readonly === 'true';\n    }\n\n    /**\n     * Set the input read only\n     * @param {Boolean} readonly\n     */\n    ,\n    set: function set(value) {\n      value = value || value === 'true'; // eslint-disable-line no-param-reassign\n      if (this.readonly !== value) {\n        this.setAttribute('readonly', value);\n        if (value) this.$input.attr('readonly', '');else this.$input.removeAttr('readonly', '');\n      }\n    }\n  }, {\n    key: 'flexible',\n    get: function get() {\n      var flexible = this.getAttribute('flexible');\n      return this.hasAttribute('flexible') && flexible === undefined || flexible === 'true';\n    }\n\n    /**\n    * Set the input read only\n    * @param {Boolean} readonly\n    */\n    ,\n    set: function set(value) {\n      value = value || value === 'true'; // eslint-disable-line no-param-reassign\n      if (this.flexible !== value) {\n        this.setAttribute('flexible', value);\n        this.calendar.flexibleSelected = true;\n      }\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      var attrValue = this.getAttribute('one-way');\n      if (attrValue && attrValue !== null) {\n        this.typeValue = _CalendarConfig.TYPES.ONEWAY;\n      } else if (!this.typeValue) {\n        this.typeValue = _CalendarConfig.TYPES.RETURN;\n      }\n      return this.typeValue;\n    },\n    set: function set(value) {\n      this.typeValue = value;\n      if (value === _CalendarConfig.TYPES.ONEWAY) {\n        this.$inputEnd.val('');\n        this.$returnCtrls.addClass('select-return-highlight');\n        this.$departCtrls.addClass('one-way-field ');\n        this.$calendar.addClass('eol-calendar-oneway');\n        this.$inputEnd.closest('.textfield__date').removeClass('textfield__date--active');\n      } else {\n        this.$returnCtrls.removeClass('select-return-highlight ');\n        this.$departCtrls.removeClass('one-way-field ');\n        this.$calendar.removeClass('eol-calendar-oneway');\n      }\n      this.$addReturnAction.toggleClass('eol-hidden', value === _CalendarConfig.TYPES.RETURN);\n      this.$returningText.toggleClass('eol-hidden', value !== _CalendarConfig.TYPES.RETURN);\n      this.calendar.setOneway(value === _CalendarConfig.TYPES.ONEWAY);\n    }\n  }, {\n    key: 'dayShortLabels',\n    get: function get() {\n      var labels = 'Sun, Mon, Tue, Wed, Thu, Fri, Sat'.split(',');\n      var attrValue = this.getAttribute('short-days');\n      if (attrValue && attrValue !== null) {\n        attrValue = attrValue.split(',');\n        if (attrValue.length === 7) {\n          labels = attrValue;\n        }\n      }\n      return labels;\n    }\n  }, {\n    key: 'dayLabels',\n    get: function get() {\n      var labels = 'Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday'.split(',');\n      var attrValue = this.getAttribute('long-days');\n      if (attrValue && attrValue !== null) {\n        attrValue = attrValue.split(',');\n        if (attrValue.length === 7) {\n          labels = attrValue;\n        }\n      }\n      return labels;\n    }\n  }, {\n    key: 'monthShortLabels',\n    get: function get() {\n      var labels = 'Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec'.split(',');\n      var attrValue = this.getAttribute('short-months');\n      if (attrValue && attrValue !== null) {\n        attrValue = attrValue.split(',');\n        if (attrValue.length === 12) {\n          labels = attrValue;\n        }\n      }\n      return labels;\n    }\n  }, {\n    key: 'monthLabels',\n    get: function get() {\n      var labels = 'January, February, March, April, May, June, July, August, September, October, November , December'.split(',');\n      var attrValue = this.getAttribute('long-months');\n      if (attrValue && attrValue !== null) {\n        attrValue = attrValue.split(',');\n        if (attrValue.length === 12) {\n          labels = attrValue;\n        }\n      }\n      return labels;\n    }\n  }, {\n    key: 'firstDay',\n    get: function get() {\n      var v = this.getAttribute('first-day');\n      return v !== null ? parseInt(v, 10) : 0;\n    }\n  }, {\n    key: 'datesDifference',\n    get: function get() {\n      var v = this.getAttribute('dates-difference');\n      return v !== null ? parseInt(v, 10) : 0;\n    }\n  }, {\n    key: 'selectedLabel',\n    get: function get() {\n      var v = this.getAttribute('selected-label');\n      return v !== null ? v : '';\n    }\n  }, {\n    key: 'nextMonthLabel',\n    get: function get() {\n      var v = this.getAttribute('next-month');\n      return v !== null ? v : '';\n    }\n  }, {\n    key: 'previousMonthLabel',\n    get: function get() {\n      var v = this.getAttribute('previous-month');\n      return v !== null ? v : '';\n    }\n  }, {\n    key: 'dateFormat',\n    get: function get() {\n      var v = this.getAttribute('date-format');\n      return v !== null ? v : '';\n    }\n  }]);\n\n  return DateField;\n}(_ComponentBase3.default);\n\nexports.default = DateField;\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/elements/DateField.js?")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ComponentBase2 = __webpack_require__(65);\n\nvar _ComponentBase3 = _interopRequireDefault(_ComponentBase2);\n\nvar _emit = __webpack_require__(66);\n\nvar _emit2 = _interopRequireDefault(_emit);\n\nvar _vdom = __webpack_require__(247);\n\nvar _vdom2 = _interopRequireDefault(_vdom);\n\nvar _CalendarConfig = __webpack_require__(42);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global window */\n// eslint-disable-line\n// eslint-disable-line\n\n\n/**\n * @class Calendar\n * @extends ComponentBase\n */\nvar Calendar = function (_ComponentBase) {\n  _inherits(Calendar, _ComponentBase);\n\n  function Calendar() {\n    _classCallCheck(this, Calendar);\n\n    return _possibleConstructorReturn(this, _ComponentBase.apply(this, arguments));\n  }\n\n  /**\n   * Web components V0 callback.\n   * This will be executed when the component is attached to the DOM.\n   */\n  Calendar.prototype.createdCallback = function createdCallback() {\n    if (_ComponentBase.prototype.createdCallback) {\n      _ComponentBase.prototype.createdCallback.call(this);\n    }\n\n    this.currentDate = new Date();\n    this.currentDate.setHours(0, 0, 0, 0);\n    this.today = this.currentDate;\n\n    this.activeDate = null;\n    this.arrivalDate = null;\n    this.departureDate = null;\n\n    this.mouseOverTimer = null;\n\n    this.currentMonth = this.currentDate.getMonth();\n    this.currentYear = this.currentDate.getFullYear();\n\n    this.startDate = new Date();\n    this.endDate = new Date();\n\n    if (this.maxDate == null) {\n      this.maxDate = new Date(2099, 1, 1);\n    }\n    this.onewaySelected = false;\n    this.flexibleSelected = false;\n\n    this.weekStart = _CalendarConfig.CalendarConfig.firstDay;\n\n    // bind the method to this context\n    this.updateEl = this.updateEl.bind(this);\n    this.renderCallback = this.renderCallback.bind(this);\n    this.onClose = this.onClose.bind(this);\n    this.onPrevious = this.onPrevious.bind(this);\n    this.onNext = this.onNext.bind(this);\n\n    _CalendarConfig.CalendarConfig.monthShort = [].concat(this.monthShortLabels.slice(0));\n\n    _CalendarConfig.CalendarConfig.monthLong = [].concat(this.monthLabels.slice(0));\n\n    // Render the DOM\n    this.updateEl();\n\n    if (this.isResponsive()) {\n      this.columns = 1;\n    }\n  };\n\n  Calendar.prototype.isResponsive = function isResponsive() {\n    // eslint-disable-line\n    return (0, _jquery2.default)(window).width() < 769;\n  };\n\n  Calendar.prototype.isMobileDevice = function isMobileDevice() {\n    return (0, _jquery2.default)('body').hasClass('is--touch-device');\n  };\n\n  Calendar.prototype.onClose = function onClose() {\n    (0, _emit2.default)(this, 'close');\n  };\n\n  Calendar.prototype.onNext = function onNext(e) {\n    if (e) {\n      e.preventDefault();\n    }\n    var month = this.currentMonth === 11 ? 0 : this.currentMonth + 1;\n    var year = month === 0 ? this.currentYear + 1 : this.currentYear;\n    var date = new Date(year, month);\n    if (date.getMonth() < this.maxDate.getMonth() && date.getFullYear() === this.maxDate.getFullYear() || date.getFullYear() < this.maxDate.getFullYear()) {\n      this.currentMonth = month;\n      this.currentYear = year;\n      this.updateEl();\n      if (e) {\n        (0, _jquery2.default)(e.target).closest('eol-calendar').find('.ek-datepicker__button.ek-datepicker__button--prev').removeClass('button--disabled');\n      }\n    } else {\n      (0, _jquery2.default)(e.target).addClass('button--disabled');\n    }\n  };\n\n  Calendar.prototype.onPrevious = function onPrevious(e) {\n    if (e) {\n      e.preventDefault();\n    }\n    var month = this.currentMonth === 0 ? 11 : this.currentMonth - 1;\n    var year = month === 11 ? this.currentYear - 1 : this.currentYear;\n    var date = new Date(year, month);\n    if (date.getMonth() >= this.minDate.getMonth() && date.getFullYear() === this.minDate.getFullYear() || date.getFullYear() > this.minDate.getFullYear()) {\n      this.currentMonth = month;\n      this.currentYear = year;\n      this.updateEl();\n      if (e) {\n        (0, _jquery2.default)(e.target).closest('eol-calendar').find('.ek-datepicker__button.ek-datepicker__button--next').removeClass('button--disabled');\n      }\n    } else {\n      (0, _jquery2.default)(e.target).addClass('button--disabled');\n    }\n  };\n\n  Calendar.prototype.renderDayHeader = function renderDayHeader() {\n    var days = days = this.dLabels.map(function (item) {\n      return (// eslint-disable-line\n        (0, _vdom2.default)(\n          'th',\n          { className: 'ek-datepicker__table-header' },\n          (0, _vdom2.default)(\n            'div',\n            { role: 'presentation', className: 'ek-datepicker__header-text' },\n            item\n          )\n        )\n      );\n    });\n    return (0, _vdom2.default)(\n      'tr',\n      null,\n      days\n    );\n  };\n\n  /**\n   * Checks the passed date is valid for processing.\n   * @param {Date} date\n   * @returns {Boolean} isActive\n   */\n\n\n  Calendar.prototype.isActiveDate = function isActiveDate(date) {\n    return date >= this.minDate && date <= this.maxDate;\n  };\n\n  Calendar.prototype.onDayHover = function onDayHover(e, date) {\n    var _this2 = this;\n\n    if (this.isActiveDate(date)) {\n      if (e.type === 'mouseover') {\n        this.activeDate = date;\n        this.updateEl();\n        clearTimeout(this.mouseOverTimer);\n      } else if (e.type === 'mouseout') {\n        this.mouseOverTimer = setTimeout(function () {\n          _this2.activeDate = null;\n          _this2.updateEl();\n        }, 100);\n      }\n    }\n  };\n\n  Calendar.prototype.highlightDay = function highlightDay(date) {\n    // eslint-disable-line consistent-return\n    if ((date > this.minDate || date.valueOf() === this.minDate.valueOf()) && date < this.maxDate) {\n      this.activeDate = date;\n      if (date.getMonth() > this.currentMonth + 1 || date.getFullYear() > this.currentYear) {\n        this.onNext();\n        return this.activeDate;\n      }\n      if (date.getMonth() < this.currentMonth || date.getFullYear() < this.currentYear) {\n        this.onPrevious();\n        return this.activeDate;\n      }\n\n      this.updateEl();\n      return this.activeDate;\n    }\n  };\n\n  Calendar.prototype.onDaySelect = function onDaySelect(e, date) {\n    var minDate = this.minDate; // eslint-disable-line prefer-destructuring\n    minDate.setHours(0, 0, 0, 0);\n\n    var isValid = date.valueOf() === minDate.valueOf() || date > minDate && date < this.maxDate;\n\n    if (isValid) {\n      if (this.mode === 'start') {\n        this.minDate = date;\n        this.startDate = date;\n        this.departureDate = date;\n        if (!this.onewaySelected) {\n          this.mode = 'end';\n        }\n\n        if (this.currentDate.getMonth() < date.getMonth()) {\n          this.currentMonth = date.getMonth();\n        }\n        (0, _emit2.default)(this, 'startselect', { detail: date });\n      } else if (this.mode === 'end') {\n        var differenceDates = this.diffDays(this.startDate, date);\n        if (this.datesDifference && this.datesDifference <= differenceDates || !this.datesDifference) {\n          this.endDate = date;\n          this.arrivalDate = date;\n          (0, _emit2.default)(this, 'endselect', { detail: date });\n        }\n      }\n      (0, _emit2.default)(this, 'select', { detail: date });\n      this.updateEl();\n    }\n  };\n\n  Calendar.prototype.getDateString = function getDateString(date) {\n    // eslint-disable-line class-methods-use-this\n    return '' + date.getDate() + date.getMonth() + date.getFullYear();\n  };\n\n  Calendar.prototype.updateEl = function updateEl() {\n    this.render(this, this.renderCallback);\n  };\n\n  Calendar.prototype.renderDays = function renderDays(month, year) {\n    var _this3 = this;\n\n    var startDate = new Date(year, month, 1);\n    var endDate = new Date(year, month + 1, 0);\n    var start = startDate.getDate();\n    var end = endDate.getDate();\n    var days = [[]];\n    var d = [[]];\n    if (startDate.getDay() < this.firstDay) {\n      for (var _i = this.firstDay; _i <= 6; _i++) {\n        // eslint-disable-line no-plusplus\n        days[0].push((0, _vdom2.default)('td', null));\n      }\n    } else {\n      for (var _i2 = 0; _i2 < startDate.getDay() - this.firstDay; _i2++) {\n        // eslint-disable-line no-plusplus, max-len\n        days[0].push((0, _vdom2.default)('td', null));\n        d[0].push(0);\n      }\n    }\n\n    var _loop = function _loop() {\n      var currentDate = new Date(year, month, start);\n      var dayString = _this3.getDateString(currentDate);\n      var cls = ['ek-datepicker__day'];\n      var calendarDateBtn = _this3.isMobileDevice() ?\n      // For Mobile Devices no need for Hover effects, which is causing Known iOS Double Tap Issue.\n      (0, _vdom2.default)(\n        'a',\n        {\n          'data-month': currentDate.getMonth(),\n          'data-year': currentDate.getFullYear(),\n          'data-date': currentDate.getDate(),\n          'data-string': dayString,\n          'aria-label': (0, _CalendarConfig.dateFormat)(currentDate, _this3.dateFormat),\n          'aria-disabled': currentDate < _this3.minDate || currentDate > _this3.maxDate,\n          onClick: function onClick(e) {\n            return _this3.onDaySelect(e, currentDate);\n          }\n        },\n        currentDate.getDate()\n      ) : (0, _vdom2.default)(\n        'a',\n        {\n          'data-month': currentDate.getMonth(),\n          'data-year': currentDate.getFullYear(),\n          'data-date': currentDate.getDate(),\n          'data-string': dayString,\n          'aria-label': (0, _CalendarConfig.dateFormat)(currentDate, _this3.dateFormat),\n          'aria-disabled': currentDate < _this3.minDate || currentDate > _this3.maxDate,\n          onMouseover: function onMouseover(e) {\n            return _this3.onDayHover(e, currentDate);\n          },\n          onMouseout: function onMouseout(e) {\n            return _this3.onDayHover(e, currentDate);\n          },\n          onClick: function onClick(e) {\n            return _this3.onDaySelect(e, currentDate);\n          }\n        },\n        currentDate.getDate()\n      );\n\n      if (currentDate.getDay() === _this3.firstDay) {\n        days.push([]);\n        d.push([]);\n      }\n\n      _this3.minDate.setHours(0, 0, 0, 0);\n\n      if (currentDate < _this3.minDate || currentDate > _this3.maxDate) {\n        cls.push('ek-datepicker__day--inactive');\n      }\n\n      if (currentDate.valueOf() === _this3.startDate.valueOf()) {\n        cls.push('ek-datepicker__day--start');\n        if (_this3.isOneWay) {\n          cls.push('ek-datepicker__day--oneway');\n        }\n      }\n\n      if (currentDate.valueOf() === _this3.endDate.valueOf() && !_this3.onewaySelected) {\n        cls.push('ek-datepicker__day--end');\n      }\n\n      if (currentDate.valueOf() === _this3.currentDate.valueOf()) {\n        cls.push('ek-datepicker__today');\n        if (_this3.departureDate == null && _this3.arrivalDate == null) {\n          cls.push('ek-datepicker__day--notselected');\n        }\n      }\n\n      if (_this3.activeDate != null && currentDate.valueOf() === _this3.activeDate.valueOf() && currentDate >= _this3.minDate) {\n        cls.push('calendar__day--over');\n      }\n\n      if (_this3.departureDate != null && _this3.arrivalDate != null && currentDate > _this3.departureDate && currentDate < _this3.arrivalDate && !_this3.onewaySelected) {\n        cls.push('ek-datepicker__day-range');\n      }\n\n      if (_this3.departureDate != null && _this3.activeDate > _this3.departureDate && _this3.arrivalDate == null && currentDate < _this3.activeDate && currentDate > _this3.departureDate && _this3.mode === 'end') {\n        cls.push('ek-datepicker__day-range');\n      }\n\n      d[d.length - 1].push(dayString);\n      days[days.length - 1].push((0, _vdom2.default)(\n        'td',\n        {\n          'data-month': currentDate.getMonth(),\n          'data-year': currentDate.getFullYear(),\n          'data-date': currentDate.getDate(),\n          'data-string': dayString,\n          'aria-selected': 'false',\n          'aria-disabled': 'false',\n          className: cls.join(' ')\n        },\n        calendarDateBtn\n      ));\n      start += 1;\n    };\n\n    while (start <= end) {\n      _loop();\n    }\n    var i = endDate.getDay();\n    if (i > 0) {\n      for (i; i < 7; i++) {\n        // eslint-disable-line no-plusplus\n        days[days.length - 1].push((0, _vdom2.default)('td', null));\n        d[d.length - 1].push(0);\n      }\n    }\n\n    return (0, _vdom2.default)(\n      'tbody',\n      null,\n      days.map(function (row) {\n        return (0, _vdom2.default)(\n          'tr',\n          null,\n          row.map(function (column) {\n            return column;\n          })\n        );\n      })\n    );\n  };\n\n  Calendar.prototype.renderCalendar = function renderCalendar(month, year, config) {\n    var _this4 = this;\n\n    var d = new Date(year, month, 1);\n    return (0, _vdom2.default)(\n      'div',\n      { className: 'ek-datepicker__column' },\n      (0, _vdom2.default)(\n        'div',\n        {\n          className: 'ek-datepicker__column-title',\n          'aria-live': 'assetive'\n        },\n        (0, _vdom2.default)(\n          'div',\n          { className: 'ek-datepicker__column-label label-month' },\n          this.monthLabels[month]\n        ),\n        (0, _vdom2.default)(\n          'div',\n          { className: 'ek-datepicker__column-label label-year' },\n          year\n        ),\n        function () {\n          // eslint-disable-line consistent-return\n          if (config.showPrevious) {\n            var className = 'ek-datepicker__button ek-datepicker__button--prev';\n            var disabled = d <= _this4.minDate;\n            if (disabled) {\n              className += ' button--disabled';\n            }\n            return (0, _vdom2.default)(\n              'a',\n              { href: '#',\n                tabIndex: '-1',\n                disabled: disabled,\n                onClick: _this4.onPrevious,\n                className: className\n              },\n              _this4.previousMonthLabel\n            );\n          }\n        }(),\n        function () {\n          // eslint-disable-line consistent-return\n          if (config.showNext) {\n            var className = 'ek-datepicker__button ek-datepicker__button--next';\n            // eslint-disable-next-line max-len\n            var disabled = month >= _this4.maxDate.getMonth() && year >= _this4.maxDate.getFullYear();\n            if (disabled) {\n              className += ' button--disabled';\n            }\n            return (0, _vdom2.default)(\n              'a',\n              { href: '#',\n                tabIndex: '-1',\n                disabled: disabled,\n                className: className,\n                onClick: _this4.onNext\n              },\n              _this4.nextMonthLabel\n            );\n          }\n        }()\n      ),\n      (0, _vdom2.default)(\n        'table',\n        {\n          role: 'presentation',\n          className: 'ek-datepicker__table',\n          cellPadding: 0,\n          cellSpacing: 0\n        },\n        (0, _vdom2.default)(\n          'thead',\n          null,\n          this.renderDayHeader()\n        ),\n        this.renderDays(month, year)\n      )\n    );\n  };\n\n  Calendar.prototype.renderHeading = function renderHeading() {\n    // eslint-disable-line consistent-return\n    if (this.title) {\n      var className = this.icon + ' picker-container__icon';\n      return (0, _vdom2.default)(\n        'h2',\n        { className: 'ek-datepicker__header-text' },\n        (0, _vdom2.default)('span', { 'class': className }),\n        this.title,\n        (0, _vdom2.default)(\n          'a',\n          { className: 'ek-datepicker__popup-close', onClick: this.onClose },\n          (0, _vdom2.default)('i', { className: 'icon icon-close' })\n        )\n      );\n    }\n  };\n\n  Calendar.prototype.setOneway = function setOneway(flag) {\n    this.onewaySelected = flag;\n    this.updateEl();\n  };\n\n  Calendar.prototype.renderColumns = function renderColumns() {\n    var _this5 = this;\n\n    var calendarCols = [];\n    var month = this.currentMonth;\n    var year = this.currentYear;\n    var d = new Date(year, month, 1);\n    calendarCols.push({ month: d.getMonth(), year: d.getFullYear() });\n\n    for (var i = 1; i < this.columns; i++) {\n      // eslint-disable-line no-plusplus\n      d.setMonth(d.getMonth() + 1);\n      calendarCols.push({ month: d.getMonth(), year: d.getFullYear() });\n    }\n\n    return calendarCols.map(function (col, idx) {\n      return _this5.renderCalendar(col.month, col.year, {\n        showPrevious: idx === 0,\n        showNext: idx === calendarCols.length - 1,\n        index: idx\n      });\n    });\n  };\n\n  Calendar.prototype.renderFlexibleDateController = function renderFlexibleDateController() {\n    var _this6 = this;\n\n    // eslint-disable-line consistent-return\n    if (this.enableFlexibleDate) {\n      return (0, _vdom2.default)(\n        'label',\n        { className: 'checkbox flexible-date' },\n        (0, _vdom2.default)('input', {\n          onChange: function onChange(e) {\n            return (0, _emit2.default)(_this6, 'flexibledate', { detail: e.target.checked });\n          },\n          type: 'checkbox',\n          className: 'checkbox__input js-flexible-dates',\n          checked: this.flexibleSelected\n        }),\n        (0, _vdom2.default)('div', { className: 'checkbox__checkmark' }),\n        this.flexibleDateLabel\n      );\n    }\n  };\n\n  Calendar.prototype.renderOnewayCheck = function renderOnewayCheck() {\n    var _this7 = this;\n\n    // eslint-disable-line consistent-return\n    if (this.onewayCheckLabel && this.onewayCheckLabel !== '') {\n      return (0, _vdom2.default)(\n        'label',\n        { className: 'checkbox one-way' },\n        (0, _vdom2.default)('input', {\n          type: 'checkbox',\n          className: 'checkbox__input js-one-way control__one-way',\n          checked: this.onewaySelected,\n          onChange: function onChange(e) {\n            _this7.onewaySelected = e.target.checked;\n            if (_this7.onewaySelected) {\n              _this7.endDate = new Date();\n              _this7.arrivalDate = null;\n            }\n            (0, _emit2.default)(_this7, 'onewayselect', { detail: e.target.checked });\n          }\n        }),\n        (0, _vdom2.default)('div', { className: 'checkbox__checkmark' }),\n        this.onewayCheckLabel\n      );\n    }\n  };\n\n  Calendar.prototype.renderCallback = function renderCallback() {\n    return (0, _vdom2.default)(\n      'div',\n      { className: 'ek-datepicker__holder' },\n      (0, _vdom2.default)(\n        'div',\n        { className: 'ek-datepicker ek-unselectable' },\n        (0, _vdom2.default)(\n          'div',\n          { className: 'ek-datepicker__header' },\n          this.renderHeading(),\n          (0, _vdom2.default)(\n            'div',\n            { className: 'ek-datepicker__radio' },\n            this.renderFlexibleDateController(),\n            this.renderOnewayCheck()\n          )\n        ),\n        this.renderColumns()\n      )\n    );\n  };\n\n  /**\n   * Day difference between two dates\n   * @param {Date} start date\n   * @param {Date} end date\n   */\n\n\n  Calendar.prototype.diffDays = function diffDays(startDate, endDate) {\n    // eslint-disable-line class-methods-use-this\n    return Math.round((endDate - startDate) / (1000 * 60 * 60 * 24));\n  };\n\n  _createClass(Calendar, [{\n    key: 'title',\n    get: function get() {\n      return this.titleValue;\n    },\n    set: function set(value) {\n      this.titleValue = value;\n    }\n  }, {\n    key: 'mode',\n    get: function get() {\n      if (!this.modeValue) {\n        this.modeValue = 'start';\n      }\n      return this.modeValue;\n    },\n    set: function set(value) {\n      if (value !== this.modeValue) {\n        this.modeValue = value;\n      }\n    }\n  }, {\n    key: 'minDate',\n    get: function get() {\n      if (!this.minDateValue) {\n        var minDate = new Date();\n        var minDateStr = this.getAttribute('min-date');\n        if (minDateStr) {\n          minDate = new Date(minDateStr);\n        }\n        this.minDateValue = minDate;\n      }\n      return this.minDateValue;\n    },\n    set: function set(value) {\n      this.minDateValue = value;\n    }\n  }, {\n    key: 'maxDate',\n    get: function get() {\n      if (!this.maxDateValue) {\n        var maxDate = new Date();\n        var maxDateStr = this.getAttribute('max-date');\n        if (maxDateStr) {\n          maxDate = new Date(maxDateStr);\n        }\n        this.maxDateValue = maxDate;\n      }\n      return this.maxDateValue;\n    },\n    set: function set(value) {\n      this.maxDateValue = value;\n    }\n  }, {\n    key: 'columns',\n    get: function get() {\n      if (!this.columnsValue) {\n        this.columnsValue = 2;\n      }\n      return this.columnsValue;\n    },\n    set: function set(value) {\n      if (value !== this.columnsValue) {\n        this.columnsValue = value;\n      }\n    }\n  }, {\n    key: 'enableFlexibleDate',\n    set: function set(value) {\n      this.enableFlexibleDateValue = value;\n    },\n    get: function get() {\n      if (this.enableFlexibleDateValue === undefined) this.enableFlexibleDateValue = false;\n      return this.enableFlexibleDateValue;\n    }\n  }, {\n    key: 'flexibleDateLabel',\n    get: function get() {\n      return this.flexibleDateLabelValue;\n    },\n    set: function set(value) {\n      this.flexibleDateLabelValue = value;\n    }\n  }, {\n    key: 'flexibleDateLabelMobile',\n    get: function get() {\n      return this.flexibleDateLabelMobileValue;\n    },\n    set: function set(value) {\n      this.flexibleDateLabelMobileValue = value;\n    }\n  }, {\n    key: 'onewayCheckLabel',\n    get: function get() {\n      return this.onewayCheckLabelValue;\n    },\n    set: function set(value) {\n      this.onewayCheckLabelValue = value;\n    }\n  }, {\n    key: 'firstActiveDate',\n    set: function set(value) {\n      this.firstActiveDateValue = value;\n    },\n    get: function get() {\n      if (!this.firstActiveDateValue) {\n        this.firstActiveDateValue = new Date();\n      }\n      return this.firstActiveDateValue;\n    }\n  }, {\n    key: 'icon',\n    get: function get() {\n      if (!this.iconData) {\n        this.iconData = '';\n      }\n      return this.iconData;\n    },\n    set: function set(value) {\n      this.iconData = value;\n    }\n  }, {\n    key: 'dayLabels',\n    get: function get() {\n      return this.dayLabelsData;\n    },\n    set: function set(value) {\n      this.dayLabelsData = value;\n    }\n  }, {\n    key: 'dayShortLabels',\n    get: function get() {\n      return this.dayShortLabelsData;\n    },\n    set: function set(value) {\n      this.dayShortLabelsData = value;\n    }\n  }, {\n    key: 'monthLabels',\n    get: function get() {\n      return this.monthLabelsData;\n    },\n    set: function set(value) {\n      this.monthLabelsData = value;\n    }\n  }, {\n    key: 'monthShortLabels',\n    get: function get() {\n      return this.monthShortLabelsData;\n    },\n    set: function set(value) {\n      this.monthShortLabelsData = value;\n    }\n  }, {\n    key: 'firstDay',\n    get: function get() {\n      return this.firstDayValue;\n    },\n    set: function set(value) {\n      this.firstDayValue = value;\n    }\n  }, {\n    key: 'datesDifference',\n    get: function get() {\n      return this.datesDifference;\n    },\n    set: function set(value) {\n      this.datesDifference = value;\n    }\n  }]);\n\n  return Calendar;\n}(_ComponentBase3.default);\n\nexports.default = Calendar;\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/elements/Calendar.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _vdom = __webpack_require__(248);\n\nvar vdom = _interopRequireWildcard(_vdom);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = vdom.builder();\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/vdom/index.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.text = exports.elementVoid = exports.elementOpenStart = exports.elementOpenEnd = exports.elementOpen = exports.elementClose = exports.attr = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _propContext; /* global window */\n/* eslint no-plusplus: 0, import/no-extraneous-dependencies: 0, no-param-reassign: 0 */\n\nexports.element = element;\nexports.builder = builder;\n\nvar _incrementalDom = __webpack_require__(100);\n\nvar _symbols = __webpack_require__(249);\n\nvar _propContext2 = __webpack_require__(250);\n\nvar _propContext3 = _interopRequireDefault(_propContext2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar root = window;\n\nvar customElements = root.customElements,\n    HTMLElement = root.HTMLElement;\n\nvar applyDefault = _incrementalDom.attributes[_incrementalDom.symbols.default];\n\n// A stack of children that corresponds to the current function helper being\n// executed.\nvar stackChren = [];\n\nvar $skip = '__skip';\nvar $currentEventHandlers = '__events';\nvar $stackCurrentHelperProps = '__props';\n\n// The current function helper in the stack.\nvar stackCurrentHelper = void 0;\n\n// This is used for the Incremental DOM overrides to keep track of what args\n// to pass the main elementOpen() function.\nvar overrideArgs = void 0;\n\n// The number of levels deep after skipping a tree.\nvar skips = 0;\n\nvar noop = function noop() {};\n\n// Adds or removes an event listener for an element.\nfunction applyEvent(elem, ename, newFunc) {\n  var events = elem[$currentEventHandlers];\n\n  if (!events) {\n    events = {};\n    elem[$currentEventHandlers] = {};\n  }\n\n  // Undefined indicates that there is no listener yet.\n  if (typeof events[ename] === 'undefined') {\n    // We only add a single listener once. Originally this was a workaround for\n    // the Webcomponents ShadyDOM polyfill not removing listeners, but it's\n    // also a simpler model for binding / unbinding events because you only\n    // have a single handler you need to worry about and a single place where\n    // you only store one event handler\n    elem.addEventListener(ename, function (e) {\n      if (events[ename]) {\n        events[ename].call(this, e);\n      }\n    });\n  }\n\n  // Not undefined indicates that we have set a listener, so default to null.\n  events[ename] = typeof newFunc === 'function' ? newFunc : null;\n}\n\nvar attributesContext = (0, _propContext3.default)(_incrementalDom.attributes, (_propContext = {\n  // Attributes that shouldn't be applied to the DOM.\n  key: noop,\n  statics: noop,\n\n  // Attributes that *must* be set via a property on all elements.\n  checked: _incrementalDom.applyProp,\n  className: _incrementalDom.applyProp,\n  disabled: _incrementalDom.applyProp,\n  value: _incrementalDom.applyProp,\n\n  // Ref handler.\n  ref: function ref(elem, name, value) {\n    elem[_symbols.ref] = value;\n  },\n\n\n  // Skip handler.\n  skip: function skip(elem, name, value) {\n    if (value) {\n      elem[$skip] = true;\n    } else {\n      delete elem[$skip];\n    }\n  }\n}, _propContext[_incrementalDom.symbols.default] = function (elem, name, value) {\n  var ce = customElements.get(elem.localName);\n  var props = ce && ce.props || {};\n  var prototype = ce && ce.prototype || {};\n\n  // TODO when refactoring properties to not have to workaround the old\n  // WebKit bug we can remove the \"name in props\" check below.\n  //\n  // NOTE: That the \"name in elem\" check won't work for polyfilled custom\n  // elements that set a property that isn't explicitly specified in \"props\"\n  // or \"prototype\" unless it is added to the element explicitly as a\n  // property prior to passing the prop to the vdom function. For example, if\n  // it were added in a lifecycle callback because it wouldn't have been\n  // upgraded yet.\n  //\n  // We prefer setting props, so we do this if there's a property matching\n  // name that was passed. However, certain props on SVG elements are\n  // readonly and error when you try to set them.\n  if ((name in props || name in elem || name in prototype) && !('ownerSVGElement' in elem)) {\n    (0, _incrementalDom.applyProp)(elem, name, value);\n    return;\n  }\n\n  // Explicit false removes the attribute.\n  if (value === false) {\n    applyDefault(elem, name);\n    return;\n  }\n\n  // Handle built-in and custom events.\n  if (name.indexOf('on') === 0) {\n    var firstChar = name[2];\n    var eventName = void 0;\n\n    if (firstChar === '-') {\n      eventName = name.substring(3);\n    } else if (firstChar === firstChar.toUpperCase()) {\n      eventName = firstChar.toLowerCase() + name.substring(3);\n    }\n\n    if (eventName) {\n      applyEvent(elem, eventName, value);\n      return;\n    }\n  }\n\n  applyDefault(elem, name, value);\n}, _propContext));\n\nfunction resolveTagName(name) {\n  // We return falsy values as some wrapped IDOM functions allow empty values.\n  if (!name) {\n    return name;\n  }\n\n  // We try and return the cached tag name, if one exists. This will work with\n  // *any* web component of any version that defines a `static is` property.\n  if (name.is) {\n    return name.is;\n  }\n\n  // Get the name for the custom element by constructing it and using the\n  // localName property. Cache it and lookup the cached value for future calls.\n  if (name.prototype instanceof HTMLElement) {\n    if (name[_symbols.name]) {\n      return name[_symbols.name];\n    }\n\n    // eslint-disable-next-line new-cap\n    var elem = new name();\n    elem[_symbols.name] = elem.localName;\n    return elem[_symbols.name];\n  }\n\n  // Pass all other values through so IDOM gets what it's expecting.\n  return name;\n}\n\n// Incremental DOM's elementOpen is where the hooks in `attributes` are applied,\n// so it's the only function we need to execute in the context of our attributes.\nvar elementOpen = attributesContext(_incrementalDom.elementOpen);\n\nfunction elementOpenStart(tag) {\n  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var statics = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  overrideArgs = [tag, key, statics];\n}\n\nfunction elementOpenEnd() {\n  var node = newElementOpen.apply(undefined, overrideArgs); // eslint-disable-line no-use-before-define\n  overrideArgs = null;\n  return node;\n}\n\nfunction wrapIdomFunc(func) {\n  var tnameFuncHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n  return function wrap() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // eslint-disable-line consistent-return\n    args[0] = resolveTagName(args[0]);\n    stackCurrentHelper = null;\n    if (typeof args[0] === 'function') {\n      // If we've encountered a function, handle it according to the type of\n      // function that is being wrapped.\n      stackCurrentHelper = args[0]; // eslint-disable-line prefer-destructuring\n      return tnameFuncHandler.apply(undefined, args);\n    } else if (stackChren.length) {\n      // We pass the wrap() function in here so that when it's called as\n      // children, it will queue up for the next stack, if there is one.\n      stackChren[stackChren.length - 1].push([wrap, args]);\n    } else {\n      if (func === elementOpen) {\n        if (skips) {\n          return ++skips;\n        }\n\n        var elem = func.apply(undefined, args);\n\n        if (elem[$skip]) {\n          ++skips;\n        }\n\n        return elem;\n      }\n\n      if (func === _incrementalDom.elementClose) {\n        if (skips === 1) {\n          (0, _incrementalDom.skip)();\n        }\n\n        // We only want to skip closing if it's not the last closing tag in the\n        // skipped tree because we keep the element that initiated the skpping.\n        if (skips && --skips) {\n          return; // eslint-disable-line consistent-return\n        }\n\n        var _elem = func.apply(undefined, args);\n        var ref = _elem[_symbols.ref];\n\n        // We delete so that it isn't called again for the same element. If the\n        // ref changes, or the element changes, this will be defined again.\n        delete _elem[_symbols.ref];\n\n        // Execute the saved ref after esuring we've cleand up after it.\n        if (typeof ref === 'function') {\n          ref(_elem);\n        }\n\n        return _elem;\n      }\n\n      // We must call elementOpenStart and elementOpenEnd even if we are\n      // skipping because they queue up attributes and then call elementClose.\n      if (!skips || func === elementOpenStart || func === elementOpenEnd) {\n        return func.apply(undefined, args);\n      }\n    }\n  };\n}\n\nfunction newAttr() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (stackCurrentHelper) {\n    // eslint-disable-next-line prefer-destructuring\n    stackCurrentHelper[$stackCurrentHelperProps][args[0]] = args[1];\n  } else if (stackChren.length) {\n    stackChren[stackChren.length - 1].push([newAttr, args]);\n  } else {\n    overrideArgs.push(args[0]);\n    overrideArgs.push(args[1]);\n  }\n}\n\nfunction stackOpen(tname, key, statics) {\n  var props = { key: key, statics: statics };\n\n  for (var _len3 = arguments.length, attrs = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {\n    attrs[_key3 - 3] = arguments[_key3];\n  }\n\n  for (var a = 0; a < attrs.length; a += 2) {\n    props[attrs[a]] = attrs[a + 1];\n  }\n  tname[$stackCurrentHelperProps] = props;\n  stackChren.push([]);\n}\n\nfunction stackClose(tname) {\n  var chren = stackChren.pop();\n  var props = tname[$stackCurrentHelperProps];\n  delete tname[$stackCurrentHelperProps];\n  var elemOrFn = tname(props, function () {\n    return chren.forEach(function (args) {\n      return args[0].apply(args, args[1]);\n    });\n  });\n  return typeof elemOrFn === 'function' ? elemOrFn() : elemOrFn;\n}\n\n// Incremental DOM overrides\n// -------------------------\n\n// We must override internal functions that call internal Incremental DOM\n// functions because we can't override the internal references. This means\n// we must roughly re-implement their behaviour. Luckily, they're fairly\n// simple.\nvar newElementOpenStart = wrapIdomFunc(elementOpenStart, stackOpen);\nvar newElementOpenEnd = wrapIdomFunc(elementOpenEnd);\n\n// Standard open / closed overrides don't need to reproduce internal behaviour\n// because they are the ones referenced from *End and *Start.\nvar newElementOpen = wrapIdomFunc(elementOpen, stackOpen);\nvar newElementClose = wrapIdomFunc(_incrementalDom.elementClose, stackClose);\n\n// Ensure we call our overridden functions instead of the internal ones.\nfunction newElementVoid(tag) {\n  for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  newElementOpen.apply(undefined, [tag].concat(args));\n  return newElementClose(tag);\n}\n\n// Text override ensures their calls can queue if using function helpers.\nvar newText = wrapIdomFunc(_incrementalDom.text);\n\n// Convenience function for declaring an Incremental DOM element using\n// hyperscript-style syntax.\nfunction element(tname, attrs) {\n  var atype = typeof attrs === 'undefined' ? 'undefined' : _typeof(attrs);\n\n  // If attributes are a function, then they should be treated as children.\n\n  for (var _len5 = arguments.length, chren = Array(_len5 > 2 ? _len5 - 2 : 0), _key5 = 2; _key5 < _len5; _key5++) {\n    chren[_key5 - 2] = arguments[_key5];\n  }\n\n  if (atype === 'function' || atype === 'string' || atype === 'number') {\n    chren.unshift(attrs);\n  }\n\n  // Ensure the attributes are an object. Null is considered an object so we\n  // have to test for this explicitly.\n  if (attrs === null || atype !== 'object') {\n    attrs = {};\n  }\n\n  // We open the element so we can set attrs after.\n  newElementOpenStart(tname, attrs.key, attrs.statics);\n\n  // Delete so special attrs don't actually get set.\n  delete attrs.key;\n  delete attrs.statics;\n\n  // Set attributes.\n  Object.keys(attrs).forEach(function (name) {\n    return newAttr(name, attrs[name]);\n  });\n\n  // Close before we render the descendant tree.\n  newElementOpenEnd(tname);\n  chren.forEach(function (ch) {\n    var ctype = typeof ch === 'undefined' ? 'undefined' : _typeof(ch);\n    if (ctype === 'function') {\n      ch();\n    } else if (ctype === 'string' || ctype === 'number') {\n      newText(ch);\n    } else if (Array.isArray(ch)) {\n      ch.forEach(function (sch) {\n        if (typeof sch === 'string' || typeof sch === 'number') newText(ch);else sch();\n      });\n    }\n  });\n\n  return newElementClose(tname);\n}\n\n// Even further convenience for building a DSL out of JavaScript functions or hooking into standard\n// transpiles for JSX (React.createElement() / h).\nfunction builder() {\n  for (var _len6 = arguments.length, tags = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    tags[_key6] = arguments[_key6];\n  }\n\n  if (tags.length === 0) {\n    return function () {\n      for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      return element.bind.apply(element, [null].concat(args));\n    };\n  }\n  return tags.map(function (tag) {\n    return function () {\n      for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      return element.bind.apply(element, [null, tag].concat(args));\n    };\n  });\n}\n\n// We don't have to do anything special for the text function; it's just a\n// straight export from Incremental DOM.\nexports.attr = newAttr;\nexports.elementClose = newElementClose;\nexports.elementOpen = newElementOpen;\nexports.elementOpenEnd = newElementOpenEnd;\nexports.elementOpenStart = newElementOpenStart;\nexports.elementVoid = newElementVoid;\nexports.text = newText;\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/vdom/vdom.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar connected = exports.connected = '____eol_connected';\nvar created = exports.created = '____eol_created';\n\nvar name = exports.name = '____eol_name';\n\n// Used on the Constructor\nvar ctorCreateInitProps = exports.ctorCreateInitProps = '____eol_ctor_createInitProps';\nvar ctorObservedAttributes = exports.ctorObservedAttributes = '____eol_ctor_observedAttributes';\nvar ctorProps = exports.ctorProps = '____eol_ctor_props';\nvar ctorPropsMap = exports.ctorPropsMap = '____eol_ctor_propsMap';\n\n// Used on the Element\nvar props = exports.props = '____eol_props';\nvar ref = exports.ref = '____eol_ref';\nvar renderer = exports.renderer = '____eol_renderer';\nvar rendering = exports.rendering = '____eol_rendering';\nvar rendererDebounced = exports.rendererDebounced = '____eol_rendererDebounced';\nvar updated = exports.updated = '____eol_updated';\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/vdom/symbols.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports.default = function (object, props) {\n  return function (func) {\n    return function () {\n      var saved = enter(object, props);\n      var result = func.apply(undefined, arguments);\n      exit(object, saved);\n      return result;\n    };\n  };\n};\n\nvar _assign = __webpack_require__(251);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction enter(object, props) {\n  var saved = {};\n  Object.keys(props).forEach(function (key) {\n    saved[key] = object[key];\n    object[key] = props[key]; // eslint-disable-line no-param-reassign\n  });\n  return saved;\n}\n\nfunction exit(object, saved) {\n  (0, _assign2.default)(object, saved);\n}\n\n// Decorates a function with a side effect that changes the properties of an\n// object during its execution, and restores them after. There is no error\n// handling here, if the wrapped function throws an error, properties are not\n// restored and all bets are off.\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/vdom/prop-context.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _getPropNamesAndSymbols = __webpack_require__(252);\n\nvar _getPropNamesAndSymbols2 = _interopRequireDefault(_getPropNamesAndSymbols);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// We are not using Object.assign if it is defined since it will cause\n// problems when Symbol is polyfilled.\n// Apparently Object.assign (or any polyfill for this method) does not copy non-native Symbols.\nexports.default = function (obj) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  args.forEach(function (arg) {\n    return (0, _getPropNamesAndSymbols2.default)(arg).forEach(function (nameOrSymbol) {\n      return obj[nameOrSymbol] = arg[nameOrSymbol];\n    });\n  }); // eslint-disable-line\n  return obj;\n};\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/vdom/assign.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = getPropNamesAndSymbols;\n\nvar _Ek = __webpack_require__(41);\n\n/**\n * Returns array of owned property names and symbols for the given object\n */\nfunction getPropNamesAndSymbols() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var listOfKeys = Object.getOwnPropertyNames(obj);\n  return (0, _Ek.isFunction)(Object.getOwnPropertySymbols) ? listOfKeys.concat(Object.getOwnPropertySymbols(obj)) : listOfKeys;\n}\n\n//# sourceURL=webpack:///./src/common/scripts/eol-components/vdom/get-prop-names-and-symbols.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _registerComponents = __webpack_require__(254);\n\n__webpack_require__(259);\n\n__webpack_require__(260);\n\n__webpack_require__(261);\n\n__webpack_require__(262);\n\n// polyfills\n__webpack_require__(263).polyfill();\n\n(0, _registerComponents.registerComponents)([__webpack_require__(266),\n\n// atoms\n__webpack_require__(267), __webpack_require__(269), __webpack_require__(271), __webpack_require__(273), __webpack_require__(277), __webpack_require__(335), __webpack_require__(337), __webpack_require__(339), __webpack_require__(341), __webpack_require__(343), __webpack_require__(137), __webpack_require__(346),\n\n// molecules\n__webpack_require__(366), __webpack_require__(368), __webpack_require__(370), __webpack_require__(372), __webpack_require__(374), __webpack_require__(384), __webpack_require__(386), __webpack_require__(390), __webpack_require__(392), __webpack_require__(394), __webpack_require__(397), __webpack_require__(399), __webpack_require__(401), __webpack_require__(403), __webpack_require__(405), __webpack_require__(407), __webpack_require__(409), __webpack_require__(411), __webpack_require__(413), __webpack_require__(415), __webpack_require__(137), __webpack_require__(417), __webpack_require__(419),\n\n// organisms\n__webpack_require__(421), __webpack_require__(423), __webpack_require__(425), __webpack_require__(429), __webpack_require__(431), __webpack_require__(433), __webpack_require__(442), __webpack_require__(444), __webpack_require__(449), __webpack_require__(451), __webpack_require__(454), __webpack_require__(459), __webpack_require__(466), __webpack_require__(468), __webpack_require__(470), __webpack_require__(474), __webpack_require__(476), __webpack_require__(478), __webpack_require__(482), __webpack_require__(484), __webpack_require__(486), __webpack_require__(488), __webpack_require__(490), __webpack_require__(500), __webpack_require__(502), __webpack_require__(504)]);\n\n//# sourceURL=webpack:///./src/sites/ekgroup/index.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unregisterComponents = unregisterComponents;\nexports.registerComponents = registerComponents;\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _keys = __webpack_require__(9);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _isFunction = __webpack_require__(46);\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _customEventManager = __webpack_require__(255);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar parseEventKey = function parseEventKey(key) {\n  return (/^([^\\s]+)(?:\\s(.*))?$/.exec(key) || []).slice(1);\n};\n\nvar attachEventDelegates = function attachEventDelegates(events, instance, $el) {\n  (0, _keys2.default)(events).forEach(function (description) {\n    var _parseEventKey = parseEventKey(description),\n        eventName = _parseEventKey[0],\n        target = _parseEventKey[1];\n\n    var methodName = events[description];\n\n    if ((0, _isFunction2.default)(instance[methodName])) {\n      instance['__' + methodName] = function () {\n        return instance[methodName].apply(instance, arguments);\n      };\n\n      if (isCustomEvent(eventName)) {\n        (0, _customEventManager.bindCustomEventHandler)(eventName, instance['__' + methodName], $el);\n      } else {\n        $el.on(eventName, target, instance['__' + methodName]);\n      }\n    } else {\n      throw new Error('Tried to bind a ' + eventName + ' to an undefined method \"' + methodName + '\" on ' + instance.constructor.name + '.');\n    }\n  });\n};\n\nvar isCustomEvent = function isCustomEvent(eventName) {\n  return eventName.split('.')[1];\n};\n\nvar instantiateComponent = function instantiateComponent(Component) {\n  return function (el) {\n    var $el = (0, _jquery2.default)(el);\n    var component = new Component({ el: el, $el: $el });\n\n    if (Component.events) attachEventDelegates(Component.events, component, $el);\n\n    return component;\n  };\n};\n\nfunction unregisterComponents(components) {\n  return components.reduce(function (success, component) {\n    if (!success) return success;\n\n    var instances = component.instances,\n        constructor = component.constructor;\n\n\n    if (!instances || !constructor) return false;\n\n    for (var _iterator = instances, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var instance = _ref;\n\n      if (typeof instance.destroy === 'function') instance.destroy();\n      for (var _iterator2 = (0, _keys2.default)(constructor.events), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref2;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref2 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref2 = _i2.value;\n        }\n\n        var description = _ref2;\n\n        var _parseEventKey2 = parseEventKey(description),\n            eventName = _parseEventKey2[0],\n            target = _parseEventKey2[1];\n\n        instance.$el.off(eventName, target, instance['__' + constructor.events[description]]);\n      }\n      delete instance.el;\n      delete instance.$el;\n    }\n\n    delete component.instances;\n    delete component.constructor;\n\n    return true;\n  }, true);\n}\n\nfunction registerComponents(components) {\n  return components.map(function (_Component) {\n    var Component = (0, _get2.default)(_Component, 'default', _Component || {});\n    if (Component.selector) {\n      var mountPoints = (0, _jquery2.default)(Component.selector).toArray();\n      return {\n        instances: mountPoints.map(instantiateComponent(Component)),\n        constructor: Component\n      };\n    }\n  }).filter(function (validComponent) {\n    return Boolean(validComponent);\n  });\n}\n\n//# sourceURL=webpack:///./src/common/scripts/core/register-components.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CustomEventManager = undefined;\nexports.bindCustomEventHandler = bindCustomEventHandler;\n\nvar _globalEventHandler = __webpack_require__(256);\n\nvar _globalEventHandler2 = _interopRequireDefault(_globalEventHandler);\n\nvar _breakpointEventHandler = __webpack_require__(258);\n\nvar _breakpointEventHandler2 = _interopRequireDefault(_breakpointEventHandler);\n\nvar _pubsubJs = __webpack_require__(57);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction bindCustomEventHandler(eventName, method, $el) {\n  var customEventManager = window.EKCustomEventHandler || new CustomEventManager();\n\n  customEventManager.bindClassEventHandler(eventName, method, $el);\n}\n\nvar CustomEventManager = exports.CustomEventManager = function () {\n  function CustomEventManager() {\n    _classCallCheck(this, CustomEventManager);\n\n    this.breakpoints = {\n      'mobile': 768,\n      'medium': 768,\n      'desktop': 1023\n    };\n\n    this.EKresizeEventHandler = false;\n    this.EKglobalEventHandler = false;\n    window.EKCustomEventHandler = this;\n  }\n\n  CustomEventManager.prototype.bindClassEventHandler = function bindClassEventHandler(eventName, method, $el) {\n    var _eventName$split = eventName.split('.'),\n        channel = _eventName$split[0],\n        theEventName = _eventName$split[1];\n\n    if (channel === 'global') this.createGlobalEventHandler(theEventName);\n    if (channel === 'breakpoint') this.createBreakpointEventHandler(theEventName, method);\n    _pubsubJs2.default.subscribe(eventName, method);\n  };\n\n  CustomEventManager.prototype.createBreakpointEventHandler = function createBreakpointEventHandler(eventName, method) {\n    var breakpointHandler = this.checkForBreakpointHandler();\n    var breakpointIsActive = breakpointHandler.applyEvent(eventName);\n    if (breakpointIsActive) method();\n  };\n\n  CustomEventManager.prototype.createGlobalEventHandler = function createGlobalEventHandler(eventName) {\n    var globalEventHandler = this.checkForGlobalEventHandler();\n    globalEventHandler.applyEvent(eventName);\n  };\n\n  CustomEventManager.prototype.checkForBreakpointHandler = function checkForBreakpointHandler() {\n    this.EKresizeEventHandler = this.EKresizeEventHandler || new _breakpointEventHandler2.default(this.breakpoints);\n    return this.EKresizeEventHandler;\n  };\n\n  CustomEventManager.prototype.checkForGlobalEventHandler = function checkForGlobalEventHandler() {\n    this.EKglobalEventHandler = this.EKglobalEventHandler || new _globalEventHandler2.default();\n    return this.EKglobalEventHandler;\n  };\n\n  return CustomEventManager;\n}();\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/custom-event-handler/custom-event-manager.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _throttle = __webpack_require__(56);\n\nvar _throttle2 = _interopRequireDefault(_throttle);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _pubsubJs = __webpack_require__(57);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nvar _utils = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GlobalEventHandler = function () {\n  function GlobalEventHandler() {\n    _classCallCheck(this, GlobalEventHandler);\n\n    this.options = {\n      events: {\n        scroll: [],\n        resize: []\n      },\n      debounce: 50,\n      boundEvents: {}\n    };\n\n    this.$window = (0, _jquery2.default)(window);\n    this.pubSub = _pubsubJs2.default;\n  }\n\n  GlobalEventHandler.prototype.getData = function getData(key) {\n    var data = void 0;\n\n    switch (key) {\n      case 'scroll':\n        data = this.$window.scrollTop();\n        break;\n      case 'resize':\n        data = (0, _utils.getBrowserWidth)();\n        break;\n    }\n\n    return data;\n  };\n\n  GlobalEventHandler.prototype.firstTimeEventBind = function firstTimeEventBind(globalEventName) {\n    this.options.boundEvents[globalEventName] = this.bindDebouncedEvent(globalEventName);\n  };\n\n  GlobalEventHandler.prototype.sendToPubSub = function sendToPubSub(eventName) {\n    var data = this.getData(eventName);\n    this.pubSub.publish('global.' + eventName, data);\n  };\n\n  GlobalEventHandler.prototype.bindDebouncedEvent = function bindDebouncedEvent(globalEventName) {\n    var _this = this;\n\n    return this.$window.on(globalEventName, (0, _throttle2.default)(function (event) {\n      _this.sendToPubSub(globalEventName);\n    }, this.debounce));\n  };\n\n  GlobalEventHandler.prototype.applyEvent = function applyEvent(eventName) {\n    var _options = this.options,\n        events = _options.events,\n        boundEvents = _options.boundEvents;\n\n\n    if (events.hasOwnProperty(eventName)) {\n      if (!boundEvents[eventName]) {\n        this.firstTimeEventBind(eventName);\n        this.options.boundEvents[eventName] = true;\n      }\n    }\n  };\n\n  return GlobalEventHandler;\n}();\n\nexports.default = GlobalEventHandler;\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/custom-event-handler/globalEventHandler.js?")},,function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _each = __webpack_require__(90);\n\nvar _each2 = _interopRequireDefault(_each);\n\nvar _pubsubJs = __webpack_require__(57);\n\nvar _pubsubJs2 = _interopRequireDefault(_pubsubJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ResizeEventHandler = function () {\n  function ResizeEventHandler(breakpoints) {\n    _classCallCheck(this, ResizeEventHandler);\n\n    this.options = {\n      mediaListeners: []\n    };\n\n    if (breakpoints) {\n      this.options.breakpoints = breakpoints;\n      this.firstConfigure();\n    } else {\n      throw new Error('You need to provide a set of breakpoints');\n    }\n  }\n\n  ResizeEventHandler.prototype.firstConfigure = function firstConfigure() {\n    this.createMatchMediaQueries(this.options.breakpoints);\n  };\n\n  ResizeEventHandler.prototype.createMatchMediaQueries = function createMatchMediaQueries(breakpoints) {\n    var _this = this;\n\n    (0, _each2.default)(breakpoints, function (breakpoint, key) {\n      var matchMediaQuery = _this.createMatchMediaQuery(breakpoint, key);\n      var mediaQueryListener = _this.bindMediaListener(matchMediaQuery, key);\n      _this.options.mediaListeners[key] = mediaQueryListener;\n    });\n  };\n\n  ResizeEventHandler.prototype.createMatchMediaQuery = function createMatchMediaQuery(breakpoint, key) {\n    var matchMediaListener = void 0;\n\n    if (key === 'mobile') {\n      matchMediaListener = global.matchMedia('screen and (max-width:' + breakpoint + 'px)');\n    } else {\n      matchMediaListener = global.matchMedia('screen and (min-width:' + (breakpoint + 1) + 'px)');\n    }\n\n    return matchMediaListener;\n  };\n\n  ResizeEventHandler.prototype.bindMediaListener = function bindMediaListener(mql, key) {\n    var _this2 = this;\n\n    mql.addListener(function (query) {\n      _this2.fireLinkedEvents(query, key);\n    });\n\n    return mql;\n  };\n\n  ResizeEventHandler.prototype.fireLinkedEvents = function fireLinkedEvents(query, key) {\n    if (query.matches) {\n      this.fireEvents(key);\n    }\n  };\n\n  ResizeEventHandler.prototype.fireEvents = function fireEvents(key) {\n    _pubsubJs2.default.publish('breakpoint.' + key);\n  };\n\n  ResizeEventHandler.prototype.applyEvent = function applyEvent(eventName) {\n    var mediaListeners = this.options.mediaListeners;\n\n\n    if (mediaListeners.hasOwnProperty(eventName)) {\n      return this.options.mediaListeners[eventName].matches;\n    } else {\n      throw new Error(format('Tried to bind a breakpoint named %s that was not found in breakpoints', eventName));\n    }\n  };\n\n  return ResizeEventHandler;\n}();\n\nexports.default = ResizeEventHandler;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(16)))\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/custom-event-handler/breakpointEventHandler.js?")},,,,,,,function(module,exports){eval("/* (ignored) */\n\n//# sourceURL=webpack:///vertx_(ignored)?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/sites/ekgroup/base.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(268);\n\n//# sourceURL=webpack:///./src/components/cta/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/cta/cta.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(270);\n\n//# sourceURL=webpack:///./src/components/check-box/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/check-box/check-box.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(272);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Radio Button component.\n * \n * @extends Component\n */\nvar RadioButton = function (_Component) {\n    _inherits(RadioButton, _Component);\n\n    function RadioButton(el, $el) {\n        _classCallCheck(this, RadioButton);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n        _this.options = {\n            focusVisible: 'radio-button--focus'\n        };\n        return _this;\n    }\n\n    /**\n     * Update DOM state to indicate that element is focused.\n     * \n     * @param {Event} e Focus event\n     */\n\n\n    RadioButton.prototype.handleFocus = function handleFocus(e) {\n        this.$el.addClass(this.options.focusVisible);\n    };\n\n    /**\n     * Update DOM state to indicate that element is not focused.\n     * \n     * @param {Event} e Focusout event\n     */\n\n\n    RadioButton.prototype.handleFocusOut = function handleFocusOut(e) {\n        this.$el.removeClass(this.options.focusVisible);\n    };\n\n    return RadioButton;\n}(_component2.default);\n\nRadioButton.selector = '.radio-button';\nRadioButton.events = {\n    'focus .radio-button__input': 'handleFocus',\n    'focusout .radio-button__input': 'handleFocusOut'\n};\nexports.default = RadioButton;\n\n//# sourceURL=webpack:///./src/components/radio-button/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/radio-button/radio-button.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(274);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _utils = __webpack_require__(5);\n\nvar _has = __webpack_require__(275);\n\nvar _has2 = _interopRequireDefault(_has);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Field component.\n * \n * @extends Component\n */\nvar Fields = function (_Component) {\n  _inherits(Fields, _Component);\n\n  function Fields(el, $el) {\n    _classCallCheck(this, Fields);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      isActive: 'field__input--active',\n      active: 'field--active',\n      focusVisible: 'field--focus',\n      clearInputBtn: 'clear-field--active',\n      patternNumeric: /\\d/\n    };\n    _this.keyCodes = {\n      8: 'Backspace',\n      37: 'LeftArrow',\n      39: 'RightArrow',\n      46: 'Delete'\n    };\n\n    _this.$fieldIndicator = _this.$el.find('.field__indicator');\n    _this.$input = _this.$el.find('input');\n    _this.initValue();\n    _this.defaultValue = _this.$input.prop('defaultValue');\n    _this.state = {\n      prefixPaddingAdded: false,\n      fieldType: _this.$input.attr('type')\n    };\n    return _this;\n  }\n\n  /**\n   * Sets initial value and state.\n   */\n\n\n  Fields.prototype.initValue = function initValue() {\n    var initValue = this.$input.data('init-value');\n    if (initValue) {\n      this.$input.val(initValue);\n      this.addIndicator(false);\n      this.$el.find('.clear-field').addClass(this.options.clearInputBtn);\n    } else {\n      this.$input.val('');\n    }\n  };\n\n  /**\n   * Removes value and update state.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Fields.prototype.clearInput = function clearInput(e) {\n    if (this.defaultValue) {\n      this.$input.val(this.defaultValue);\n    } else {\n      this.$input.val('');\n    }\n    this.$el.find('.clear-field').removeClass(this.options.clearInputBtn);\n    this.publish('input.cleared', { value: this.$input.val(), name: this.$input[0].name });\n    this.$input.focus();\n  };\n\n  /**\n   * Updates value and state.\n   * \n   * @param {Event} e Keyboard event\n   */\n\n\n  Fields.prototype.hasChanged = function hasChanged(e) {\n    if (e.target.value.length > 0) {\n      this.$el.find('.clear-field').addClass(this.options.clearInputBtn);\n    } else if (e.target.value.length === 0) {\n      this.$el.find('.clear-field').removeClass(this.options.clearInputBtn);\n    }\n  };\n\n  /**\n   * Check if input is focused to trigger state update.\n   * \n   * @param {Event} e Keyboard event\n   */\n\n\n  Fields.prototype.checkIndicator = function checkIndicator(e) {\n    if (this.$input.val()) {\n      var blur = !((0, _jquery2.default)((0, _jquery2.default)(e.target).parents()[2]).find('.increment-field').length > 0);\n      this.addIndicator(blur);\n    }\n  };\n\n  /**\n   * Updates input state to indicate that the field is focused.\n   * \n   * @param {*} blur Flag\n   */\n\n\n  Fields.prototype.addIndicator = function addIndicator(blur) {\n    this.$el.removeClass(this.options.focusVisible);\n    this.$el.addClass(this.options.active);\n    this.$input.addClass(this.options.isActive);\n    if (blur && (0, _jquery2.default)('body').hasClass('is--touch-device') && this.$input.prop('readonly')) {\n      this.$input.blur();\n    }\n\n    // If the input has a prefix that is not submitted to the server, adjust the padding\n    // but only once ever\n    if (this.$input.attr('data-prefix') && !this.state.prefixPaddingAdded) {\n      this.addPrefixPadding();\n      this.state.prefixPaddingAdded = true;\n    }\n  };\n\n  /**\n   * Updates input state to indicate that the field is not focused.\n   * \n   * @param {Event} e Keyboard event\n   */\n\n\n  Fields.prototype.removeIndicator = function removeIndicator(e) {\n    var _this2 = this;\n\n    // IE fix for refocusing start of input when focus blurred\n    if (this.$input.hasClass('subscribe__input') && !(e.currentTarget.value === '') && (0, _utils.getCurrentBreakpoint)().breakpoint === 'desktop') {\n      var v = this.$input.val();\n      this.$input.val('');\n      setTimeout(function () {\n        return _this2.$input.val(v);\n      }, 1);\n      return;\n    }\n    // we may have to control this in the bits we have as the browser blur happens too quickly\n    if (!this.$input.val()) {\n      this.$el.addClass(this.options.focusVisible);\n      this.$el.removeClass(this.options.active);\n      this.$input.removeClass(this.options.isActive);\n    } else {\n      this.errorHighlighter = this.$el.find('.error-highlighter');\n      this.inlineError = this.$el.find('.js-error');\n      if (this.errorHighlighter && this.errorHighlighter[0] && this.inlineError && this.inlineError[0].classList && !this.inlineError[0].classList.contains('show')) {\n        this.errorHighlighter[0].classList && this.errorHighlighter[0].classList.remove('error-highlighter');\n      }\n    }\n  };\n\n  /**\n   * Add extra padding to inputs that have a prefix that will not be submitted\n   * to the server. (Example flight number starts with EK-XYZ) but EK is not\n   * needed.\n   */\n\n\n  Fields.prototype.addPrefixPadding = function addPrefixPadding() {\n    var isRtl = (0, _jquery2.default)('html').attr('dir') === 'rtl';\n    var paddingString = isRtl ? 'padding-right' : 'padding-left';\n    var prefixWidth = Math.ceil(this.$el.find('.field__prefix').outerWidth());\n    var inputPadding = parseInt(this.$input.css(paddingString), 10);\n    if (isRtl) {\n      this.$input.css({ 'padding-right': prefixWidth + inputPadding + 'px' });\n    } else {\n      this.$input.css({ 'padding-left': prefixWidth + inputPadding + 'px' });\n    }\n  };\n\n  /**\n   * Handles keypress event to restrict characters.\n   * \n   * @param {Event} e Keyboard input event\n   */\n\n\n  Fields.prototype.onKeypress = function onKeypress(e) {\n    var charCode = e.which || e.keyCode || 0;\n    var charStr = String.fromCharCode(charCode);\n    switch (this.state.fieldType) {\n      case 'number':\n        {\n          if ((0, _has2.default)(this.keyCodes, charCode)) {\n            return true;\n          } else {\n            return this.options.patternNumeric.test(charStr);\n          }\n          break;\n        }\n      default:\n        {\n          return true;\n          break;\n        }\n    }\n  };\n\n  return Fields;\n}(_component2.default);\n\nFields.selector = '.js-fields';\nFields.events = {\n  'change input': 'checkIndicator',\n  'blur input': 'removeIndicator',\n  'focus input': 'addIndicator',\n  'input': 'hasChanged',\n  'reset': 'removeIndicator',\n  'click .clear-field--active': 'clearInput',\n  'keypress input': 'onKeypress'\n};\nexports.default = Fields;\n\n//# sourceURL=webpack:///./src/components/field/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/field/field.scss?")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(278);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _find = __webpack_require__(32);\n\nvar _find2 = _interopRequireDefault(_find);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _debounce = __webpack_require__(35);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _trim = __webpack_require__(279);\n\nvar _trim2 = _interopRequireDefault(_trim);\n\nvar _deburr = __webpack_require__(86);\n\nvar _deburr2 = _interopRequireDefault(_deburr);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _location = __webpack_require__(290);\n\nvar _location2 = _interopRequireDefault(_location);\n\nvar _utils = __webpack_require__(5);\n\nvar _airports = __webpack_require__(17);\n\nvar _search = __webpack_require__(308);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // @ts-check\n/* global __EK__, fetch, Boxever, location */\n\n// @ts-ignore\n\n\nvar KEY_CODES = {\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  DOWN: 40,\n  UP: 38,\n  BACKSPACE: 8,\n  ANDROID_SPECIAL: 229\n};\n\nvar MAX_DROPDOWN_PAGE_SIZE = 30;\nvar MIN_SEARCH_INPUT_LENGTH = 1;\n\nvar selectText = function selectText(e) {\n  var isTriggered = !e.originalEvent;\n  if (!isTriggered) {\n    var valLength = e.target.value.length;\n    //.select() is not supported by iOS. Hence we should use setSelectionRange which works for common browsers\n    e.target.focus();\n    e.target.setSelectionRange(0, valLength);\n  }\n};\nvar selectTextDebounced = (0, _debounce2.default)(selectText, 10);\n\n/**\n * Class representing Dropdown component.\n * \n * @extends Component\n */\n\nvar DropDown = function (_Component) {\n  _inherits(DropDown, _Component);\n\n  function DropDown(el, $el) {\n    _classCallCheck(this, DropDown);\n\n    // TODO: refactor this to live inside the state.\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.defaults = {\n      isSelect: false,\n      isFilter: false,\n      isLoadOnFly: false,\n      isLoading: false,\n      isLocked: false,\n      dataSet: false\n    };\n    _this.options = _this.readAttributes(_this.defaults);\n    _this.lang = (0, _jquery2.default)('html').attr('lang');\n    _this.isFiltered = false;\n    _this.isKeyDown = false;\n    if (_this.$el && _this.$el.attr('data-aria-search-id')) {\n      var _resultId = _this.$el.attr('data-aria-search-id');\n      _this.$elSearchResultContainer = _this.$el.find('#' + _resultId) && _this.$el.find('#' + _resultId)[0];\n    }\n    _this.state = {\n      selectedValue: null,\n      previousValue: null\n    };\n\n    if (_this.options.isSelect) {\n      _this.createSelect();\n      if (_this.options.isFilter) {\n        _this.createFilter();\n      }\n      if (_this.options.isLoadOnFly) {\n        _this.loadOnFly();\n      }\n      if (_this.fieldInput.val()) {\n        _this.setSelected();\n      }\n    } else {\n      _this.createStandardDropdown();\n    }\n\n    if (_this.options.dataType === 'origins' || _this.options.dataType === 'destinations') {\n      _this.options.isLoading = true;\n    }\n\n    // Dont show loading as initial state for holiday destinations because the list is loaded on the fly\n    if (_this.options.section === 'holiday' && _this.options.dataType === 'destinations') {\n      _this.options.isLoading = false;\n    }\n\n    (0, _jquery2.default)(_this.$el).ready(function () {\n      if (_this.$el.find('.three-date-dropdown').length > 0) {\n        (0, _jquery2.default)(_this.$el.find('.three-date-dropdown .three-date-dropdown__link')[1]).trigger('click');\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Select all the previously existing text only\n   * in case is a `drop-down` that accepts text input such\n   * as Origins or Destinations.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.handleSelectText = function handleSelectText(e) {\n    if (this.options.isLocked) {\n      this.$el.find('input').blur();\n      return;\n    }\n    if (this.options.isFilter) {\n      selectTextDebounced(e);\n    }\n  };\n\n  /**\n   * Sets focus to input and shows dropdown.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.handleFocus = function handleFocus(e) {\n    var _this2 = this;\n\n    if (this.options.isLocked) {\n      return;\n    }\n    if (this.fieldInput) {\n      if (this.fieldInput.val().length > 0) {\n        this.setSelected();\n      }\n    }\n\n    if (this.isKeySelected) {\n      setTimeout(function () {\n        return _this2.isKeySelected = false;\n      }, 100);\n    } else {\n      if (this.toggleButton) {\n        if (!this.toggleButton.is(e.target) && !this.toggleButton.find('.js-toggle-text').is(e.target)) {\n          this.dropdownOpen(e);\n        }\n      } else {\n        this.dropdownOpen(e);\n      }\n    }\n  };\n\n  DropDown.prototype.dropdownToggle = function dropdownToggle(e) {\n    e.stopPropagation();\n\n    //EM-7901: Announce selected value in the dropdown and also announced if the dropdown is collapsed or expaned\n    //Due to firefox bug, aria-expanded attribute is not announced on change\n    //https://github.com/nvaccess/nvda/issues/5247 and  https://bugzilla.mozilla.org/show_bug.cgi?id=659886\n    //Hence, manully created a hidden span which stores the statuss of dropdown either collapsed or expanded\n    //This status is changed manually in the below code based on the action\n    var $shouldExpandCollapseEl = null;\n    if (this.options.shouldExpandCollapseAnnounce) {\n      $shouldExpandCollapseEl = this.$el.find('.should-expand-collapse-announce').length ? this.$el.find('.should-expand-collapse-announce')[0] : null;\n    }\n\n    if (this.$el.hasClass('show')) {\n      this.closeDropdown();\n\n      if ($shouldExpandCollapseEl) {\n        var val = window.__EK__.resources && window.__EK__.resources['Common/Accessibility/collapsed__text'] ? window.__EK__.resources['Common/Accessibility/collapsed__text'] : '';\n\n        $shouldExpandCollapseEl.setAttribute(\"aria-label\", val);\n      }\n    } else {\n      this.dropdownOpen(e);\n      this.setSelected();\n\n      if ($shouldExpandCollapseEl) {\n        var _val = window.__EK__.resources && window.__EK__.resources['Common/Accessibility/expanded__text'] ? window.__EK__.resources['Common/Accessibility/expanded__text'] : '';\n\n        $shouldExpandCollapseEl.setAttribute(\"aria-live\", \"assertive\");\n        $shouldExpandCollapseEl.setAttribute(\"aria-label\", _val);\n      }\n    }\n  };\n\n  /**\n   * Handles dropdown Focus In.\n   */\n\n\n  DropDown.prototype.focusInHandler = function focusInHandler() {\n    this.isKeyDown = false;\n    clearTimeout(this.closeTimer);\n  };\n\n  /**\n   * Handles dropdown Focus Out.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.focusOutHandler = function focusOutHandler(e) {\n    var _this3 = this;\n\n    e && e.stopPropagation();\n    if ((0, _utils.getCurrentBreakpoint)().breakpoint === 'mobile' || e.relatedTarget === null) return;\n    this.closeTimer = setTimeout(function () {\n      return _this3.closeDropdown();\n    }, 100);\n  };\n\n  /**\n   * Returns IATA code from first position in highlighted results.\n   * \n   * @return {string|boolean}\n   */\n\n\n  DropDown.prototype.isBestMatch = function isBestMatch() {\n    var bestMatchValue = (0, _get2.default)(this, 'options.dataSet.highlightedResults.0.iataCode', '');\n    if (!this.fieldInput) {\n      return false;\n    }\n    return this.isFiltered && bestMatchValue && !this.state.selectedValue;\n  };\n\n  /**\n   * Updates state with first result from highlighted results and triggers actions to update DOM content.\n   */\n\n\n  DropDown.prototype.chooseBestMatch = function chooseBestMatch() {\n    var bestMatchValue = (0, _get2.default)(this, 'options.dataSet.highlightedResults.0.iataCode', false);\n    var $element = this.$el.find('.js-dropdown-select-item[data-dropdown-id=\"' + bestMatchValue + '\"]').first();\n    if (!bestMatchValue || !$element.length) {\n      return;\n    }\n    this.state.selectedValue = bestMatchValue;\n    this.setDropDownValue(this.getDisplayValue($element));\n    this.resetDropdownValues();\n\n    // Publish event to change form value\n    var section = this.$el.data('section');\n    var itemType = this.options.dataType === 'origins' ? 'origin' : 'destination';\n    var itemValue = (0, _find2.default)(this.options.dataSet.items, function (i) {\n      return i.iataCode === bestMatchValue;\n    });\n    var name = this.fieldInput.length && this.fieldInput[0].name;\n    if (itemType === 'origin' && itemValue) {\n      this.fetchDestinationsForOrigin(itemValue.iataCode, true, itemValue.country);\n    }\n    this.publish('search.selection.' + section, { type: itemType, value: itemValue, name: name });\n  };\n\n  /**\n   * Returns values to be used for updating dropdown state.\n   * \n   * @param {JQuery} element \n   * @return {object}\n   */\n\n\n  DropDown.prototype.getDisplayValue = function getDisplayValue(element) {\n    var display = element.data('dropdownDisplay');\n    return {\n      value: element.data('dropdownId'),\n      display: display.replace(/<span class=\"to-highlight\">(.*?)<\\/span>/g, '$1')\n    };\n  };\n\n  /**\n   * Returns the DOM element dataset merged with provided default options.\n   * \n   * @param {object} options \n   * @return {object}\n   */\n\n\n  DropDown.prototype.readAttributes = function readAttributes(options) {\n    var updatedOptions = (0, _assign2.default)({}, options, this.$el.data());\n    updatedOptions.dataSet = updatedOptions.dataSet ? (0, _get2.default)(window, '__EK__.' + updatedOptions.dataSet) : false;\n    return updatedOptions;\n  };\n\n  /**\n   * Toggles class to show or hide dropdown modal window.\n   * \n   * @param {Event} e \n   * @todo Check if trigger (.js-modal) exists, possible dead code here.\n   */\n\n\n  DropDown.prototype.toggleModal = function toggleModal(e) {\n    (0, _jquery2.default)((0, _jquery2.default)(e.currentTarget).data('modalSel')).toggleClass('dropdown--modal');\n  };\n\n  /**\n   * Registers DOM element related to dropdown, update state and binds events.\n   */\n\n\n  DropDown.prototype.createSelect = function createSelect() {\n    this.hiddenInput = this.$el.find('.js-hidden-select');\n    this.$selectableItems = this.$el.find('.js-dropdown-select-item');\n    this.fieldInput = this.$el.find('.field__input');\n    this.fieldLabel = this.$el.find('.js-label');\n    this.dropdown = this.$el.find('.dropdown');\n    this.closeButton = this.$el.find('.dropdown__heading__close').length > 0 ? this.$el.find('.dropdown__heading__close') : this.$el.find('.dropdown__close');\n    this.fieldValue = this.$el.find('.js-field-value');\n    this.toggleButton = this.$el.find('.js-drop-open');\n    this.isKeySelected = false;\n    this.isMobileBubbleDropdown = this.$el.hasClass('js-mobile-bubble-dropdown');\n    this.bindHideClick();\n    this.bindLazyScrollEvent(); // Attach lazy scroll event\n  };\n\n  /**\n   * Returns string without.\n   * \n   * @param {string} str \n   */\n\n\n  DropDown.prototype.cleanSearchString = function cleanSearchString(str) {\n    // Remove leading and trailing spaces.\n    return (0, _trim2.default)((0, _deburr2.default)(str));\n  };\n\n  /**\n   * Creates a filter with delay and debounce to avoid performance issues.\n   */\n\n\n  DropDown.prototype.createFilter = function createFilter() {\n    var _this4 = this;\n\n    var delay = (0, _utils.getCurrentBreakpoint)().breakpoint === 'mobile' ? 500 : 100;\n    var debounced = (0, _debounce2.default)(function (e) {\n      var searchString = _this4.cleanSearchString(_this4.fieldInput.val());\n\n      if (!searchString || searchString.length < MIN_SEARCH_INPUT_LENGTH) {\n        if (_this4.isFiltered) {\n          _this4.isFiltered = false;\n          return _this4.bulkRender();\n        }\n      } else {\n        var results = (0, _search.filterList)(searchString, _this4.options.dataSet.items);\n        _this4.isFiltered = true;\n        _this4.state.selectedValue = null;\n        _this4.options.dataSet.highlightedResults = results;\n\n        // trigger predictive for all keys except backspace and 229 keycode and when the search string is greater than minimum length\n        if (e.keyCode !== KEY_CODES.BACKSPACE && e.keyCode !== KEY_CODES.ANDROID_SPECIAL && searchString.length > MIN_SEARCH_INPUT_LENGTH) {\n          (0, _search.predictiveHighlight)(results, _this4.fieldInput);\n        }\n\n        var emtpyResult = [];\n\n        var _ref = results.length === 1 ? results : emtpyResult,\n            firstResult = _ref[0];\n\n        return _this4.updateSuggestedItems((0, _get2.default)(firstResult, 'iataCode'));\n      }\n    }, delay);\n\n    // register event for printable chars\n    this.fieldInput.on('keydown paste', function (e) {\n      if (e.ctrlKey || e.altKey || e.metaKey || [KEY_CODES.TAB, KEY_CODES.UP, KEY_CODES.DOWN].indexOf(e.keyCode) > -1) {\n        // Avoid ctrl+a / cmd+a key presses\n        return;\n      }\n      debounced(e);\n    });\n  };\n\n  /**\n   * Adds a limitation to trigger load only after certain number of characters.\n   */\n\n\n  DropDown.prototype.loadOnFly = function loadOnFly() {\n    var _this5 = this;\n\n    var MIN_LETTERS = 3;\n    var DELAY_MOBILE = 500;\n    var DELAY_DESKTOP = 300;\n\n    var delay = (0, _utils.getCurrentBreakpoint)().breakpoint === 'mobile' ? DELAY_MOBILE : DELAY_DESKTOP;\n    var debounced = (0, _debounce2.default)(function (e) {\n\n      var searchString = _this5.cleanSearchString(_this5.fieldInput.val());\n      if (searchString.length >= MIN_LETTERS) {\n        _this5.publish('dest-holiday.load', searchString);\n      } else {\n        _this5.showHolidayDestinationsDefaultTemplate();\n      }\n    }, delay);\n\n    // register event for printable chars\n    this.fieldInput.on('keydown', function (e) {\n      if (e.ctrlKey || e.altKey || e.metaKey || [KEY_CODES.UP, KEY_CODES.DOWN].indexOf(e.keyCode) > -1) {\n        // Avoid ctrl+a / cmd+a key presses\n        return;\n      }\n\n      if (KEY_CODES.TAB === e.keyCode && _this5.fieldInput[0].value.length >= MIN_LETTERS) {\n        var results = _this5.options.dataSet.items;\n        // list loading as per user inputs via external API, perdictive highlight not required\n        // predictiveHighlight(results, this.fieldInput)\n\n        // getting first item from the existing list\n        var firstResult = results.length > 0 ? results[0] : [];\n        var name = _this5.fieldInput.length && _this5.fieldInput[0].name;\n        var display = (0, _get2.default)(firstResult, 'title');\n        var value = (0, _get2.default)(firstResult, 'iataCode');\n        _this5.setDropDownValue({ display: display, value: value }); // Display the value on text box\n\n        // change the current state of desitination value\n        _this5.publish('search.selection.holiday', {\n          type: \"destination\",\n          value: firstResult,\n          name: name\n        });\n      } else {\n        debounced(e);\n      }\n    });\n\n    this.showHolidayDestinationsDefaultTemplate();\n  };\n\n  /**\n   * Triggers bulk render.\n   */\n\n\n  DropDown.prototype.resetDropdownValues = function resetDropdownValues() {\n    this.isFiltered = false;\n    this.bulkRender();\n  };\n\n  /**\n   * Registers DOM elements.\n   */\n\n\n  DropDown.prototype.createStandardDropdown = function createStandardDropdown() {\n    this.dropdown = this.$el.find('.dropdown');\n    this.toggleButton = this.$el.find('.js-drop-open');\n  };\n\n  /**\n   * Returns indicators for type of the trip.\n   * \n   * @param {object} location \n   * @return {object}\n   */\n\n\n  DropDown.prototype.availableIconForLocation = function availableIconForLocation() {\n    var location = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var local = location.isLocal || location.iataCode ? location.iataCode === (0, _get2.default)(this, 'options.dataSet.closest.iataCode') : false;\n    // TODO(techdebt): constants\n    var train = location.stationType && location.stationType === '2';\n    var bus = location.stationType && location.stationType === '1';\n    return { local: local, bus: bus, train: train, clear: false };\n  };\n\n  /**\n   * Handles mouse click on dropdown item.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.dropdownItemClicked = function dropdownItemClicked(e) {\n    var value = (0, _jquery2.default)(e.currentTarget).data('dropdownId');\n\n    // Check if there is a tab key press.\n    // Check if there is only one search result.\n    // Make sure this applys only to higlighted results.\n    // (nor closes/recent searches/suggested).\n    var isTabSingleResult = e.keyCode === KEY_CODES.TAB && (0, _get2.default)(this, 'options.dataSet.highlightedResults.0.iataCode', '-') === value;\n\n    if (e.key === 'Enter' || e.keyCode === KEY_CODES.ENTER || e.type === 'click' || isTabSingleResult) {\n      e.preventDefault();\n\n      // Check if the event was triggered by checking the presence of `originalEvent`,\n      // Mouse or Keyboard events will have the property defined.\n      var isTriggered = !e.originalEvent;\n\n      var isInsideWidgets = (0, _jquery2.default)(e.target).closest('.js-widget').length;\n      if (isInsideWidgets) {\n        e.stopPropagation(); // prevent page scrolling\n      }\n\n      var wasValueEmpty = this.state.previousValue === null;\n      this.state.selectedValue = value;\n      var name = this.fieldInput.length && this.fieldInput[0].name;\n      var recentSearchItem = (0, _jquery2.default)(e.currentTarget).data('dropdownRecentSearch');\n      var section = this.$el.data('section');\n      var display = (0, _jquery2.default)(e.currentTarget).data('dropdownDisplay');\n\n      this.setSelected();\n      this.closeDropdown();\n\n      if (e.key === 'Enter' || e.keyCode === KEY_CODES.ENTER) this.$el.find('.js-clear-selected').focus();\n\n      display = display.replace(/<span class=\"to-highlight\">(.*?)<\\/span>/g, '$1');\n\n      this.setDropDownValue({ display: display, value: value });\n\n      // If the actual element selected is a recent search use the `searches` items\n      // otherwise use the whole list `items`.\n      var collection = recentSearchItem ? this.options.dataSet.searches : this.options.dataSet.items;\n\n      if (collection) {\n        // This can be read from `airportsByIataCode`\n        var itemFromCollection = (0, _find2.default)(collection, function (i) {\n          return recentSearchItem && i.search_id === recentSearchItem || i.id === value || i.iataCode === value;\n        });\n\n        var itemType = this.options.dataType === 'origins' ? 'origin' : 'destination';\n        var itemValue = recentSearchItem ? itemFromCollection[itemType] : itemFromCollection;\n        var itemIcons = this.availableIconForLocation(itemValue);\n        var originIataCode = value;\n        if (itemType === 'origin' && !recentSearchItem) {\n          // It should not focus the input when the event was triggered.\n          var shouldFocusDestinations = !isTriggered;\n          this.fetchDestinationsForOrigin(originIataCode, shouldFocusDestinations, itemValue.country);\n        }\n        this.updateSuggestedItems(value);\n\n        if (recentSearchItem) {\n          this.publish('recent.search.selection', { item: itemFromCollection });\n        } else {\n          this.publish('search.selection.' + section, {\n            type: itemType,\n            value: itemValue,\n            name: name\n          });\n        }\n\n        this.resetDropdownValues();\n        this.setIcon(itemIcons);\n\n        if (wasValueEmpty && (0, _utils.getCurrentBreakpoint)().breakpoint !== 'mobile') {\n          this.publish(itemType + '.new.selection', { subsection: this.options.subsection });\n        }\n      } else {\n        this.publish('dropdown.selection', { display: display, value: value, name: name, section: section });\n      }\n\n      if (this.options.setActiveOnItems) {\n        if (this.$activeItem) this.$activeItem.removeClass('active');\n        this.$activeItem = (0, _jquery2.default)(e.currentTarget).addClass('active').attr('aria-selected', 'true');\n      }\n\n      if (this.fieldInput && this.isKeySelected) {\n        this.fieldInput.attr('aria-expanded', 'false');\n        this.fieldInput.select();\n      }\n    }\n  };\n\n  /**\n   * Handles keyboard press on dropdown item.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.dropdownItemKeyDown = function dropdownItemKeyDown(e) {\n    switch (e.keyCode) {\n      case KEY_CODES.DOWN:\n        e.preventDefault();\n\n        if ((0, _jquery2.default)(e.currentTarget).hasClass('js-location-list')) {\n          if ((0, _jquery2.default)(e.currentTarget).next('.js-dropdown-select-item').length === 0) {\n            (0, _jquery2.default)(e.currentTarget).closest('section').next().find('.js-dropdown-select-item').first().find('.js-location-link').focus();\n          } else {\n            (0, _jquery2.default)(e.currentTarget).next('.js-dropdown-select-item').find('.js-location-link').focus();\n          }\n        } else {\n          (0, _jquery2.default)(e.currentTarget).next('.js-dropdown-select-item').focus();\n        }\n        break;\n      case KEY_CODES.UP:\n        e.preventDefault();\n        if ((0, _jquery2.default)(e.currentTarget).hasClass('js-location-list')) {\n          if ((0, _jquery2.default)(e.currentTarget).prev('.js-dropdown-select-item').length === 0) {\n            (0, _jquery2.default)(e.currentTarget).closest('section').prev().find('.js-dropdown-select-item').first().find('.js-location-link').focus();\n          } else {\n            (0, _jquery2.default)(e.currentTarget).prev('.js-dropdown-select-item').find('.js-location-link').focus();\n          }\n        } else {\n          (0, _jquery2.default)(e.currentTarget).prev('.js-dropdown-select-item').focus();\n        }\n        break;\n      case KEY_CODES.ENTER:\n        this.isKeySelected = true;\n        break;\n    }\n  };\n\n  /**\n   * Gets suggestions and triggers bulk render.\n   * \n   * @param {string} iataCode \n   */\n\n\n  DropDown.prototype.updateSuggestedItems = function updateSuggestedItems(iataCode) {\n    var _this6 = this;\n\n    return (0, _airports.getSuggestions)(iataCode).then(function (suggestions) {\n      _this6.options.isLoading = false;\n      _this6.options.dataSet.suggested = suggestions;\n    }).then(this.bulkRender.bind(this));\n  };\n\n  /**\n   * Merges provided data set into default data set.\n   * \n   * @param {*} data \n   */\n\n\n  DropDown.prototype.updateDataSet = function updateDataSet(data) {\n    this.options.dataSet = (0, _assign2.default)({}, this.options.dataSet, data);\n\n    // Do not display non EK operated airports for WOMF widget\n    if (!this.options.dataSet.items) {\n      return;\n    }\n    if (this.options.section === 'womf' || this.options.section === 'status') {\n      this.options.dataSet.items = this.options.dataSet.items.filter(function (item) {\n        return item.isEK === 'Yes';\n      });\n    }\n  };\n\n  /**\n   * Adds class to indicate that dropdown is selected.\n   */\n\n\n  DropDown.prototype.setSelected = function setSelected() {\n    this.$el.addClass('selected');\n  };\n\n  /**\n   * Resets dropdown state to unselected.\n   * \n   * @param {Event|null} e \n   * @param {boolean} refocus \n   */\n\n\n  DropDown.prototype.clearSelected = function clearSelected(e) {\n    var refocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (this.options.isLocked) {\n      return;\n    }\n\n    this.isFiltered = false;\n    this.hiddenInput.val('');\n    this.fieldInput.val('');\n    if (this.state.selectedValue !== null) {\n      this.state.previousValue = this.state.selectedValue;\n    }\n    this.state.selectedValue = null;\n    var name = this.fieldInput[0].name;\n    var section = this.$el.data('section');\n    var type = this.options.dataType === 'origins' ? 'origin' : 'destination';\n    var value = null;\n    var display = null;\n\n    this.setIcon({ clear: true });\n\n    if (this.options.dataSet) {\n      this.options.dataSet.suggested = [];\n      this.resetDropdownValues();\n    }\n\n    this.$el.removeClass('selected');\n    if (refocus && (0, _utils.getCurrentBreakpoint)().breakpoint !== 'mobile') {\n      this.fieldInput.focus();\n    }\n\n    if (this.options.dataType === 'origins') {\n      // Display all airports in destinations dropdown when origin is cleared\n      this.fetchDestinationsForOrigin('', false);\n    }\n\n    if (this.options.section === 'holiday' && this.options.dataType === 'destinations') {\n      this.showHolidayDestinationsDefaultTemplate();\n    }\n\n    if (this.options.dataSet) {\n      return this.publish('search.selection.' + section, { type: type, name: name, value: value });\n    }\n\n    this.publish('dropdown.selection', { display: display, value: value, name: name, section: section });\n  };\n\n  /**\n   * Triggers action to open dropdown.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.dropdownOpen = function dropdownOpen(e) {\n    // Also don't open the dropdown if any of the children has .show class.\n    // This will prevent the error message and contextual help to be shown at same time\n    if (this.$el.hasClass('show') || this.$el.find('.show').length > 0) return;\n    if ((0, _jquery2.default)(e.target).is('.js-clear-selected')) return false;\n    (0, _utils.lockBody)(true);\n    this.dropdown.addClass('visibly-hidden');\n    this.$el.addClass('show');\n    if (this.fieldInput) {\n      this.fieldInput.attr('aria-expanded', true);\n    }\n    this.toggleButton.attr('aria-expanded', true);\n    if (this.closeButton) this.closeButton.addClass('show');\n    if (this.toggleButton) {\n\n      this.toggleButton.find('.js-toggle-text').removeClass('icon-chevron-up');\n      this.toggleButton.find('.js-toggle-text').addClass('icon-chevron-up');\n      this.toggleButton.find('.js-toggle-text').removeClass('icon-chevron-down');\n    }\n\n    this.checkDropdownPosition();\n    this.dropdown.removeClass('visibly-hidden');\n    this.$el.trigger('open');\n\n    if ((0, _utils.getCurrentBreakpoint)().breakpoint === 'mobile' && this.isMobileBubbleDropdown) {\n      this.scrollToDropdown();\n    }\n\n    this.bindHideClick();\n  };\n\n  /**\n   * Updates dropdown position.\n   */\n\n\n  DropDown.prototype.checkDropdownPosition = function checkDropdownPosition() {\n    var positionOffScreenLeft = this.dropdown.offset().left;\n    if (positionOffScreenLeft < 0) this.dropdown.css('margin-left', -positionOffScreenLeft);\n  };\n\n  /**\n   * Triggers action to close dropdown.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.closeDropdown = function closeDropdown(e) {\n    if (this.isBestMatch()) {\n      this.chooseBestMatch();\n    }\n    this.resetLazyScrollState(); // Reset dropdown scroll state\n    if (e) {\n      e.preventDefault();\n      if ((0, _jquery2.default)(e.currentTarget).is(this.closeButton)) (0, _utils.lockBody)(false);\n    }\n    // Clear dropdown search term if no results are found\n    if (this.isFiltered && ((0, _get2.default)(this, 'options.dataSet.highlightedResults') || []).length === 0) {\n      this.clearSelected(null, false);\n    }\n    this.toggleButton.attr('aria-expanded', false);\n    this.$el.removeClass('show');\n    if (this.closeButton) this.closeButton.removeClass('show');\n    if (this.toggleButton) {\n      this.toggleButton.find('.js-toggle-text').removeClass('icon-chevron-down');\n      this.toggleButton.find('.js-toggle-text').addClass('icon-chevron-down');\n      this.toggleButton.find('.js-toggle-text').removeClass('icon-chevron-up');\n    }\n    this.unbindHideClick();\n    this.$el.trigger('close');\n  };\n\n  /**\n   * Binds custom event that triggers closing dropdown.\n   */\n\n\n  DropDown.prototype.bindHideClick = function bindHideClick() {\n    var _this7 = this;\n\n    (0, _jquery2.default)(document).on(this.getHideEventName(), function (e) {\n      _this7.respondToDocumentClick(e, _this7);\n    });\n  };\n\n  /**\n   * Unbinds custom event that triggers closing dropdown.\n   */\n\n\n  DropDown.prototype.unbindHideClick = function unbindHideClick() {\n    (0, _jquery2.default)(document).off(this.getHideEventName());\n  };\n\n  /**\n   * Return an unique mousedown event name composed by type of widget and section.\n   *\n   * @return {string}\n   */\n\n\n  DropDown.prototype.getHideEventName = function getHideEventName() {\n    if (!this.mousedownEventNamespace) {\n      this.mousedownEventNamespace = Math.random();\n    }\n    return 'mousedown.drop-down-' + this.mousedownEventNamespace;\n  };\n\n  /**\n   * Triggers closing dropdown.\n   * \n   * @param {Event} e \n   * @param {*} dropdown \n   */\n\n\n  DropDown.prototype.respondToDocumentClick = function respondToDocumentClick(e, dropdown) {\n    if (!dropdown.$el.is(e.target) && dropdown.$el.has(e.target).length === 0 && (0, _jquery2.default)(e.target).parents('.js-cookie').length === 0) {\n      dropdown.closeDropdown();\n    }\n  };\n\n  /**\n   * Removes styles from DOM element.\n   */\n\n\n  DropDown.prototype.resetMargin = function resetMargin() {\n    this.dropdown.attr('style', '');\n  };\n\n  /**\n   * Renders dropdown list and injects into DOM.\n   * \n   * @param {number} limit \n   */\n\n\n  DropDown.prototype.bulkRender = function bulkRender() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MAX_DROPDOWN_PAGE_SIZE;\n\n    var isDataFiltered = this.isFiltered;\n\n    // When the user searches by typing, the items to be displayed\n    // should be only that subset, so update `items` to `highlightedResults`.\n    // If no search has been done, the whole `dataSet` should be rendered.\n    var itemsToDisplay = isDataFiltered ? this.options.dataSet.highlightedResults : this.options.dataSet.items;\n\n    var data = this._updateDataSetItems((itemsToDisplay || []).slice(0, limit));\n\n    data.showRecentSearches = !isDataFiltered;\n    data.showCurrentLocation = !isDataFiltered && data.closest;\n    data.showLoadOnFly = this.options.isLoadOnFly && this.options.showLoadOnFly || false;\n\n    // Preseve the conditional parts of the templates.\n    data.section = this.options.section;\n    data.type = this.options.dataType;\n\n    // Highlight first match if list is filtered\n    // Highlight first match (used in holidays)\n    if ((this.isFiltered || this.options.isLoadOnFly) && data.items.length > 0) {\n      data.items[0].highlight = true;\n    }\n\n    // Render and substitute the whole template.\n    if (this.options.isLoading && data.items.length === 0 && (this.options.dataType === 'origins' || this.options.dataType === 'destinations')) {\n      data.waiting = 'true';\n    }\n    this.dropdown.html(this.getTemplate(data));\n    var resources = (0, _get2.default)(window, '__EK__.resources');\n    var resultsTxt = resources['BookManage/search-flight/search-results__text'];\n    var resultTxt = resources['BookManage/search-flight/search-result__text'];\n    var noResultTxt = resources['BookManage/search-flight/search-no-results-found__text'];\n    var textDisplay = data.items.length != 0 ? data.items.length == 1 ? data.items.length + ' ' + resultTxt : data.items.length + ' ' + resultsTxt : noResultTxt;\n    if (this.$elSearchResultContainer) {\n      this.$elSearchResultContainer.innerHTML = textDisplay;\n    }\n  };\n\n  /**\n   * Injects new items into DOM depending on dropdown list scroll position, simulating infinite scroll.\n   */\n\n\n  DropDown.prototype.lazyScroll = function lazyScroll() {\n    // Skip re-render if scroll position is not near the bottom\n    var elem = this.dropdown;\n    if (elem.scrollTop() + elem.innerHeight() < elem[0].scrollHeight - 100) {\n      return;\n    }\n\n    // Increase the list size and re-render\n    this.currentLazyScrollLimit = this.currentLazyScrollLimit || MAX_DROPDOWN_PAGE_SIZE;\n    this.currentLazyScrollLimit += MAX_DROPDOWN_PAGE_SIZE;\n    var currentFocusId = (0, _jquery2.default)(elem).find('.js-dropdown-select-item').last().data('dropdownId');\n    // @todo: Avoid rendering the whole list and append new elements instead\n    this.bulkRender(this.currentLazyScrollLimit);\n    if (this.isKeyDown) {\n      (0, _jquery2.default)(elem).find('.js-dropdown-select-item[data-dropdown-id=\"' + currentFocusId + '\"]').find('.js-location-link').focus();\n      this.isKeyDown = false;\n    }\n  };\n\n  /**\n   * Binds lazy scrolling.\n   */\n\n\n  DropDown.prototype.bindLazyScrollEvent = function bindLazyScrollEvent() {\n    // Make sure event is binded only once per dropdown instance\n    if (this.lazyScrollEventBinded) {\n      return;\n    }\n\n    // Bind scroll event for origins and destinations only\n    if (this.options.dataType !== 'origins' && this.options.dataType !== 'destinations') {\n      return;\n    }\n\n    // Attach scroll event to dropdown element\n    this.dropdown.on('scroll.lazy-render', this.lazyScroll.bind(this));\n    this.lazyScrollEventBinded = true;\n  };\n\n  /**\n   * Resets lazy scroll state.\n  */\n\n\n  DropDown.prototype.resetLazyScrollState = function resetLazyScrollState() {\n    // Reset number of dropdown list items to initial size and scroll to top\n    this.currentLazyScrollLimit = MAX_DROPDOWN_PAGE_SIZE;\n    this.dropdown[0].scrollTop = 0;\n  };\n\n  /**\n   * Returns provided data merged with default data set.\n   * \n   * @param {array} newItems \n   */\n\n\n  DropDown.prototype._updateDataSetItems = function _updateDataSetItems(newItems) {\n    if (this.$elSearchResultContainer) {\n      this.$elSearchResultContainer.innerHTML = \"\";\n    }\n    return (0, _assign2.default)({}, this.options.dataSet, { items: newItems });\n  };\n\n  /**\n   * Returns the Location template.\n   * \n   * @param {object} data \n   */\n\n\n  DropDown.prototype.getTemplate = function getTemplate(data) {\n    data.lang = this.lang;\n    data.resources = (0, _get2.default)(window, '__EK__.resources');\n    switch (this.options.template) {\n      case 'location':\n      case 'holiday':\n        return (0, _location2.default)(data);\n    }\n  };\n\n  /**\n   * Handles selecting or deselecting (resetting) dropdown.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.hasChanged = function hasChanged(e) {\n    if (this.fieldInput && e.target.value.length > 0) this.setSelected();\n    if (this.fieldInput && e.target.value.length === 0) this.clearSelected(e, false);\n  };\n\n  /**\n   * Updates icon in DOM element.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {*} obj.local \n   * @param {*} obj.bus \n   * @param {*} obj.train \n   * @param {*} obj.clear \n   */\n\n\n  DropDown.prototype.setIcon = function setIcon(_ref2) {\n    var local = _ref2.local,\n        bus = _ref2.bus,\n        train = _ref2.train,\n        clear = _ref2.clear;\n\n    var cls = null;\n    if (bus) cls = 'icon-bus';\n    if (train) cls = 'icon-train';\n    if (local) cls = 'icon-location';\n    this.$el.removeClass('location-icon-show');\n    this.$el.find('.dropdown__input-container').find('.dropdown__location--icon').remove();\n\n    if (!clear && cls && this.$el.find('.dropdown__input-container').find('.dropdown__location--icon').length < 1) {\n      this.$el.addClass('location-icon-show');\n      this.$el.find('.dropdown__input-container').append('<i class=\"icon ' + cls + ' dropdown__location--icon\"></i>');\n    }\n  };\n\n  /**\n   * Handles keyboard press on dropdown component.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.handleKeyDown = function handleKeyDown(e) {\n    if (this.options.isLocked) return;\n\n    if (e.keyCode === KEY_CODES.DOWN) this.isKeyDown = true;\n    if (e.keyCode === KEY_CODES.ESCAPE) this.closeDropdown();\n  };\n\n  /**\n   * Handles keyboard press on dropdown.\n   * \n   * @param {Event} e \n   */\n\n\n  DropDown.prototype.dropdownKeyDown = function dropdownKeyDown(e) {\n    if (e.keyCode !== KEY_CODES.DOWN) {\n      return;\n    }\n    if (!this.$el.hasClass('show')) {\n      return this.dropdownOpen(e);\n    }\n\n    if (this.$activeItem != null) {\n      return this.$activeItem.focus();\n    }\n\n    if (this.$el.find('.js-dropdown-select-item').length > 0) {\n      this.$el.find('.js-dropdown-select-item').first().find('.js-location-link').focus();\n    }\n  };\n\n  /**\n   * Fires custom event to update Destinations list related to selected Origin.\n   * \n   * @param {string} iataCode \n   * @param {boolean} focusDestinations \n   * @param {object} originCountry\n   */\n\n\n  DropDown.prototype.fetchDestinationsForOrigin = function fetchDestinationsForOrigin(iataCode, focusDestinations) {\n    var originCountry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    // Trigger the event just for the actual section.\n    this.publish('origin.selected.' + this.options.section, {\n      iataCode: iataCode, focusDestinations: focusDestinations, originCountry: originCountry\n    });\n  };\n\n  /**\n   * Handles loaded destinations.\n   * \n   * @param {string} eventName \n   * @param {object} details \n   */\n\n\n  DropDown.prototype.handleLoadedDestinations = function handleLoadedDestinations(eventName, details) {\n    var section = details.section;\n\n    if (this.options.dataType && this.options.dataType === 'destinations' &&\n    // Update just the section setup by the event details.\n    this.options.section === section) {\n      var destinations = details.destinations,\n          _details$focusDestina = details.focusDestinations,\n          focusDestinations = _details$focusDestina === undefined ? true : _details$focusDestina,\n          _details$clearDestina = details.clearDestination,\n          clearDestination = _details$clearDestina === undefined ? false : _details$clearDestina;\n\n\n      this.options.isLoading = false;\n      this.updateDataSet({\n        items: destinations\n      });\n      var isValidIataCodeSelected = this.checkValidDestinationIataCode(this.state.selectedValue);\n      // If is not included, clear the input value.\n      if (!isValidIataCodeSelected || clearDestination) {\n        this.clearSelected(null, focusDestinations);\n      }\n      this.bulkRender();\n      // It should not focus the input when the event was triggered.\n      if (focusDestinations && (0, _utils.getCurrentBreakpoint)().breakpoint !== 'mobile') {\n        this.fieldInput.focus();\n      }\n    }\n  };\n\n  DropDown.prototype.handleOriginHolidaySelected = function handleOriginHolidaySelected(eventName) {\n    if (this.options.section !== 'holiday') return;\n    if (this.options.dataType !== 'destinations') return;\n\n    // It should not focus the input when the event was triggered.\n    if ((0, _utils.getCurrentBreakpoint)().breakpoint !== 'mobile') {\n      this.fieldInput.focus();\n    }\n  };\n\n  /**\n   * Triggers holiday destinations dropdown template generation.\n   * \n   * @param {string} eventName \n   * @param {object} details \n   */\n\n\n  DropDown.prototype.showHolidayDestinationsDefaultTemplate = function showHolidayDestinationsDefaultTemplate() {\n    if (this.options.section !== 'holiday') return;\n    if (this.options.dataType !== 'destinations') return;\n\n    this.options.isLoading = false;\n    this.options.showLoadOnFly = true;\n    this.updateDataSet({\n      items: []\n    });\n    this.bulkRender();\n    // It should not focus the input when the event was triggered.\n    if ((0, _utils.getCurrentBreakpoint)().breakpoint !== 'mobile') {\n      this.fieldInput.focus();\n    }\n  };\n\n  /**\n   * Returns `true` if the actual selected value is a valid value of the airports list,\n   * `false` otherwise.\n   * \n   * @param {string} selectedIataCode the actual airport code\n   * @return {boolean}\n   */\n\n\n  DropDown.prototype.checkValidDestinationIataCode = function checkValidDestinationIataCode(selectedIataCode) {\n    // Check if the iataCode is included in the new list of airports.\n    var isValidIataCode = (0, _find2.default)(this.options.dataSet.items, function (_ref3) {\n      var iataCode = _ref3.iataCode;\n      return iataCode === selectedIataCode;\n    });\n\n    return isValidIataCode;\n  };\n\n  /**\n   * Handles loaded searches.\n   * \n   * @param {string} eventName \n   * @param {*} recentSearches \n   */\n\n\n  DropDown.prototype.handleSearchesLoaded = function handleSearchesLoaded(eventName, recentSearches) {\n    if (this.options.section && this.options.section === 'flight' && (this.options.dataType === 'origins' || this.options.dataType === 'destinations')) {\n      // Update the dataSet with the new `recentSearches` data.\n      this.updateDataSet({\n        // TODO: check if this should be concat or just get the latest `recentSearches`\n        searches: recentSearches\n      });\n      this.resetDropdownValues();\n    }\n  };\n\n  /**\n   * Updates dropdown value, including label.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {string} obj.display \n   * @param {string} obj.value \n   */\n\n\n  DropDown.prototype.setDropDownValue = function setDropDownValue(_ref4) {\n    var display = _ref4.display,\n        value = _ref4.value;\n\n    this.fieldInput.val(display).trigger('change');\n    this.fieldLabel.text(display);\n    this.hiddenInput.val(value);\n    this.state.selectedValue = value;\n  };\n\n  /**\n   * Handles recent search location.\n   * \n   * @param {Event} event \n   * @param {Object} obj Data object to destruct\n   * @param {array} obj.origins \n   * @param {string} obj.display \n   * @param {string} obj.value \n   */\n\n\n  DropDown.prototype.handleRecentSearchLocation = function handleRecentSearchLocation(event, _ref5) {\n    var origins = _ref5.origins,\n        display = _ref5.display,\n        value = _ref5.value;\n\n    if (this.options.section === 'flight') {\n      if (this.options.dataType === 'origins' && event === 'recent.search.origin') {\n        this.setDropDownValue({ display: display, value: value });\n        this.updateDataSet(origins && origins.length > 0 ? { items: origins } : {});\n\n        if (!this.checkValidDestinationIataCode(this.state.selectedValue)) {\n          // Clear any invalid values\n          this.clearSelected(null, false);\n        }\n      }\n      if (this.options.dataType === 'destinations' && event === 'recent.search.destination') {\n        this.setDropDownValue({ display: display, value: value });\n      }\n    }\n  };\n\n  /**\n   * Handles origins refresh.\n   * \n   * @param {string} eventName \n   * @param {*} data \n   */\n\n\n  DropDown.prototype.handleOriginsRefresh = function handleOriginsRefresh(eventName, data) {\n    var _this8 = this;\n\n    if (this.options.section === 'holiday') return;\n\n    if (this.options.dataType === 'origins') {\n      // Extend the dataSet with the new data.\n      this.updateDataSet(data);\n      var isValidIataCode = this.checkValidDestinationIataCode(this.state.selectedValue);\n      // If is not included, clear the input value.\n      var inputHasValue = this.fieldInput.val().length > 0;\n      var itemValue = (0, _find2.default)(this.options.dataSet.items, function (i) {\n        return i.iataCode === _this8.state.selectedValue;\n      }) || { country: '' };\n      if (!isValidIataCode && inputHasValue) {\n        this.clearSelected(null, false);\n      }\n      this.bulkRender();\n\n      if (this.options.section === 'flight' && data.preselectFirstOptionSearchFlight) {\n        this.$el.find('.js-dropdown-select-item').first().trigger('click');\n      } else if (this.options.section !== 'flight' && data.preselectFirstOption) {\n        this.$el.find('.js-dropdown-select-item').first().trigger('click');\n      } else if (isValidIataCode || !inputHasValue) {\n        this.fetchDestinationsForOrigin('', false, itemValue.country);\n      }\n    }\n  };\n\n  /**\n   * Handles destination holiday refresh.\n   * \n   * @param {string} eventName \n   * @param {*} data \n   */\n\n\n  DropDown.prototype.handleHolidayOriginsRefresh = function handleHolidayOriginsRefresh(eventName, data) {\n    if (this.options.section !== 'holiday') return;\n\n    if (this.options.dataType === 'origins') {\n      this.updateDataSet(data);\n      this.bulkRender();\n\n      if (data.preselectFirstOption) {\n        this.$el.find('.js-dropdown-select-item').first().trigger('click');\n        if (data.items.length === 1) {\n          this.$el.removeClass('selected');\n          this.options.isLocked = true;\n          this.$el.find('.js-field-input').first().attr('aria-disabled', 'true');\n          this.$el.find('.js-fields').addClass('field--locked');\n          this.$el.find('.js-fields').attr('tabindex', '-1');\n        }\n      }\n    }\n  };\n\n  /**\n   * Handles destinations holiday refresh.\n   * \n   * @param {string} eventName \n   * @param {*} data \n   */\n\n\n  DropDown.prototype.handleHolidayDestinationsRefresh = function handleHolidayDestinationsRefresh(eventName, data) {\n    if (this.options.section !== 'holiday') return;\n\n    if (this.options.dataType === 'destinations') {\n      this.options.showLoadOnFly = false;\n      this.updateDataSet(data);\n      this.bulkRender();\n    }\n  };\n\n  /**\n   * Handles featured fares city select.\n   * \n   * @param {string} eventName\n   * @param {*} data \n   */\n\n\n  DropDown.prototype.handleFeaturedFaresCitySelect = function handleFeaturedFaresCitySelect(eventName, data) {\n    if (this.options.isFeaturedFares) {\n      if (!data || !data.airportsByIataCode[data.iataCode]) {\n        return;\n      }\n      var airportDetails = data.airportsByIataCode[data.iataCode];\n      this.setDropDownValue({ display: airportDetails.shortName, value: data.iataCode });\n    }\n  };\n\n  /**\n   * Scrolls the page to dropdown.\n   */\n\n\n  DropDown.prototype.scrollToDropdown = function scrollToDropdown() {\n    var bottomPosition = this.dropdown.offset().top + this.dropdown.height();\n    var $panel = this.$el.parents('.js-widget-panel');\n    if (bottomPosition > (0, _jquery2.default)(window).height()) {\n      (0, _utils.scrollInElement)($panel, this.dropdown.offset().top, 500);\n    }\n  };\n\n  return DropDown;\n}(_component2.default);\n\nDropDown.selector = '.js-dropdown';\nDropDown.events = {\n  focusin: 'focusInHandler',\n  focusout: 'focusOutHandler',\n  'focus .js-dropdown-open': 'handleFocus',\n  'click .js-modal': 'toggleModal',\n  'click .js-dropdown-select-item': 'dropdownItemClicked',\n  'keyup .js-dropdown-select-item': 'dropdownItemClicked',\n  'keydown .js-dropdown-select-item': 'dropdownItemKeyDown',\n  'keydown .js-dropdown-open': 'dropdownKeyDown',\n  'mousedown .js-dropdown-open': 'handleFocus',\n\n  //Event listeners for dropdown that open on hover/focus\n  'focus .js-dropdown-open-hover': 'handleFocus',\n  'touchstart .js-dropdown-open-hover': 'handleFocus',\n  'mouseenter .js-dropdown-open-hover': 'handleFocus',\n  'mouseleave .js-dropdown-open-hover': 'closeDropdown',\n\n  'click .button': 'dropdownOpen',\n  'click .js-clear-selected': 'clearSelected',\n  'breakpoint.mobile': 'resetMargin',\n  'click .js-dropdown-back': 'closeDropdown',\n  'click .js-drop-open': 'dropdownToggle',\n  input: 'hasChanged',\n  keydown: 'handleKeyDown',\n  'destinations.loaded': 'handleLoadedDestinations',\n  'origin.selected.holiday': 'handleOriginHolidaySelected',\n  'searches.loaded': 'handleSearchesLoaded',\n  'recent.search.origin': 'handleRecentSearchLocation',\n  'recent.search.destination': 'handleRecentSearchLocation',\n  'origin-flight.refresh': 'handleOriginsRefresh',\n  'origin-holiday.refresh': 'handleHolidayOriginsRefresh',\n  'dest-holiday.refresh': 'handleHolidayDestinationsRefresh',\n  'featuredFaresCity.select': 'handleFeaturedFaresCitySelect',\n  'focus .js-field-input': 'handleSelectText'\n};\nexports.default = DropDown;\n\n//# sourceURL=webpack:///./src/components/drop-down/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/drop-down/drop-down.scss?")},,,,,,,,,,,,function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(3)).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.type : depth0),"===","destinations",{"name":"op","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.popular : depth0),{"name":"if","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(3)).call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? depth0.popular : depth0)) != null ? stack1.length : stack1),">",0,{"name":"op","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "        <section class=\\"location global\\">\\n          <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-destinations location__icon location__icon--location\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.searchLocationHeader : depth0),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.program(7, data, 0),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n          <ol class=\\"location__list\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.popular : depth0),{"name":"each","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "          </ol>\\n        </section>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.searchLocationHeader : depth0), depth0));\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/location/popular-location__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "");\n},"9":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "              <li class=\\"location__item js-dropdown-select-item\\" data-dropdown-display=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " ("\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + ")\\" data-dropdown-id=\\""\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\" data-dropdown-search-terms=\\""\n    + ((stack1 = alias1((depth0 != null ? depth0["search-terms"] : depth0), depth0)) != null ? stack1 : "")\n    + "\\">\\n                <a href=\\"#\\" class=\\"dropdown__link js-select-body\\">\\n                  <div class=\\"location__airport\\">\\n                    <p class=\\"location__airport__city\\" data-location-value=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + "\\"><span>"\n    + ((stack1 = alias1(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + ",</span> "\n    + ((stack1 = alias1(((stack1 = (depth0 != null ? depth0.country : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + "</p>\\n                    <p class=\\"location__airport__name\\">"\n    + ((stack1 = alias1((depth0 != null ? depth0.longName : depth0), depth0)) != null ? stack1 : "")\n    + "</p>\\n                  </div>\\n                  "\n    + ((stack1 = __default(__webpack_require__(58)).call(alias3,depth0,{"name":"locationicon","hash":{},"data":data})) != null ? stack1 : "")\n    + "\\n                  <p class=\\"location__airport__acronym "\n    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.codeMatch : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\">"\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "</p>\\n                </a>\\n              </li>\\n";\n},"10":function(container,depth0,helpers,partials,data) {\n    return "to-highlight";\n},"12":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return " "\n    + ((stack1 = helpers["with"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.closest : depth0),{"name":"with","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " ";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression;\n\n  return "\\n<section class=\\"location global\\">\\n  <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-location location__icon location__icon--location\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.currentLocationHeader : depth0),{"name":"if","hash":{},"fn":container.program(14, data, 0),"inverse":container.program(16, data, 0),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n  <ol class=\\"location__list\\" >\\n    <li tabindex=\\"-1\\" class=\\"location__item js-dropdown-select-item js-location-list\\" data-dropdown-display=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " ("\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + ")\\" data-dropdown-id=\\""\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\" data-dropdown-search-terms=\\""\n    + ((stack1 = alias2((depth0 != null ? depth0["search-terms"] : depth0), depth0)) != null ? stack1 : "")\n    + "\\">\\n      <div tabindex=\\"-1\\" aria-label=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.cleanCity : depth0)) != null ? stack1.longName : stack1), depth0))\n    + ", "\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.cleanCountry : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " "\n    + alias3(alias2((depth0 != null ? depth0.cleanLongName : depth0), depth0))\n    + " "\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + " "\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.stationType : depth0),"===","1",{"name":"op","hash":{},"data":data}),"||",__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.stationType : depth0),"===","2",{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(18, data, 0),"inverse":container.program(20, data, 0),"data":data})) != null ? stack1 : "")\n    + "\\"  class=\\"dropdown__link js-select-body js-location-link\\">\\n        <div class=\\"location__airport\\" aria-hidden=\\"true\\">\\n          <p class=\\"location__airport__city\\" data-location-value=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + "\\"><span>"\n    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + ",</span> "\n    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.country : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + "</p>\\n          <p class=\\"location__airport__name\\">"\n    + ((stack1 = alias2((depth0 != null ? depth0.longName : depth0), depth0)) != null ? stack1 : "")\n    + "</p>\\n        </div>\\n        "\n    + ((stack1 = __default(__webpack_require__(58)).call(alias1,depth0,{"name":"locationicon","hash":{},"data":data})) != null ? stack1 : "")\n    + "\\n        <p class=\\"location__airport__acronym "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.codeMatch : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\" aria-hidden=\\"true\\">"\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "</p>\\n      </div>\\n    </li>\\n  </ol>\\n</section>\\n";\n},"14":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.currentLocationHeader : depth0), depth0));\n},"16":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/location/current-location__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "");\n},"18":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/search-flight/operated-by-non-ek__text",{"name":"resource","hash":{},"data":data}));\n},"20":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(3)).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.isEK : depth0),"===","Yes",{"name":"op","hash":{},"fn":container.program(21, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"21":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/search-flight/operated-by-emirates__text",{"name":"resource","hash":{},"data":data}));\n},"23":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.suggested : depth0),{"name":"if","hash":{},"fn":container.program(24, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"24":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(3)).call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? depth0.suggested : depth0)) != null ? stack1.length : stack1),">",0,{"name":"op","hash":{},"fn":container.program(25, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"25":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "      <section class=\\"location global\\">\\n        <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-moon-lighting-system location__icon location__icon--location\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.suggestedLocationHeader : depth0),{"name":"if","hash":{},"fn":container.program(26, data, 0),"inverse":container.program(28, data, 0),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n        <ol class=\\"location__list\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.suggested : depth0),{"name":"each","hash":{},"fn":container.program(30, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "        </ol>\\n      </section>\\n";\n},"26":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.suggestedLocationHeader : depth0), depth0));\n},"28":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/location/suggested-location__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "");\n},"30":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "             <li tabindex=\\"-1\\" class=\\"location__item js-dropdown-select-item\\" data-dropdown-display=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " ("\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + ")\\" data-dropdown-id=\\""\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\" data-dropdown-search-terms=\\""\n    + ((stack1 = alias1((depth0 != null ? depth0["search-terms"] : depth0), depth0)) != null ? stack1 : "")\n    + "\\">\\n              <div tabindex=\\"-1\\" class=\\"dropdown__link js-select-body js-location-link\\" aria-label=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.cleanCity : depth0)) != null ? stack1.longName : stack1), depth0))\n    + ", "\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.cleanCountry : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.cleanLongName : depth0), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + " "\n    + ((stack1 = __default(__webpack_require__(3)).call(alias3,__default(__webpack_require__(3)).call(alias3,(depth0 != null ? depth0.stationType : depth0),"===","1",{"name":"op","hash":{},"data":data}),"||",__default(__webpack_require__(3)).call(alias3,(depth0 != null ? depth0.stationType : depth0),"===","2",{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(18, data, 0),"inverse":container.program(20, data, 0),"data":data})) != null ? stack1 : "")\n    + "\\">\\n                <div class=\\"location__airport\\"  aria-hidden=\\"true\\">\\n                  <p class=\\"location__airport__city\\" data-location-value=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + "\\"><span>"\n    + ((stack1 = alias1(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + ",</span> "\n    + ((stack1 = alias1(((stack1 = (depth0 != null ? depth0.country : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + "</p>\\n                  <p class=\\"location__airport__name\\">"\n    + ((stack1 = alias1((depth0 != null ? depth0.longName : depth0), depth0)) != null ? stack1 : "")\n    + "</p>\\n                </div>\\n                "\n    + ((stack1 = __default(__webpack_require__(58)).call(alias3,depth0,{"name":"locationicon","hash":{},"data":data})) != null ? stack1 : "")\n    + "\\n                <p class=\\"location__airport__acronym "\n    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.codeMatch : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\" aria-hidden=\\"true\\" >"\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "</p>\\n              </div>\\n            </li>\\n";\n},"32":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.searches : depth0),{"name":"if","hash":{},"fn":container.program(33, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"33":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(3)).call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? depth0.searches : depth0)) != null ? stack1.length : stack1),">",0,{"name":"op","hash":{},"fn":container.program(34, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"34":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "      <section class=\\"location global\\">\\n        <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-clock-fare location__icon location__icon--location\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.searchLocationHeader : depth0),{"name":"if","hash":{},"fn":container.program(5, data, 0, blockParams, depths),"inverse":container.program(35, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n        <ol class=\\"location__list\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.searches : depth0),{"name":"each","hash":{},"fn":container.program(37, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "        </ol>\\n      </section>\\n";\n},"35":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/location/search-location__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "");\n},"37":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression;\n\n  return "            <li class=\\"location__item js-dropdown-select-item\\" data-dropdown-display=\\""\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depths[1] != null ? depths[1].type : depths[1]),"===","origins",{"name":"op","hash":{},"fn":container.program(38, data, 0, blockParams, depths),"inverse":container.program(40, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "\\" data-dropdown-id=\\""\n    + alias3(alias2((depth0 != null ? depth0.origin_iata : depth0), depth0))\n    + "\\" data-dropdown-recent-search=\\""\n    + alias3(alias2((depth0 != null ? depth0.search_id : depth0), depth0))\n    + "\\">\\n              <a href=\\"#\\" class=\\"dropdown__link js-select-body\\">\\n                <div class=\\"location__airport\\">\\n                  <p class=\\"location__airport__city\\" data-location-value=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + "\\"><span>"\n    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.origin : depth0)) != null ? stack1.shortName : stack1), depth0)) != null ? stack1 : "")\n    + "</span> "\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"BookManage/location/search-item-divider__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + " <span>"\n    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.destination : depth0)) != null ? stack1.shortName : stack1), depth0)) != null ? stack1 : "")\n    + "</span></p>\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.flight_type : depth0),"===","RT",{"name":"op","hash":{},"fn":container.program(42, data, 0, blockParams, depths),"inverse":container.program(44, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "                </div>\\n                <p class=\\"location__airport__acronym\\">"\n    + alias3(alias2((depth0 != null ? depth0.origin_iata : depth0), depth0))\n    + "</p>\\n              </a>\\n            </li>\\n";\n},"38":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? depth0.origin : depth0)) != null ? stack1.city : stack1)) != null ? stack1.longName : stack1), depth0))\n    + " ("\n    + alias2(alias1((depth0 != null ? depth0.origin_iata : depth0), depth0))\n    + ")";\n},"40":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? depth0.destination : depth0)) != null ? stack1.city : stack1)) != null ? stack1.longName : stack1), depth0))\n    + " ("\n    + alias2(alias1((depth0 != null ? depth0.destination_iata : depth0), depth0))\n    + ")";\n},"42":function(container,depth0,helpers,partials,data) {\n    var alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression;\n\n  return "                    <p class=\\"location__airport__name\\">"\n    + alias2(__default(__webpack_require__(306)).call(alias1,(depth0 != null ? depth0.depart_date : depth0),(depth0 != null ? depth0.return_date : depth0),{"name":"dateinterval","hash":{},"data":data}))\n    + ", <span>"\n    + alias2(__default(__webpack_require__(133)).call(alias1,depth0,{"name":"passengercount","hash":{},"data":data}))\n    + "<i class=\\"icon icon-adult-male-customer people-count\\"></i></span></p>\\n";\n},"44":function(container,depth0,helpers,partials,data) {\n    var alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression;\n\n  return "                    <p class=\\"location__airport__name\\">"\n    + alias2(__default(__webpack_require__(37)).call(alias1,(depth0 != null ? depth0.depart_date : depth0),{"name":"formatResourceDate","hash":{"format":"D MMM YY","key":"dayShortMonthLongYearShort"},"data":data}))\n    + ", <span>"\n    + alias2(__default(__webpack_require__(133)).call(alias1,depth0,{"name":"passengercount","hash":{},"data":data}))\n    + "<i class=\\"icon icon-adult-male-customer people-count\\"></i></span></p>\\n";\n},"46":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.section : depth0),"!==","holiday",{"name":"op","hash":{},"fn":container.program(47, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.section : depth0),"===","holiday",{"name":"op","hash":{},"fn":container.program(55, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n";\n},"47":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "    <section class=\\"location global\\">\\n      <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-map location__icon location__icon--map\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.allLocationsHeader : depth0),{"name":"if","hash":{},"fn":container.program(48, data, 0),"inverse":container.program(50, data, 0),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n      <ol class=\\"location__list\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.items : depth0),{"name":"each","hash":{},"fn":container.program(52, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "      </ol>\\n    </section>\\n";\n},"48":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.allLocationsHeader : depth0), depth0));\n},"50":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/location/all-locations__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "");\n},"52":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression;\n\n  return "          <li tabindex=\\"-1\\" class=\\"location__item js-dropdown-select-item"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.highlight : depth0),{"name":"if","hash":{},"fn":container.program(53, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " js-location-list\\" data-dropdown-display=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " ("\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + ")\\" data-dropdown-id=\\""\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\" data-dropdown-search-terms=\\""\n    + ((stack1 = alias2((depth0 != null ? depth0["search-terms"] : depth0), depth0)) != null ? stack1 : "")\n    + "\\">\\n            <div tabindex=\\"-1\\"  class=\\"dropdown__link js-select-body js-location-link\\" aria-label=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.cleanCity : depth0)) != null ? stack1.longName : stack1), depth0))\n    + ", "\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.cleanCountry : depth0)) != null ? stack1.longName : stack1), depth0))\n    + " "\n    + alias3(alias2((depth0 != null ? depth0.cleanLongName : depth0), depth0))\n    + " "\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + " "\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.stationType : depth0),"===","1",{"name":"op","hash":{},"data":data}),"||",__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.stationType : depth0),"===","2",{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(18, data, 0),"inverse":container.program(20, data, 0),"data":data})) != null ? stack1 : "")\n    + "\\">\\n              <div class=\\"location__airport\\" aria-hidden=\\"true\\">\\n                <p class=\\"location__airport__city\\" data-location-value=\\""\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0))\n    + "\\"><span>"\n    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.city : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + ",</span> "\n    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.country : depth0)) != null ? stack1.longName : stack1), depth0)) != null ? stack1 : "")\n    + "</p>\\n                <p class=\\"location__airport__name\\">"\n    + ((stack1 = alias2((depth0 != null ? depth0.longName : depth0), depth0)) != null ? stack1 : "")\n    + "</p>\\n              </div>\\n              "\n    + ((stack1 = __default(__webpack_require__(58)).call(alias1,depth0,{"name":"locationicon","hash":{},"data":data})) != null ? stack1 : "")\n    + "\\n              <p class=\\"location__airport__acronym "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.codeMatch : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\" aria-hidden=\\"true\\">"\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "</p>\\n            </div>\\n          </li>\\n";\n},"53":function(container,depth0,helpers,partials,data) {\n    return " highlight";\n},"55":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "     <section class=\\"location global\\">\\n      <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-map location__icon location__icon--map\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.allLocationsHeader : depth0),{"name":"if","hash":{},"fn":container.program(48, data, 0, blockParams, depths),"inverse":container.program(50, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n      <ol class=\\"location__list\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.items : depth0),{"name":"each","hash":{},"fn":container.program(56, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "      </ol>\\n    </section>\\n";\n},"56":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression;\n\n  return "          <li tabindex=\\"-1\\" class=\\"location__item js-dropdown-select-item"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.highlight : depth0),{"name":"if","hash":{},"fn":container.program(53, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " js-location-list\\" data-dropdown-display=\\""\n    + alias3(alias2((depth0 != null ? depth0.title : depth0), depth0))\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depths[1] != null ? depths[1].type : depths[1]),"===","origins",{"name":"op","hash":{},"fn":container.program(57, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\" data-dropdown-id=\\""\n    + alias3(alias2((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\" data-dropdown-search-terms=\\"\\">\\n            <a tabindex=\\"-1\\" href=\\"#\\" class=\\"dropdown__link js-select-body js-location-link\\" aria-label=\\""\n    + alias3(alias2((depth0 != null ? depth0.title : depth0), depth0))\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depths[1] != null ? depths[1].type : depths[1]),"===","origins",{"name":"op","hash":{},"fn":container.program(57, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.area : depth0),{"name":"if","hash":{},"fn":container.program(59, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.city : depth0),{"name":"if","hash":{},"fn":container.program(61, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.country : depth0),{"name":"if","hash":{},"fn":container.program(63, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\">\\n              <div class=\\"location__airport\\">\\n"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.groupcode : depth0),{"name":"if","hash":{},"fn":container.program(65, data, 0, blockParams, depths),"inverse":container.program(67, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.country : depth0),{"name":"if","hash":{},"fn":container.program(69, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "              </div>\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depths[1] != null ? depths[1].type : depths[1]),"===","origins",{"name":"op","hash":{},"fn":container.program(71, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "            </a>\\n          </li>\\n";\n},"57":function(container,depth0,helpers,partials,data) {\n    return " ("\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + ")";\n},"59":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ", "\n    + ((stack1 = container.lambda((depth0 != null ? depth0.area : depth0), depth0)) != null ? stack1 : "");\n},"61":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ", "\n    + ((stack1 = container.lambda((depth0 != null ? depth0.city : depth0), depth0)) != null ? stack1 : "");\n},"63":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ", "\n    + ((stack1 = container.lambda((depth0 != null ? depth0.country : depth0), depth0)) != null ? stack1 : "");\n},"65":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "                  <p class=\\"location__airport__city\\" data-location-groupcode=\\""\n    + alias2(alias1((depth0 != null ? depth0.groupcode : depth0), depth0))\n    + "\\" data-location-value=\\""\n    + alias2(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\">\\n                    <span>"\n    + ((stack1 = alias1((depth0 != null ? depth0.title : depth0), depth0)) != null ? stack1 : "")\n    + "</span>"\n    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.area : depth0),{"name":"if","hash":{},"fn":container.program(59, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.city : depth0),{"name":"if","hash":{},"fn":container.program(61, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n                  </p>\\n";\n},"67":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "                  <p class=\\"location__airport__city\\" data-location-value=\\""\n    + container.escapeExpression(alias1((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "\\">\\n                    <span>"\n    + ((stack1 = alias1((depth0 != null ? depth0.title : depth0), depth0)) != null ? stack1 : "")\n    + "</span>"\n    + ((stack1 = helpers["if"].call(alias2,(depth0 != null ? depth0.area : depth0),{"name":"if","hash":{},"fn":container.program(59, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias2,(depth0 != null ? depth0.city : depth0),{"name":"if","hash":{},"fn":container.program(61, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n                  </p>\\n";\n},"69":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "                  <p class=\\"location__airport__name\\">"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.country : depth0), depth0)) != null ? stack1 : "")\n    + "</p>\\n";\n},"71":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.iataCode : depth0),{"name":"if","hash":{},"fn":container.program(72, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"72":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "                  <p class=\\"location__airport__acronym "\n    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.codeMatch : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\">"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.iataCode : depth0), depth0))\n    + "</p>\\n";\n},"74":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.uniqueDepartures : depth0),{"name":"if","hash":{},"fn":container.program(75, data, 0, blockParams, depths),"inverse":container.program(79, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "");\n},"75":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "  <section class=\\"location global this\\" aria-live=\\"off\\">\\n    <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-map location__icon location__icon--map\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.allLocationsHeader : depth0),{"name":"if","hash":{},"fn":container.program(48, data, 0, blockParams, depths),"inverse":container.program(50, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n    <ol class=\\"location__list\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.uniqueDepartures : depth0),{"name":"each","hash":{},"fn":container.program(76, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "    </ol>\\n  </section>\\n\\n";\n},"76":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "        <li tabindex=\\"-1\\" class=\\"location__item js-dropdown-select-item\\" data-dropdown-display=\\""\n    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))\n    + "\\" data-dropdown-id=\\""\n    + alias2(alias1((depth0 != null ? depth0.code : depth0), depth0))\n    + "\\" data-dropdown-search-terms=\\""\n    + ((stack1 = alias1((depth0 != null ? depth0["search-terms"] : depth0), depth0)) != null ? stack1 : "")\n    + "\\">\\n          <div tabindex=\\"-1\\" aria-label=\\""\n    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.code : depth0), depth0))\n    + "\\" class=\\"dropdown__link js-select-body\\" "\n    + ((stack1 = helpers["if"].call(alias3,(depths[1] != null ? depths[1].analyticsLabel : depths[1]),{"name":"if","hash":{},"fn":container.program(77, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ">\\n            <div class=\\"location__airport\\" aria-hidden=\\"true\\">\\n              <p class=\\"location__airport__city js-airport-city\\" data-location-value=\\""\n    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))\n    + "\\">"\n    + ((stack1 = alias1((depth0 != null ? depth0.title : depth0), depth0)) != null ? stack1 : "")\n    + "</p>\\n              <p class=\\"location__airport__name js-airport-name\\"></p>\\n            </div>\\n            <p aria-hidden=\\"true\\" class=\\"location__airport__acronym "\n    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.codeMatch : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\">"\n    + alias2(alias1((depth0 != null ? depth0.code : depth0), depth0))\n    + "</p>\\n          </div>\\n        </li>\\n";\n},"77":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return "data-id=\\"pagebody_link\\" data-link=\\""\n    + alias2(alias1((depths[1] != null ? depths[1].analyticsLabel : depths[1]), depth0))\n    + alias2(alias1((depth0 != null ? depth0.code : depth0), depth0))\n    + "\\" ";\n},"79":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.showLoadOnFly : depth0),{"name":"if","hash":{},"fn":container.program(80, data, 0),"inverse":container.program(82, data, 0),"data":data})) != null ? stack1 : "");\n},"80":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "  <section class=\\"location global this\\">\\n    <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-map location__icon location__icon--map\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.allLocationsHeader : depth0),{"name":"if","hash":{},"fn":container.program(48, data, 0),"inverse":container.program(50, data, 0),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n    <h3 class=\\"location__global__heading--no-results\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"BookManage/location/start-typing-header__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h3>\\n    <p class=\\"location__global__description--no-results\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"BookManage/location/start-typing-paragraph__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n  </section>\\n\\n";\n},"82":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "  <section class=\\"location global\\">\\n    <h3 class=\\"location__global__heading\\"><i class=\\"icon icon-map location__icon location__icon--map\\"></i>"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.allLocationsHeader : depth0),{"name":"if","hash":{},"fn":container.program(48, data, 0),"inverse":container.program(50, data, 0),"data":data})) != null ? stack1 : "")\n    + "</h3>\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.waiting : depth0),"===","true",{"name":"op","hash":{},"fn":container.program(83, data, 0),"inverse":container.program(85, data, 0),"data":data})) != null ? stack1 : "")\n    + "  </section>\\n";\n},"83":function(container,depth0,helpers,partials,data) {\n    return "      <div class=\\"spinner\\">\\n        <i class=\\"icon icon-loading\\"></i>\\n      </div>\\n";\n},"85":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "      <h3 class=\\"location__global__heading--no-results\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"Common/Dropdown/no-results-header__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h3>\\n      <p class=\\"location__global__description--no-results\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"Common/Dropdown/no-results-paragraph__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.section : depth0),"===","flight",{"name":"op","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.showCurrentLocation : depth0),{"name":"if","hash":{},"fn":container.program(12, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.section : depth0),"===","flight",{"name":"op","hash":{},"fn":container.program(23, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.section : depth0),"===","flight",{"name":"op","hash":{},"data":data}),"&&",__default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.type : depth0),"===","origins",{"name":"op","hash":{},"data":data}),"&&",(depth0 != null ? depth0.showRecentSearches : depth0),{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(32, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.items : depth0),{"name":"if","hash":{},"fn":container.program(46, data, 0, blockParams, depths),"inverse":container.program(74, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "");\n},"useData":true,"useDepths":true});\n\n//# sourceURL=webpack:///./src/components/location/location.handlebars?')},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nvar get = __webpack_require__(4);\nvar moment = __webpack_require__(8);\nvar formatdate = __webpack_require__(307);\n\n/**\n * Returns formatted dates.\n * \n * @param {string} date1 \n * @param {string} date2 \n * @return {string}\n */\nmodule.exports = function dateinterval(date1, date2) {\n  date1 = moment(date1);\n  date2 = moment(date2);\n\n  var options = {\n    dayMonthYear: {\n      hash: {\n        key: 'dayShortMonthLongYearShort',\n        format: 'D MMM YY'\n      }\n    },\n    dayMonth: {\n      hash: {\n        key: 'dayShortMonth',\n        format: 'D MMM'\n      }\n    },\n    day: {\n      hash: {\n        key: 'dayShort',\n        format: 'D'\n      }\n    }\n  };\n\n  if (date1.year() != date2.year()) {\n    return callFormatDate(options.dayMonthYear, options.dayMonthYear);\n  }\n  if (date1.month() != date2.month()) {\n    return callFormatDate(options.dayMonth, options.dayMonthYear);\n  }\n  return callFormatDate(options.day, options.dayMonthYear);\n\n  function callFormatDate(format1, format2) {\n    return formatdate(date1, format1) + ' - ' + formatdate(date2, format2);\n  }\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/dateinterval.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar get = __webpack_require__(4);\nvar moment = __webpack_require__(8);\n\n/**\n * Returns formatted date.\n * \n * @param {string} date \n * @param {object} options \n * @return {string}\n */\nmodule.exports = function formatdate(date, options) {\n  var _options$hash = options.hash,\n      key = _options$hash.key,\n      format = _options$hash.format;\n\n  // Server side or client side data structure for the content config.\n  // TODO(techdebt): Try to have the same data structure\n\n  var config = get(options, 'data.root.metadata.siteConfigurations') || get(options, 'data.root.config') || get(window, '__EK__.config');\n\n  // It will default to `options.format` if there is no key present for that pattern.\n  var pattern = get(config, 'content.language.metadata.cultureConfigurations.content.' + key + '.title', format);\n\n  return moment(date).format(pattern);\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/formatdate.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filterList = filterList;\nexports.highlight = highlight;\nexports.predictiveHighlight = predictiveHighlight;\n\nvar _config = __webpack_require__(23);\n\nvar _fuse = __webpack_require__(93);\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _cloneDeep = __webpack_require__(94);\n\nvar _cloneDeep2 = _interopRequireDefault(_cloneDeep);\n\nvar _find = __webpack_require__(32);\n\nvar _find2 = _interopRequireDefault(_find);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _set = __webpack_require__(324);\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _sortBy = __webpack_require__(59);\n\nvar _sortBy2 = _interopRequireDefault(_sortBy);\n\nvar _deburr = __webpack_require__(86);\n\nvar _deburr2 = _interopRequireDefault(_deburr);\n\nvar _startsWith = __webpack_require__(136);\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nvar _filter = __webpack_require__(332);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The keys for the text highlighting.\nvar HIGHLIGHTED_KEYS = ['title', 'longName', 'city', 'country', 'iataCode'];\n\n// The Fuse.js match logic will not highlight all the returned result, this list will be used to manually highlight for listed keys.\n// @ts-check\nvar MANUAL_HIGHLIGHT_KEYS = ['city.longName', 'city.shortName', 'country.longName', 'country.shortName', 'longName', 'region.longName'];\n\n// Keys for extra text highlight mapping, i.e. if search by `country.code` and if `country.longName`\n// starts with `country.code` then highlight `country.longName`\nvar EXTRA_HIGHLIGHT_MAP = {\n  'country.code': 'country.longName'\n};\nvar CLEAN_KEYS_MAP = {\n  'cleanCity.longName': 'city.longName',\n  'cleanCity.shortName': 'city.shortName',\n  'cleanCountry.longName': 'country.longName',\n  'cleanCountry.shortName': 'country.shortName',\n  'cleanRegion.longName': 'region.longName',\n  'cleanLongName': 'longName'\n};\n\nvar MIN_SEARCH_INPUT_LENGTH = 1;\n\nfunction filterList(searchString, dataSetItems) {\n  var results = (0, _filter.filterAirports)(searchString, dataSetItems) || [];\n\n  var highlightedResults = results.map(function (res) {\n    res.matches.forEach(function (match) {\n      var key = match.key,\n          indices = match.indices;\n\n      key = CLEAN_KEYS_MAP[key] || key;\n      var terms = key.split('.');\n      if (HIGHLIGHTED_KEYS.indexOf(terms[0]) > -1) {\n        var isNested = terms.length > 1;\n        if (isNested) {\n          // Extra hightlight i.e. if country name starts with country code hightlight the country name.\n          var mappedKey = EXTRA_HIGHLIGHT_MAP[key];\n          if (mappedKey) {\n            var mappedTerms = mappedKey.split('.');\n            if ((0, _startsWith2.default)(res.item[mappedTerms[0]][mappedTerms[1]].toLowerCase(), searchString.toLowerCase())) {\n              terms = mappedTerms;\n            }\n          }\n\n          res.item[terms[0]][terms[1]] = highlight(searchString, res.item[terms[0]][terms[1]], indices);\n        } else {\n          if (terms[0] === 'iataCode') {\n            res.item.codeMatch = true;\n          } else {\n            res.item[terms[0]] = highlight(searchString, res.item[terms[0]], indices);\n          }\n        }\n      }\n    });\n\n    if (searchString.length > MIN_SEARCH_INPUT_LENGTH && res.matches.length === 0) {\n      res = highlightTextWithoutFuseMatchKeys(res, searchString);\n    }\n    return res.item;\n  });\n\n  return highlightedResults;\n}\n\nfunction highlightTextWithoutFuseMatchKeys(res, searchString) {\n  if (!res && searchString.length < 1) {\n    return;\n  }\n\n  MANUAL_HIGHLIGHT_KEYS.forEach(function (key) {\n    key = CLEAN_KEYS_MAP[key] || key;\n    var terms = key.split('.');\n\n    if (HIGHLIGHTED_KEYS.indexOf(terms[0]) < 0) {\n      return;\n    }\n\n    var item = (0, _get2.default)(res.item, key);\n    if (!item) {\n      return;\n    }\n\n    var startIndex = item.toLowerCase().indexOf(searchString.toLowerCase());\n    if (startIndex > -1) {\n      var indices = [startIndex, startIndex + searchString.length - 1];\n      (0, _set2.default)(res.item, key, highlight(searchString, item, [indices]));\n    }\n  });\n  return res;\n}\n\n/**\n* Selects/highlights partial text from an input field\n*\n* @param field\n* @param start\n* @param end\n*/\nfunction selectInputTextRange(field, start, end) {\n  if (field.createTextRange) {\n    var selRange = field.createTextRange();\n    selRange.collapse(true);\n    selRange.moveStart('character', start);\n    selRange.moveEnd('character', end - start);\n    selRange.select();\n  } else if (field.setSelectionRange) {\n    field.setSelectionRange(start, end);\n  } else if (field.selectionStart) {\n    field.selectionStart = start;\n    field.selectionEnd = end;\n  }\n}\n\nfunction highlight(searchString, target, indices) {\n  if (!indices.length || typeof target !== 'string') return target;\n  target = target.replace(/<span class=\"to-highlight\">/g, '');\n  target = target.replace(/<\\/span>/g, '');\n  indices.reverse();\n  indices.forEach(function (i) {\n    var start = target.substr(0, i[0]);\n    var mid = target.substr(i[0], i[1] - i[0] + 1);\n    var end = target.substr(i[1] + 1);\n    target = start + '<span class=\"to-highlight\">' + mid + '</span>' + end;\n  });\n  return target;\n}\n\n/**\n * Auto-fills origin/destination inputs with the first result in the list and highlights the prediction\n *\n * @param results\n */\nfunction predictiveHighlight(results, input) {\n  var firstResult = results[0];\n\n  var searchString = input.val();\n  var firstResultValue = (0, _get2.default)(firstResult, 'cleanCity.longName') || '';\n  var canBeAppendend = (0, _deburr2.default)(firstResultValue).toLowerCase().indexOf((0, _deburr2.default)(searchString).toLowerCase()) === 0;\n  if (firstResult && canBeAppendend) {\n    var currentFieldLength = searchString.length;\n    var predictedValue = searchString + firstResultValue.substr(currentFieldLength, firstResultValue.length);\n    input.val(predictedValue);\n    selectInputTextRange(input[0], currentFieldLength, firstResultValue.length);\n  }\n}\n\n//# sourceURL=webpack:///./src/common/scripts/services/search.js?")},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getIndex = getIndex;\nexports.getPrioritySet = getPrioritySet;\nexports.getDataSet = getDataSet;\nexports.searchTextInProps = searchTextInProps;\nexports.pushResult = pushResult;\nexports.filterData = filterData;\nexports.valToLowercase = valToLowercase;\nexports.sortAlphabetically = sortAlphabetically;\nexports.sortDataSetByWeight = sortDataSetByWeight;\nexports.mergeData = mergeData;\nexports.mergeDataSet = mergeDataSet;\nexports.processData = processData;\nexports.filterAirports = filterAirports;\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _orderBy = __webpack_require__(333);\n\nvar _orderBy2 = _interopRequireDefault(_orderBy);\n\nvar _concat = __webpack_require__(334);\n\nvar _concat2 = _interopRequireDefault(_concat);\n\nvar _cloneDeep = __webpack_require__(94);\n\nvar _cloneDeep2 = _interopRequireDefault(_cloneDeep);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * KEYS constant determine the order in which the list needs to be filtered\n*/\n/* eslint-disable comma-dangle */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n\n/*\n  @file This file export the main function _filter which takes search\n   string which is then searched into the dataset provided\n   based on the priority mentioned in the story which is depicted by the KEYS const order (for story EM-7595).\n  @author Khawar Jamil(GLOBANT)\n*/\n\nvar KEYS = ['iataCode', 'shortName', 'longName', 'alternateNames', 'city.code', 'city.shortName', 'city.longName', 'city.alternateNames', 'country.code', 'country.a3code', 'country.shortName', 'country.longName', 'country.alternateNames', 'region.longName'];\n\n/**\n * returns the index of the string searched in the item.If item is ans\n * array(in case of alternateNames) it iterates over the array to match the string\n * @param {string} searchStr\n * @param {object|array} item\n * @return {number}\n*/\nfunction getIndex(searchStr, item) {\n  var idx = -1;\n  if (searchStr && item) {\n    if (Array.isArray(item)) {\n      for (var i = 0; i < item.length; i++) {\n        var indexInArray = item[i] ? item[i].toLowerCase().indexOf(searchStr.toLowerCase()) : -1;\n        if (indexInArray > -1) {\n          idx = indexInArray;\n          item.matchedIndexInArray = indexInArray;\n          break;\n        }\n      }\n    } else {\n      idx = item.toLowerCase().indexOf(searchStr.toLowerCase());\n    }\n  }\n  return idx;\n}\n\n/**\n * returns an empty map of predefined properties as a data-structure\n * @return {object}\n*/\nfunction getPrioritySet() {\n  return {\n    iataCode: [],\n    shortName: [],\n    longName: [],\n    alternateNames: [],\n    'city.code': [],\n    'city.shortName': [],\n    'city.longName': [],\n    'city.alternateNames': [],\n    'country.code': [],\n    'country.a3code': [],\n    'country.shortName': [],\n    'country.longName': [],\n    'country.alternateNames': [],\n    'region.longName': []\n  };\n}\n\nfunction getDataSet() {\n  return {\n    start: getPrioritySet(),\n    partial: getPrioritySet()\n  };\n}\n\n/**\n * searches the search string in the provided item in the order which is\n * mentioned in the const KEYS.It does not break; when it finds first match\n * as we need other matches for highlighting\n * @param {string} searchStr\n * @param {object} item\n * @return {object}\n*/\n\nfunction searchTextInProps(searchStr, item) {\n  var result = void 0;\n  if (searchStr && item) {\n    for (var i = 0; i < KEYS.length; i++) {\n      var currentKey = KEYS[i];\n      var currentVal = (0, _get2.default)(item, currentKey, '');\n      var idx = -1;\n      if (currentVal) {\n        idx = getIndex(searchStr, currentVal);\n        if (idx > -1) {\n          result = result || {\n            key: KEYS[i],\n            item: item,\n            matches: []\n          };\n          result.item.weight = result.item.weight === undefined ? idx : result.item.weight;\n          result.matchingItemIndex = result.matchingItemIndex === undefined ? 0 : result.matchingItemIndex;\n          if (result.item.weight !== 0 && idx === 0) {\n            /* There was an earlier match according to the priority table but that match index\n             * was not 0(start-match)now this key is lower in priority but still it matched\n             * at the starting value\n            */\n            result.key = KEYS[i];\n            result.item = item;\n            result.item.weight = idx;\n            result.matchingItemIndex = result.matches.length;\n          }\n          result.matches.push({\n            key: KEYS[i],\n            value: currentVal,\n            indices: [[idx, idx + (searchStr.length - 1)]]\n          });\n        }\n      }\n    }\n  } else {\n    result = item;\n  }\n  return result;\n}\n\n/**\n * pushes the item in the dataSet according to the weight. If weight is zero then its a starting\n * match and the result is pushed in the start otherwise its pushed into the partial field of\n *  dataSet.\n * @param {object} result\n * @param {string} key\n * @param {integer} weight\n * @param {object} dataSet\n */\nfunction pushResult(result, key, weight, dataSet) {\n  if (weight === 0) {\n    dataSet.start[key].push(result);\n  } else {\n    dataSet.partial[key][weight] = dataSet.partial[key][weight] || [];\n    dataSet.partial[key][weight].push(result);\n  }\n}\n\n/**\n  *filters the search string in the data and returns dataSet grouped\n  *by the keys where the match was found.\n  *@param {string} searchStr\n  *@param {array} list\n  *@param {object} dataSet\n  *@return {object}\n*/\nfunction filterData(searchStr, list, dataSet) {\n  list.forEach(function (item) {\n    var result = searchTextInProps(searchStr, item);\n    if (result && result.key) {\n      var matchingItemIndex = result.matchingItemIndex;\n\n      var startIndex = (0, _get2.default)(result.matches[matchingItemIndex], 'indices[0][0]', -1);\n      // push data in the dataSet\n      pushResult({ item: item, matches: result.matches }, result.key, startIndex, dataSet);\n    }\n  });\n  return dataSet;\n}\n\n/**\n * gets the value of the key from the object and converts it into lowercase\n * @param {object} obj\n * @param {string} orderByKey\n */\nfunction valToLowercase(obj, orderByKey) {\n  var val = void 0;\n  var value = (0, _get2.default)(obj, orderByKey, '');\n  if (Array.isArray(value)) {\n    val = value[value.matchedIndexInArray] || value[0];\n    val = val.toLowerCase();\n  } else {\n    val = value.toLowerCase();\n  }\n  return val;\n}\n\n/**\n * sorts each array in dataSet alphabetically by the key\n * @param {object} dataSet\n */\nfunction sortAlphabetically(dataSet) {\n  var result = {};\n  if (dataSet) {\n    Object.keys(dataSet).forEach(function (key) {\n      var currentList = dataSet[key];\n      result[key] = result[key] || [];\n      var orderByKey = 'item.' + key;\n      result[key] = (0, _orderBy2.default)(currentList, function (obj) {\n        return valToLowercase(obj, orderByKey);\n      }, ['dsc']);\n    });\n  }\n  return result;\n}\n\n/**\n * takes each array from each key of the dataSet concats all the arrays after\n * ordering them alphabetically\n * @param {object} dataSet\n */\nfunction sortDataSetByWeight(dataSet) {\n  if (dataSet) {\n    Object.keys(dataSet).forEach(function (key) {\n      var currentDataSet = dataSet[key] || [];\n      var orderByKey = 'item.' + key;\n      currentDataSet = currentDataSet.map(function (set) {\n        return set || [];\n      }).reduce(function (accumArray, currentArray) {\n        return (0, _concat2.default)(accumArray, (0, _orderBy2.default)(currentArray, function (obj) {\n          return valToLowercase(obj, orderByKey);\n        }, ['dsc']));\n      }, []);\n      dataSet[key] = currentDataSet;\n    });\n  }\n  return dataSet;\n}\n\n/**\n * returns an array containing items in the order of priority provided\n * by the order of object keys in dataSet\n * @param {object} data\n */\nfunction mergeData(data) {\n  var result = [];\n  if (data) {\n    var values = Object.keys(data).map(function (key) {\n      return data[key];\n    });\n    values.forEach(function (resultArr) {\n      result = resultArr.length > 0 ? (0, _concat2.default)(result, resultArr) : result;\n    });\n  }\n  return result;\n}\n\n/**\n * Merges the partial and start dataSet fields into a single array\n * @param {object} dataSet\n */\nfunction mergeDataSet(dataSet) {\n  var result = [];\n  if (dataSet) {\n    var mergedStart = mergeData(dataSet.start) || [];\n    var mergedPartial = mergeData(dataSet.partial) || [];\n    result = (0, _concat2.default)([], mergedStart, mergedPartial);\n  }\n  return result;\n}\n\n/**\n * takes the dataSet which contains partial and start match items and returns\n * the ordered dataSet with respect to the priority, weight and alphabetical order\n * @param {object} dataSet\n */\nfunction processData(dataSet) {\n  // sort dataset by weight for partial only as they have different weights\n  dataSet.partial = sortDataSetByWeight(dataSet.partial);\n  // sort alphabetically\n  dataSet.start = sortAlphabetically(dataSet.start);\n  // merge dataSet\n  dataSet = mergeDataSet(dataSet);\n  // sort by EK airports\n  dataSet = (0, _orderBy2.default)(dataSet, [function (obj) {\n    return obj.item.isEK;\n  }]);\n  return dataSet;\n}\n\n/**\n  *takes the search string and list of items and filters the list based\n  *on the search string.Also adds metaData which heelps in highlighting the search results\n  *@param {string} searchString\n  *@param {object} dataSetItems\n  * @return {object}\n*/\nfunction filterAirports(searchString, dataSetItems) {\n  if (searchString && dataSetItems) {\n    var dataSet = getDataSet();\n    dataSet = filterData(searchString, (0, _cloneDeep2.default)(dataSetItems), dataSet);\n    var results = processData(dataSet);\n    return results;\n  }\n  return dataSetItems;\n}\n\n//# sourceURL=webpack:///./src/common/scripts/services/filter.js?")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(336);\n\n//# sourceURL=webpack:///./src/components/small-brand-underline-link/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/small-brand-underline-link/small-brand-underline-link.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(338);\n\n//# sourceURL=webpack:///./src/components/content-split/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/content-split/content-split.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(340);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _throttle = __webpack_require__(56);\n\nvar _throttle2 = _interopRequireDefault(_throttle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Sticky component.\n * \n * @extends Component\n */\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky(el, $el) {\n    _classCallCheck(this, Sticky);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    var $stickyElement = _this.$el;\n    var topElement = $stickyElement.offset().top;\n\n    // To be replaced with a global event handler\n    (0, _jquery2.default)(window).on(\'scroll\', (0, _throttle2.default)(function changePosition() {\n      $stickyElement.toggleClass(\'sticky--active\', (0, _jquery2.default)(window).scrollTop() > topElement);\n    }, 50));\n    return _this;\n  }\n\n  return Sticky;\n}(_component2.default);\n\nSticky.selector = \'.js-sticky\';\nexports.default = Sticky;\n\n//# sourceURL=webpack:///./src/components/sticky/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/sticky/sticky.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(342);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _forEach = __webpack_require__(91);\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Increment Field component.\n * \n * @extends Component\n */\nvar IncrementField = function (_Component) {\n  _inherits(IncrementField, _Component);\n\n  function IncrementField(el, $el) {\n    _classCallCheck(this, IncrementField);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.createElements();\n    _this.channel = _this.$el.data('channel');\n    _this.type = _this.$el.data('type');\n    _this.subtractEnabled = false;\n    _this.$label = _this.$el.find('.js-increment-label');\n    _this.labelSingular = _this.$label.data('singular');\n    _this.labelPlural = _this.$label.data('plural');\n    _this.accessibilityText = (0, _get2.default)(__EK__, 'resources.search-flight__passenger-increment-selected-accessibility__text', '');\n    if (_this.channel === 'room-person' && _this.type === 'adults' && _this.val === 0) {\n      (0, _jquery2.default)(_this.$el).ready(function () {\n        var incrementButton = _this.$el.find('.js-increment-increase')[0];\n        (0, _jquery2.default)(incrementButton).trigger('click');\n      });\n    }\n    return _this;\n  }\n\n  /**\n   * Get maximum allowed number of passengers.\n   * \n   * @return {number} Number of passengers\n   */\n\n\n  /**\n   * Get initial value of passengers.\n   * \n   * @return {number} Number of passengers\n   */\n  IncrementField.prototype.getiInitialValue = function getiInitialValue() {\n    if (this.$el[0].getAttribute('data-initial')) {\n      return +this.$el[0].getAttribute('data-initial');\n    }\n    return null;\n  };\n\n  /**\n   * Register DOM elements and update state total value.\n   */\n\n\n  IncrementField.prototype.createElements = function createElements() {\n    this.incrementValue = this.$el.find('.js-increment-value');\n    this.hiddenInput = this.$el.find('.js-hidden-input');\n    this.val = this.getiInitialValue() || this.min;\n  };\n\n  /**\n   * Update state and DOM elements.\n   */\n\n\n  IncrementField.prototype.setState = function setState() {\n    if (this.val <= this.min) this.disableSubtract();\n    if (this.val > this.min) this.enableSubtract();\n    if (this.max <= this.val) {\n      this.$el.addClass('increment-field--max');\n      this.$el.find('.js-increment-increase')[0].setAttribute('aria-disabled', 'true');\n    } else {\n      this.$el.removeClass('increment-field--max');\n      this.$el.find('.js-increment-increase')[0].setAttribute('aria-disabled', 'false');\n    }\n    this.hiddenInput.val(this.val);\n    this.incrementValue.text(this.val);\n\n    var label = this.val < 2 ? this.labelSingular : this.labelPlural;\n    this.$label.text(label);\n  };\n\n  /**\n   * Stop event propagation.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  IncrementField.prototype.stopPropagation = function stopPropagation(e) {\n    e.stopPropagation(); // prevent page scrolling\n  };\n\n  /**\n   * Update DOM content.\n   * \n   * @param {Event} e Input event\n   */\n\n\n  IncrementField.prototype.setAccessibilityText = function setAccessibilityText(e) {\n    e.preventDefault();\n    this.$el.find('.js-increment-accessibility').html(this.accessibilityText + ' ' + this.val + ' ' + (this.val < 2 ? this.labelSingular : this.labelPlural));\n  };\n\n  /**\n   * Increase passenger count (update state and DOM content, fire custom event).\n   * \n   * @param {Event} e Mouse event\n   */\n\n\n  IncrementField.prototype.increaseInput = function increaseInput(e) {\n    e.preventDefault();\n    if (this.val < this.max) {\n      this.val += 1;\n      this.setState();\n      this.publish(this.channel + '.increase', {\n        type: this.type,\n        value: this.val,\n        event: e\n      });\n      this.$el.find('.js-increment-accessibility').html(this.accessibilityText + ' ' + this.val + ' ' + (this.val < 2 ? this.labelSingular : this.labelPlural));\n    }\n  };\n\n  /**\n   * Decrease passenger count (update state and DOM content, fire custom event).\n   * \n   * @param {Event} e Mouse event\n   */\n\n\n  IncrementField.prototype.decreaseInput = function decreaseInput(e) {\n    e.preventDefault();\n    if (this.val > this.min) {\n      this.val -= 1;\n      this.setState();\n      this.publish(this.channel + '.decrease', {\n        type: this.type,\n        value: this.val,\n        event: e\n      });\n      this.$el.find('.js-increment-accessibility').html(this.accessibilityText + ' ' + this.val + ' ' + (this.val < 2 ? this.labelSingular : this.labelPlural));\n    } else {\n      this.$el.addClass('increment-field--empty');\n    }\n  };\n\n  /**\n   * Indicates that passenger count is at maximum.\n   * Update state and DOM.\n   */\n\n\n  IncrementField.prototype.setIsAtMax = function setIsAtMax() {\n    this.$el.addClass('increment-field--max');\n    this.isAtMax = true;\n    this.$el.find('.js-increment-increase')[0].setAttribute('aria-disabled', 'true');\n  };\n\n  /**\n   * Indicates that passenger count is still not at maximum.\n   * Update state and DOM.\n   */\n\n\n  IncrementField.prototype.disableIsAtMax = function disableIsAtMax() {\n    this.$el.removeClass('increment-field--max');\n    this.isAtMax = false;\n    this.$el.find('.js-increment-increase')[0].setAttribute('aria-disabled', 'false');\n  };\n\n  /**\n   * Indicates that decrease count is disabled.\n   * Update state and DOM.\n   */\n\n\n  IncrementField.prototype.disableSubtract = function disableSubtract() {\n    this.subtractEnabled = false;\n    this.$el.addClass('increment-field--subtract-disabled');\n    this.$el.find('.js-increment-decrease')[0].setAttribute('aria-disabled', 'true');\n  };\n\n  /**\n   * Indicates that decrease count is enabled.\n   * Update state and DOM.\n   */\n\n\n  IncrementField.prototype.enableSubtract = function enableSubtract() {\n    this.subtractEnabled = true;\n    this.$el.removeClass('increment-field--subtract-disabled');\n    this.$el.find('.js-increment-decrease')[0].setAttribute('aria-disabled', 'false');\n  };\n\n  /**\n   * Handle passenger count for Search Flight.\n   * Updates DOM and state, triggers custom events.\n   * \n   * @param {Event} event Event\n   * @param {Object} obj Data object to destruct\n   * @param {*} [obj.validity]\n   * @param {object} obj.data Data\n   * @param {*} [obj.refs]\n   * @param {*} obj.recentSearch\n   */\n\n\n  IncrementField.prototype.handleUpdateSearchFlight = function handleUpdateSearchFlight(event, _ref) {\n    var validity = _ref.validity,\n        data = _ref.data,\n        refs = _ref.refs,\n        recentSearch = _ref.recentSearch;\n\n    if (this.channel !== 'passenger') return;\n\n    var taken = 0;\n    (0, _forEach2.default)(data.seats, function (val, key) {\n      taken += key === 'infants' ? 0 : val;\n    });\n    var available = data.flightClassMaxPassengers - taken + this.val;\n\n    if (this.type === 'infants') {\n      this.$el[0].setAttribute('data-max', data.seats.adults + data.seats.OFW);\n      if (data.seats.adults + data.seats.OFW < data.seats.infants) {\n        this.val = data.seats.adults + data.seats.OFW;\n        this.publish(this.channel + '.increase', {\n          type: this.type,\n          value: this.val\n        });\n        this.setState();\n      }\n    } else if (this.type === 'children') {\n      var noAdultsOnFlight = data.seats.adults + data.seats.OFW === 0;\n\n      this.$el[0].setAttribute('data-max', noAdultsOnFlight ? 0 : available);\n      if (noAdultsOnFlight && data.seats.children > 0) {\n        this.val = 0;\n        this.publish(this.channel + '.increase', {\n          type: this.type,\n          value: this.val\n        });\n        this.setState();\n      }\n    } else {\n      this.$el[0].setAttribute('data-max', available);\n    }\n\n    if (recentSearch) {\n      this.val = data.seats[this.type];\n      this.publish(this.channel + '.increase', {\n        type: this.type,\n        value: this.val\n      });\n    }\n\n    this.val = (0, _get2.default)(data, 'seats.' + this.type, '');\n\n    this.setState();\n  };\n\n  /**\n   * Handle passenger count for Search Holiday.\n   * Updates DOM and state, triggers custom events.\n   * \n   * @param {Event} event Event\n   * @param {object} obj.data Data\n   */\n\n\n  IncrementField.prototype.handleUpdateSearchHoliday = function handleUpdateSearchHoliday(event, data) {\n    if (this.channel !== 'room-person') return;\n\n    var roomId = this.$el.closest('.js-holiday-room').data('id');\n    if (roomId !== data.roomId) return;\n\n    this.val = (0, _get2.default)(data, 'details.' + this.type, '');\n    this.setState();\n  };\n\n  /**\n   * Triggers state update.\n   */\n\n\n  IncrementField.prototype.passengerDisplay = function passengerDisplay() {\n    this.setState();\n  };\n\n  _createClass(IncrementField, [{\n    key: 'max',\n    get: function get() {\n      if (this.$el[0].getAttribute('data-max')) {\n        return +this.$el[0].getAttribute('data-max');\n      }\n      return 9;\n    }\n\n    /**\n     * Get minimum allowed number of passengers.\n     * \n     * @return {number} Number of passengers\n     */\n\n  }, {\n    key: 'min',\n    get: function get() {\n      if (this.$el[0].getAttribute('data-min')) {\n        return +this.$el[0].getAttribute('data-min');\n      }\n      return 0;\n    }\n  }]);\n\n  return IncrementField;\n}(_component2.default);\n\nIncrementField.selector = '.js-increment-field';\nIncrementField.events = {\n  click: 'stopPropagation',\n  'click .js-increment-increase': 'increaseInput',\n  'click .js-increment-decrease': 'decreaseInput',\n  'search-flight.update': 'handleUpdateSearchFlight',\n  'search-holiday.update': 'handleUpdateSearchHoliday',\n  'passengers.display': 'passengerDisplay',\n  'focus .js-increment-increase': 'setAccessibilityText',\n  'focus .js-increment-decrease': 'setAccessibilityText'\n};\nexports.default = IncrementField;\n\n//# sourceURL=webpack:///./src/components/increment-field/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/increment-field/increment-field.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(344);\n\n//# sourceURL=webpack:///./src/components/text-list/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/text-list/text-list.scss?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/contextual-help/contextual-help.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Video$events;\n\n__webpack_require__(347);\n\n__webpack_require__(348);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _video = __webpack_require__(96);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _videojsYoutube = __webpack_require__(364);\n\n__webpack_require__(365);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global DocumentTouch, matchMedia */\n\n\n/**\n * Class representing Video component.\n * \n * @extends Component\n */\nvar Video = function (_Component) {\n  _inherits(Video, _Component);\n\n  function Video(args) {\n    _classCallCheck(this, Video);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, args));\n\n    if ((!window.videojs || !_video2.default) && _this.canPlay()) {\n      // eslint-disable-line\n      _this.bootstrap();\n    }\n    _this.playEl = _this.$el.find(Video.controls.play);\n    _this.restartVideo = false;\n    _this.pauseEl = _this.$el.find(Video.controls.pause);\n    _this.$el.find('.video__controls').removeClass('hidden');\n    return _this;\n  }\n\n  /**\n   * Triggers initial setup.\n   */\n\n\n  Video.prototype.bootstrap = function bootstrap() {\n    this.run();\n  };\n\n  /**\n   * Initial setup.\n   */\n\n\n  Video.prototype.run = function run() {\n    var _this2 = this;\n\n    var SOURCE_TYPE_MAP = {\n      Akamai: 'video/mp4',\n      Youtube: 'video/youtube',\n      Vimeo: 'application/x-mpegURL'\n    };\n\n    var container = this.$el.find('video')[0];\n    var sourceType = container.getAttribute('data-type');\n    var videoSource = container.getAttribute('data-source');\n    var videoSourceUrl = sourceType === 'Youtube' ? 'https://www.youtube.com/watch?v=' + videoSource : videoSource;\n\n    var options = {\n      fluid: true,\n      muted: container.getAttribute('data-muted') === 'true',\n      width: '100%',\n      sources: [{\n        type: SOURCE_TYPE_MAP[sourceType],\n        src: videoSourceUrl\n      }]\n    };\n    if (sourceType === 'Youtube') {\n      options.techOrder = ['youtube'];\n      options.youtube = {\n        rel: 0,\n        controls: 0,\n        showinfo: 0,\n        autohide: 1,\n        fs: 1,\n        modestbranding: 1,\n        playsinline: 1,\n        setPlaybackQuality: 'highres'\n      };\n      (0, _videojsYoutube.YoutubePluginRegister)();\n    }\n\n    this.video = (0, _video2.default)(container, options, function () {\n      // eslint-disable-line\n      if (container.getAttribute('data-autoplay') === 'true') {\n        _this2.restartVideo = true;\n        _this2.play();\n      }\n      // Using setTimeout as this function needs to be called after all the elements are loaded (dynamically)\n      setTimeout(function () {\n        _this2.removeIframeFocus();\n      }, 500);\n    });\n\n    this.video.on('ended', function (e) {\n      _this2.pause();\n      _this2.video.currentTime(0);\n      if (container.dataset.loop === 'true') {\n        _this2.restartVideo = true;\n        _this2.play();\n      }\n    });\n\n    this.video.on('fullscreenchange', function () {\n      if (_this2.video.paused()) return _this2.pause(null, true);\n      _this2.play(null, true);\n    });\n  };\n\n  /**\n   * Handle the unnecessary focus and annoucement on the empty iframe to solve the control focus issue EM-8346\n   * Sets the tabindex to -1 \n   */\n\n\n  Video.prototype.removeIframeFocus = function removeIframeFocus() {\n    var elm = this.$el.find(Video.iframeElm) && this.$el.find(Video.iframeElm).length ? this.$el.find(Video.iframeElm)[0] : null;\n    if (elm) {\n      elm.setAttribute('tabindex', \"-1\");\n      elm.setAttribute('aria-hidden', \"true\");\n    }\n  };\n\n  /**\n   * Returns flag if the video can be played depending on the device.\n   * \n   * @return {boolean}\n   */\n\n\n  Video.prototype.canPlay = function canPlay() {\n    var assumedTouch = this.$el.parents('body').hasClass('is--touch-device');\n    return matchMedia('(min-width: 769px)').matches && !assumedTouch;\n  };\n\n  /**\n   * Play the video.\n   * \n   * @param {Event} e Mouse click event\n   * @param {boolean} change Flags if the video should start playing\n   */\n\n\n  Video.prototype.play = function play(e, change) {\n    if (!this.canPlay()) {\n      return;\n    }\n    if (!change) this.video.play();\n    if (!this.restartVideo) {\n      this.playEl.hide();\n      this.pauseEl.show();\n      this.pauseEl.focus();\n    }\n    this.$el.parent().addClass('is-playing');\n    var videoParentElem = this.$el.children()[0];\n    if (videoParentElem.getElementsByTagName(\"video\").length > 0) {\n      var videoDescription = videoParentElem.getElementsByTagName(\"video\")[0].getAttribute(\"aria-label\");\n      videoParentElem.setAttribute('aria-label', videoDescription);\n    }\n  };\n\n  /**\n   * Pause the video.\n   * \n   * @param {Event} e Mouse click event\n   * @param {boolean} change Flags if the video should pause\n   */\n\n\n  Video.prototype.pause = function pause(e, change) {\n    if (!change) this.video.pause();\n    if (!this.restartVideo) {\n      this.pauseEl.hide();\n      this.playEl.show();\n      this.playEl.focus();\n    }\n    this.$el.parent().removeClass('is-playing');\n  };\n\n  /**\n   * Trigger play and open in full screen.\n   */\n\n\n  Video.prototype.fullscreen = function fullscreen() {\n    this.video.play();\n    this.video.requestFullscreen();\n  };\n\n  return Video;\n}(_component2.default);\n\nVideo.selector = '.video';\nVideo.content = '.hero__content';\nVideo.poster = '.video__poster';\nVideo.iframeElm = '.vjs-resize-manager';\nVideo.controls = {\n  play: '.video__play',\n  pause: '.video__pause',\n  fullscreen: '.video__fullscreen'\n};\nVideo.events = (_Video$events = {}, _Video$events['click ' + Video.controls.play] = 'play', _Video$events['click ' + Video.controls.pause] = 'pause', _Video$events['click ' + Video.controls.fullscreen] = 'fullscreen', _Video$events);\nexports.default = Video;\n\n//# sourceURL=webpack:///./src/components/video/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/video/video.scss?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/video/video-js.scss?")},,function(module,exports){eval("/* (ignored) */\n\n//# sourceURL=webpack:///min-document_(ignored)?")},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.YoutubePluginRegister = YoutubePluginRegister;\n\nvar _video = __webpack_require__(96);\n\nvar _video2 = _interopRequireDefault(_video);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*global define, YT*/\nfunction init() {\n  'use strict';\n\n  var _isOnMobile = _video2.default.browser.IS_IOS || _video2.default.browser.IS_ANDROID;\n  var Tech = _video2.default.getTech('Tech');\n\n  var Youtube = _video2.default.extend(Tech, {\n\n    constructor: function constructor(options, ready) {\n      Tech.call(this, options, ready);\n\n      this.setPoster(options.poster);\n      this.setSrc(this.options_.source, true);\n\n      // Set the vjs-youtube class to the player\n      // Parent is not set yet so we have to wait a tick\n      this.setTimeout(function () {\n        if (this.el_) {\n          this.el_.parentNode.className += ' vjs-youtube';\n\n          if (_isOnMobile) {\n            this.el_.parentNode.className += ' vjs-youtube-mobile';\n          }\n\n          if (Youtube.isApiReady) {\n            this.initYTPlayer();\n          } else {\n            Youtube.apiReadyQueue.push(this);\n          }\n        }\n      }.bind(this));\n    },\n\n    dispose: function dispose() {\n      if (this.ytPlayer) {\n        //Dispose of the YouTube Player\n        if (this.ytPlayer.stopVideo) {\n          this.ytPlayer.stopVideo();\n        }\n        if (this.ytPlayer.destroy) {\n          this.ytPlayer.destroy();\n        }\n      } else {\n        //YouTube API hasn't finished loading or the player is already disposed\n        var index = Youtube.apiReadyQueue.indexOf(this);\n        if (index !== -1) {\n          Youtube.apiReadyQueue.splice(index, 1);\n        }\n      }\n      this.ytPlayer = null;\n\n      this.el_.parentNode.className = this.el_.parentNode.className.replace(' vjs-youtube', '').replace(' vjs-youtube-mobile', '');\n      this.el_.parentNode.removeChild(this.el_);\n\n      //Needs to be called after the YouTube player is destroyed, otherwise there will be a null reference exception\n      Tech.prototype.dispose.call(this);\n    },\n\n    createEl: function createEl() {\n      var div = document.createElement('div');\n      div.setAttribute('id', this.options_.techId);\n      div.setAttribute('style', 'width:100%;height:100%;top:0;left:0;position:absolute');\n      div.setAttribute('class', 'vjs-tech');\n\n      var divWrapper = document.createElement('div');\n      divWrapper.appendChild(div);\n\n      if (!_isOnMobile && !this.options_.ytControls) {\n        var divBlocker = document.createElement('div');\n        divBlocker.setAttribute('class', 'vjs-iframe-blocker');\n        divBlocker.setAttribute('style', 'position:absolute;top:0;left:0;width:100%;height:100%');\n\n        // In case the blocker is still there and we want to pause\n        divBlocker.onclick = function () {\n          this.pause();\n        }.bind(this);\n\n        divWrapper.appendChild(divBlocker);\n      }\n\n      return divWrapper;\n    },\n\n    initYTPlayer: function initYTPlayer() {\n      var playerVars = {\n        controls: 0,\n        modestbranding: 1,\n        rel: 0,\n        showinfo: 0,\n        loop: this.options_.loop ? 1 : 0\n\n        // Let the user set any YouTube parameter\n        // https://developers.google.com/youtube/player_parameters?playerVersion=HTML5#Parameters\n        // To use YouTube controls, you must use ytControls instead\n        // To use the loop or autoplay, use the video.js settings\n\n      };if (typeof this.options_.autohide !== 'undefined') {\n        playerVars.autohide = this.options_.autohide;\n      }\n\n      if (typeof this.options_['cc_load_policy'] !== 'undefined') {\n        playerVars['cc_load_policy'] = this.options_['cc_load_policy'];\n      }\n\n      if (typeof this.options_.ytControls !== 'undefined') {\n        playerVars.controls = this.options_.ytControls;\n      }\n\n      if (typeof this.options_.disablekb !== 'undefined') {\n        playerVars.disablekb = this.options_.disablekb;\n      }\n\n      if (typeof this.options_.end !== 'undefined') {\n        playerVars.end = this.options_.end;\n      }\n\n      if (typeof this.options_.color !== 'undefined') {\n        playerVars.color = this.options_.color;\n      }\n\n      if (!playerVars.controls) {\n        // Let video.js handle the fullscreen unless it is the YouTube native controls\n        playerVars.fs = 0;\n      } else if (typeof this.options_.fs !== 'undefined') {\n        playerVars.fs = this.options_.fs;\n      }\n\n      if (typeof this.options_.end !== 'undefined') {\n        playerVars.end = this.options_.end;\n      }\n\n      if (typeof this.options_.hl !== 'undefined') {\n        playerVars.hl = this.options_.hl;\n      } else if (typeof this.options_.language !== 'undefined') {\n        // Set the YouTube player on the same language than video.js\n        playerVars.hl = this.options_.language.substr(0, 2);\n      }\n\n      if (typeof this.options_['iv_load_policy'] !== 'undefined') {\n        playerVars['iv_load_policy'] = this.options_['iv_load_policy'];\n      }\n\n      if (typeof this.options_.list !== 'undefined') {\n        playerVars.list = this.options_.list;\n      } else if (this.url && typeof this.url.listId !== 'undefined') {\n        playerVars.list = this.url.listId;\n      }\n\n      if (typeof this.options_.listType !== 'undefined') {\n        playerVars.listType = this.options_.listType;\n      }\n\n      if (typeof this.options_.modestbranding !== 'undefined') {\n        playerVars.modestbranding = this.options_.modestbranding;\n      }\n\n      if (typeof this.options_.playlist !== 'undefined') {\n        playerVars.playlist = this.options_.playlist;\n      }\n\n      if (typeof this.options_.playsinline !== 'undefined') {\n        playerVars.playsinline = this.options_.playsinline;\n      }\n\n      if (typeof this.options_.rel !== 'undefined') {\n        playerVars.rel = this.options_.rel;\n      }\n\n      if (typeof this.options_.showinfo !== 'undefined') {\n        playerVars.showinfo = this.options_.showinfo;\n      }\n\n      if (typeof this.options_.start !== 'undefined') {\n        playerVars.start = this.options_.start;\n      }\n\n      if (typeof this.options_.theme !== 'undefined') {\n        playerVars.theme = this.options_.theme;\n      }\n\n      // Allow undocumented options to be passed along via customVars\n      if (typeof this.options_.customVars !== 'undefined') {\n        var customVars = this.options_.customVars;\n        Object.keys(customVars).forEach(function (key) {\n          playerVars[key] = customVars[key];\n        });\n      }\n\n      this.activeVideoId = this.url ? this.url.videoId : null;\n      this.activeList = playerVars.list;\n\n      this.ytPlayer = new YT.Player(this.options_.techId, {\n        videoId: this.activeVideoId,\n        playerVars: playerVars,\n        events: {\n          onReady: this.onPlayerReady.bind(this),\n          onPlaybackQualityChange: this.onPlayerPlaybackQualityChange.bind(this),\n          onPlaybackRateChange: this.onPlayerPlaybackRateChange.bind(this),\n          onStateChange: this.onPlayerStateChange.bind(this),\n          onVolumeChange: this.onPlayerVolumeChange.bind(this),\n          onError: this.onPlayerError.bind(this)\n        }\n      });\n    },\n\n    onPlayerReady: function onPlayerReady() {\n      if (this.options_.muted) {\n        this.ytPlayer.mute();\n      }\n\n      var playbackRates = this.ytPlayer.getAvailablePlaybackRates();\n      if (playbackRates.length > 1) {\n        this.featuresPlaybackRate = true;\n      }\n\n      this.playerReady_ = true;\n      this.triggerReady();\n\n      if (this.playOnReady) {\n        this.play();\n      } else if (this.cueOnReady) {\n        this.cueVideoById_(this.url.videoId);\n        this.activeVideoId = this.url.videoId;\n      }\n    },\n\n    onPlayerPlaybackQualityChange: function onPlayerPlaybackQualityChange() {},\n\n    onPlayerPlaybackRateChange: function onPlayerPlaybackRateChange() {\n      this.trigger('ratechange');\n    },\n\n    onPlayerStateChange: function onPlayerStateChange(e) {\n      var state = e.data;\n\n      if (state === this.lastState || this.errorNumber) {\n        return;\n      }\n\n      this.lastState = state;\n\n      switch (state) {\n        case -1:\n          this.trigger('loadstart');\n          this.trigger('loadedmetadata');\n          this.trigger('durationchange');\n          this.trigger('ratechange');\n          break;\n\n        case YT.PlayerState.ENDED:\n          this.trigger('ended');\n          break;\n\n        case YT.PlayerState.PLAYING:\n          this.trigger('timeupdate');\n          this.trigger('durationchange');\n          this.trigger('playing');\n          this.trigger('play');\n\n          if (this.isSeeking) {\n            this.onSeeked();\n          }\n          break;\n\n        case YT.PlayerState.PAUSED:\n          this.trigger('canplay');\n          if (this.isSeeking) {\n            this.onSeeked();\n          } else {\n            this.trigger('pause');\n          }\n          break;\n\n        case YT.PlayerState.BUFFERING:\n          this.player_.trigger('timeupdate');\n          this.player_.trigger('waiting');\n          break;\n      }\n    },\n\n    onPlayerVolumeChange: function onPlayerVolumeChange() {\n      this.trigger('volumechange');\n    },\n\n    onPlayerError: function onPlayerError(e) {\n      this.errorNumber = e.data;\n      this.trigger('pause');\n      this.trigger('error');\n    },\n\n    error: function error() {\n      var code = 1000 + this.errorNumber; // as smaller codes are reserved\n      switch (this.errorNumber) {\n        case 5:\n          return { code: code, message: 'Error while trying to play the video' };\n\n        case 2:\n        case 100:\n          return { code: code, message: 'Unable to find the video' };\n\n        case 101:\n        case 150:\n          return {\n            code: code,\n            message: 'Playback on other Websites has been disabled by the video owner.'\n          };\n      }\n\n      return { code: code, message: 'YouTube unknown error (' + this.errorNumber + ')' };\n    },\n\n    loadVideoById_: function loadVideoById_(id) {\n      var options = {\n        videoId: id\n      };\n      if (this.options_.start) {\n        options.startSeconds = this.options_.start;\n      }\n      if (this.options_.end) {\n        options.endEnd = this.options_.end;\n      }\n      this.ytPlayer.loadVideoById(options);\n    },\n\n    cueVideoById_: function cueVideoById_(id) {\n      var options = {\n        videoId: id\n      };\n      if (this.options_.start) {\n        options.startSeconds = this.options_.start;\n      }\n      if (this.options_.end) {\n        options.endEnd = this.options_.end;\n      }\n      this.ytPlayer.cueVideoById(options);\n    },\n\n    src: function src(_src) {\n      if (_src) {\n        this.setSrc({ src: _src });\n      }\n\n      return this.source;\n    },\n\n    poster: function poster() {\n      // You can't start programmaticlly a video with a mobile\n      // through the iframe so we hide the poster and the play button (with CSS)\n      if (_isOnMobile) {\n        return null;\n      }\n\n      return this.poster_;\n    },\n\n    setPoster: function setPoster(poster) {\n      this.poster_ = poster;\n    },\n\n    setSrc: function setSrc(source) {\n      if (!source || !source.src) {\n        return;\n      }\n\n      delete this.errorNumber;\n      this.source = source;\n      this.url = Youtube.parseUrl(source.src);\n\n      if (!this.options_.poster) {\n        if (this.url.videoId) {\n          // Set the low resolution first\n          this.poster_ = 'https://img.youtube.com/vi/' + this.url.videoId + '/0.jpg';\n          this.trigger('posterchange');\n\n          // Check if their is a high res\n          this.checkHighResPoster();\n        }\n      }\n\n      if (this.options_.autoplay && !_isOnMobile) {\n        if (this.isReady_) {\n          this.play();\n        } else {\n          this.playOnReady = true;\n        }\n      } else if (this.activeVideoId !== this.url.videoId) {\n        if (this.isReady_) {\n          this.cueVideoById_(this.url.videoId);\n          this.activeVideoId = this.url.videoId;\n        } else {\n          this.cueOnReady = true;\n        }\n      }\n    },\n\n    autoplay: function autoplay() {\n      return this.options_.autoplay;\n    },\n\n    setAutoplay: function setAutoplay(val) {\n      this.options_.autoplay = val;\n    },\n\n    loop: function loop() {\n      return this.options_.loop;\n    },\n\n    setLoop: function setLoop(val) {\n      this.options_.loop = val;\n    },\n\n    play: function play() {\n      if (!this.url || !this.url.videoId) {\n        return;\n      }\n\n      this.wasPausedBeforeSeek = false;\n\n      if (this.isReady_) {\n        if (this.url.listId) {\n          if (this.activeList === this.url.listId) {\n            this.ytPlayer.playVideo();\n          } else {\n            this.ytPlayer.loadPlaylist(this.url.listId);\n            this.activeList = this.url.listId;\n          }\n        }\n\n        if (this.activeVideoId === this.url.videoId) {\n          this.ytPlayer.playVideo();\n        } else {\n          this.loadVideoById_(this.url.videoId);\n          this.activeVideoId = this.url.videoId;\n        }\n      } else {\n        this.trigger('waiting');\n        this.playOnReady = true;\n      }\n    },\n\n    pause: function pause() {\n      if (this.ytPlayer) {\n        this.ytPlayer.pauseVideo();\n      }\n    },\n\n    paused: function paused() {\n      return this.ytPlayer ? this.lastState !== YT.PlayerState.PLAYING && this.lastState !== YT.PlayerState.BUFFERING : true;\n    },\n\n    currentTime: function currentTime() {\n      return this.ytPlayer ? this.ytPlayer.getCurrentTime() : 0;\n    },\n\n    setCurrentTime: function setCurrentTime(seconds) {\n      if (this.lastState === YT.PlayerState.PAUSED) {\n        this.timeBeforeSeek = this.currentTime();\n      }\n\n      if (!this.isSeeking) {\n        this.wasPausedBeforeSeek = this.paused();\n      }\n\n      this.ytPlayer.seekTo(seconds, true);\n      this.trigger('timeupdate');\n      this.trigger('seeking');\n      this.isSeeking = true;\n\n      // A seek event during pause does not return an event to trigger a seeked event,\n      // so run an interval timer to look for the currentTime to change\n      if (this.lastState === YT.PlayerState.PAUSED && this.timeBeforeSeek !== seconds) {\n        clearInterval(this.checkSeekedInPauseInterval);\n        this.checkSeekedInPauseInterval = setInterval(function () {\n          if (this.lastState !== YT.PlayerState.PAUSED || !this.isSeeking) {\n            // If something changed while we were waiting for the currentTime to change,\n            //  clear the interval timer\n            clearInterval(this.checkSeekedInPauseInterval);\n          } else if (this.currentTime() !== this.timeBeforeSeek) {\n            this.trigger('timeupdate');\n            this.onSeeked();\n          }\n        }.bind(this), 250);\n      }\n    },\n\n    seeking: function seeking() {\n      return this.isSeeking;\n    },\n\n    seekable: function seekable() {\n      if (!this.ytPlayer) {\n        return _video2.default.createTimeRange();\n      }\n\n      return _video2.default.createTimeRange(0, this.ytPlayer.getDuration());\n    },\n\n    onSeeked: function onSeeked() {\n      clearInterval(this.checkSeekedInPauseInterval);\n      this.isSeeking = false;\n\n      if (this.wasPausedBeforeSeek) {\n        this.pause();\n      }\n\n      this.trigger('seeked');\n    },\n\n    playbackRate: function playbackRate() {\n      return this.ytPlayer ? this.ytPlayer.getPlaybackRate() : 1;\n    },\n\n    setPlaybackRate: function setPlaybackRate(suggestedRate) {\n      if (!this.ytPlayer) {\n        return;\n      }\n\n      this.ytPlayer.setPlaybackRate(suggestedRate);\n    },\n\n    duration: function duration() {\n      return this.ytPlayer ? this.ytPlayer.getDuration() : 0;\n    },\n\n    currentSrc: function currentSrc() {\n      return this.source && this.source.src;\n    },\n\n    ended: function ended() {\n      return this.ytPlayer ? this.lastState === YT.PlayerState.ENDED : false;\n    },\n\n    volume: function volume() {\n      return this.ytPlayer ? this.ytPlayer.getVolume() / 100.0 : 1;\n    },\n\n    setVolume: function setVolume(percentAsDecimal) {\n      if (!this.ytPlayer) {\n        return;\n      }\n\n      this.ytPlayer.setVolume(percentAsDecimal * 100.0);\n    },\n\n    muted: function muted() {\n      return this.ytPlayer ? this.ytPlayer.isMuted() : false;\n    },\n\n    setMuted: function setMuted(mute) {\n      if (!this.ytPlayer) {\n        return;\n      } else {\n        this.muted(true);\n      }\n\n      if (mute) {\n        this.ytPlayer.mute();\n      } else {\n        this.ytPlayer.unMute();\n      }\n      this.setTimeout(function () {\n        this.trigger('volumechange');\n      }, 50);\n    },\n\n    buffered: function buffered() {\n      if (!this.ytPlayer || !this.ytPlayer.getVideoLoadedFraction) {\n        return _video2.default.createTimeRange();\n      }\n\n      var bufferedEnd = this.ytPlayer.getVideoLoadedFraction() * this.ytPlayer.getDuration();\n\n      return _video2.default.createTimeRange(0, bufferedEnd);\n    },\n\n    // TODO: Can we really do something with this on YouTUbe?\n    preload: function preload() {},\n    load: function load() {},\n    reset: function reset() {},\n\n    supportsFullScreen: function supportsFullScreen() {\n      return true;\n    },\n\n    // Tries to get the highest resolution thumbnail available for the video\n    checkHighResPoster: function checkHighResPoster() {\n      var uri = 'https://img.youtube.com/vi/' + this.url.videoId + '/maxresdefault.jpg';\n\n      try {\n        var image = new Image();\n        image.onload = function () {\n          // Onload may still be called if YouTube returns the 120x90 error thumbnail\n          if ('naturalHeight' in image) {\n            if (image.naturalHeight <= 90 || image.naturalWidth <= 120) {\n              return;\n            }\n          } else if (image.height <= 90 || image.width <= 120) {\n            return;\n          }\n\n          this.poster_ = uri;\n          this.trigger('posterchange');\n        }.bind(this);\n        image.onerror = function () {};\n        image.src = uri;\n      } catch (e) {}\n    }\n  });\n\n  Youtube.isSupported = function () {\n    return true;\n  };\n\n  Youtube.canPlaySource = function (e) {\n    return Youtube.canPlayType(e.type);\n  };\n\n  Youtube.canPlayType = function (e) {\n    return e === 'video/youtube';\n  };\n\n  Youtube.parseUrl = function (url) {\n    var result = {\n      videoId: null\n    };\n\n    var regex = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/;\n    var match = url.match(regex);\n\n    if (match && match[2].length === 11) {\n      result.videoId = match[2];\n    }\n\n    var regPlaylist = /[?&]list=([^#\\&\\?]+)/;\n    match = url.match(regPlaylist);\n\n    if (match && match[1]) {\n      result.listId = match[1];\n    }\n\n    return result;\n  };\n\n  function apiLoaded() {\n    if (!YT) {\n      return;\n    }\n    YT.ready(function () {\n      Youtube.isApiReady = true;\n\n      for (var i = 0; i < Youtube.apiReadyQueue.length; ++i) {\n        Youtube.apiReadyQueue[i].initYTPlayer();\n      }\n    });\n  }\n\n  function loadScript(src, callback) {\n    var loaded = false;\n    var tag = document.createElement('script');\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    tag.onload = function () {\n      if (!loaded) {\n        loaded = true;\n        callback();\n      }\n    };\n    tag.onreadystatechange = function () {\n      if (!loaded && (this.readyState === 'complete' || this.readyState === 'loaded')) {\n        loaded = true;\n        callback();\n      }\n    };\n    tag.src = src;\n  }\n\n  function injectCss() {\n    var css = // iframe blocker to catch mouse events\n    '.vjs-youtube .vjs-iframe-blocker { display: none; }' + '.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }' + '.vjs-youtube .vjs-poster { background-size: cover; }' + '.vjs-youtube-mobile .vjs-big-play-button { display: none; }';\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(style);\n  }\n\n  Youtube.apiReadyQueue = [];\n\n  if (typeof document !== 'undefined') {\n    loadScript('https://www.youtube.com/iframe_api', apiLoaded);\n    injectCss();\n  }\n\n  // Older versions of VJS5 doesn't have the registerTech function\n  if (typeof _video2.default.registerTech !== 'undefined') {\n    _video2.default.registerTech('Youtube', Youtube);\n  } else {\n    _video2.default.registerComponent('Youtube', Youtube);\n  }\n}\n\nfunction YoutubePluginRegister() {\n  init();\n}\n\n//# sourceURL=webpack:///./src/components/video/videojs-youtube.js?")},,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(367);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Search component.\n * \n * @extends Component\n */\nvar Search = function (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(el, $el) {\n    _classCallCheck(this, Search);\n\n    return _possibleConstructorReturn(this, _Component.call(this, el, $el));\n  }\n\n  /**\n   * Make sure that the value in the search bar is trimmed from leading or trailing spaces.\n   */\n\n\n  Search.prototype.trimSearch = function trimSearch() {\n    var $searchInput = this.$el.find(\'[name="qt"]\');\n    var trimedValue = $searchInput.val().trim();\n    $searchInput.val(trimedValue);\n  };\n\n  return Search;\n}(_component2.default);\n\nSearch.selector = \'.search\';\nSearch.events = {\n  \'submit .js-global-site-search\': \'trimSearch\'\n};\nexports.default = Search;\n\n//# sourceURL=webpack:///./src/components/search/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/search/search.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(369);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _navUtils = __webpack_require__(38);\n\nvar _analytics = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NewSearch = function (_Component) {\n  _inherits(NewSearch, _Component);\n\n  function NewSearch(el, $el) {\n    _classCallCheck(this, NewSearch);\n\n    var _this2 = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this2.registerElements();\n    _this2.name = 'NewSearch';\n    _this2.handleNavbuttonClick = _this2.handleNavbuttonClick.bind(_this2);\n    _this2.attachEscape = _this2.collapseOnEscape.bind(_this2);\n    _this2.handleDocumentClick = _this2.handleDocumentClick.bind(_this2);\n    (0, _navUtils.registerPopup)('NewSearch', _this2);\n    return _this2;\n  }\n\n  /**\n  * Register DOM elements.\n  */\n\n\n  NewSearch.prototype.registerElements = function registerElements() {\n    this.$body = (0, _jquery2.default)('body');\n    this.$navRoot = (0, _jquery2.default)('.js-ek-global-navigation');\n    this.$el = (0, _jquery2.default)('.js-search-popup');\n    this.$websiteSearchMenu = (0, _jquery2.default)('.js-website-search');\n    this.$websiteSelector = (0, _jquery2.default)('.js-website-selector-wrapper');\n    this.$searchSelectorInput = (0, _jquery2.default)('.js-search-selector-list-item-link');\n    this.$searchNavIcon = (0, _jquery2.default)('#js-close-search-popup');\n    this.$countrySelector = (0, _jquery2.default)('.js-country-selector-list-item-link');\n    this.$loginPopup = (0, _jquery2.default)('.js-account-popup-link');\n    this.$loginPanel = (0, _jquery2.default)('.js-ek-account-popup');\n    this.$searchInput = this.$el.find('#js-search-box-input');\n    this.$searchLabel = this.$el.find('#js-search-field-label');\n    this.$btnClear = this.$el.find('#js-clear-input');\n  };\n\n  /**\n  * navbutton click event. Toggles the popup state\n  * @param {Event} e\n  */\n\n\n  NewSearch.prototype.handleNavbuttonClick = function handleNavbuttonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    (0, _analytics.pushEvent)({\n      'event': 'EventTrigger.Common_topNavigation_CTAClick',\n      'category': 'Links | Top Navigation',\n      'action': 'CTA Clicked',\n      'label': 'Widget:Site Search'\n    });\n\n    this.isExpanded() ? this.collapse() : this.expand(e);\n  };\n\n  /**\n  * Search button click.\n  * @param {Event} e\n  */\n  NewSearch.prototype.handleSearchButtonClick = function handleSearchButtonClick(e) {\n    (0, _analytics.pushEvent)({\n      'event': 'EventTrigger.Search_searchTerm',\n      'category': 'Search',\n      'action': 'Search Term',\n      'label': 'Search Term',\n      'value': this.$searchInput.val()\n    });\n  };\n\n  /**\n  * Collapse the Mega menu active popup\n  * @param {Event?} e\n  */\n\n\n  NewSearch.prototype.collapseMegaMenu = function collapseMegaMenu(e) {\n    this.$navRoot.find('.megalinks-list-parent').removeClass('mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked');\n    this.$navRoot.find('.megalinks-list-parent').children('li').removeClass('active-menu');\n  };\n\n  /**\n  * Collapse the popup\n  * @param {Event} e\n  */\n\n\n  NewSearch.prototype.collapse = function collapse(e) {\n    var _this = this;\n    this.$searchNavIcon.removeClass('active').attr('aria-expanded', false);\n    this.$searchNavIcon.focus();\n    setTimeout(function () {\n      _this.$websiteSearchMenu.removeClass('active-menu');\n      _this.$el.hide();\n      _this.$body.off('keyup', _this.attachEscape).off('click', _this.handleDocumentClick);\n    }, 200);\n  };\n\n  /**\n  * Expand the popup\n  * @param {Event?} e\n  */\n  NewSearch.prototype.expand = function expand(e) {\n    var _this = this;\n    this.collapseMegaMenu();\n    this.$websiteSearchMenu.addClass('active-menu');\n    this.$searchSelectorInput.removeAttr('aria-expanded');\n    this.$searchSelectorInput.addClass('active').attr('aria-expanded', true);\n    setTimeout(function () {\n      _this.showPopup(e);\n      _this.$searchInput.focus();\n    }, 270);\n  };\n\n  /**\n  * Internal method to show the popup used by the expand function.\n  * @param {Event} e\n  */\n  NewSearch.prototype.showPopup = function showPopup(e) {\n    var $btn = (0, _jquery2.default)(e.target);\n    this.$el.show();\n    this.$countrySelector.removeClass('active').attr('aria-expanded', false);\n    this.$websiteSelector.hide();\n    this.$loginPopup.removeClass('active').attr('aria-expanded', false);\n    this.$loginPanel.hide();\n    (0, _navUtils.collapseAllPopupsExcept)(this.name);\n    this.$body.on('keyup', this.attachEscape).on('click', this.handleDocumentClick);\n  };\n\n  /**\n  * Is the popup is expanded.\n  * @returns {Boolean} isExpanded\n  */\n  NewSearch.prototype.isExpanded = function isExpanded() {\n    return this.$el.is(':visible');\n  };\n\n  /**\n  * Handles the document body click. The popup should be collapsed.\n  * @param {Event} e - The DOM event\n  */\n  NewSearch.prototype.handleDocumentClick = function handleDocumentClick(e) {\n    var $target = (0, _jquery2.default)(e.target);\n\n    if (!$target.hasClass('js-search-popup') && $target.parents('.js-search-popup').length === 0) {\n      this.collapse();\n    }\n  };\n\n  NewSearch.prototype.activate = function activate() {\n    this.$searchLabel.addClass('search-box__label--active');\n  };\n\n  NewSearch.prototype.deactivate = function deactivate() {\n    if (!this.$searchInput.val()) {\n      this.$searchLabel.removeClass('search-box__label--active');\n    }\n  };\n\n  NewSearch.prototype.clearSearch = function clearSearch() {\n    this.$searchInput.val('').focus();\n    this.$btnClear.css('display', 'none');\n  };\n\n  NewSearch.prototype.toggleClearButton = function toggleClearButton() {\n    if (!this.$searchInput.val()) {\n      return this.$btnClear.css('display', 'none');\n    }\n\n    this.$btnClear.css('display', 'block');\n  };\n\n  NewSearch.prototype.collapseOnEscape = function collapseOnEscape(e) {\n    var keyCode = e.keyCode || e.which;\n\n    if (keyCode === _navUtils.eventKeyCode.ESC && this.collapse && typeof this.collapse === 'function') {\n      this.collapse();\n    }\n  };\n\n  return NewSearch;\n}(_component2.default);\n\nNewSearch.selector = '.js-website-search';\nNewSearch.events = {\n  'focus #js-search-box-input': 'activate',\n  'blur #js-search-box-input': 'deactivate',\n  'keyup #js-search-box-input': 'toggleClearButton',\n  'click #js-clear-input': 'clearSearch',\n  'click .js-search-selector-list-item-link': 'handleNavbuttonClick',\n  'click #search-country-input': 'handleSearchButtonClick'\n};\nexports.default = NewSearch;\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/search-v2/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/search-v2/search-v2.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(371);\n\n//# sourceURL=webpack:///./src/components/location/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/location/location.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(373);\n\n//# sourceURL=webpack:///./src/components/class-dropdown/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/class-dropdown/class-dropdown.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(375);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _flightCommon = __webpack_require__(138);\n\nvar _flightCommon2 = _interopRequireDefault(_flightCommon);\n\nvar _utils = __webpack_require__(5);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _airports = __webpack_require__(17);\n\nvar _mytrips = __webpack_require__(60);\n\nvar _myTripsWomf = __webpack_require__(380);\n\nvar _myTripsWomf2 = _interopRequireDefault(_myTripsWomf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\nvar womfService = "home";\nvar KEY_RECENT_SEARCH_WOYF = "womf-widget";\n\n/**\n * Class representing WOMF component.\n *\n * @extends FlightCommon\n */\n\nvar WhatsOnMyFlight = function (_FlightCommon) {\n  _inherits(WhatsOnMyFlight, _FlightCommon);\n\n  function WhatsOnMyFlight(el, $el) {\n    _classCallCheck(this, WhatsOnMyFlight);\n\n    var _this = _possibleConstructorReturn(this, _FlightCommon.call(this, el, $el));\n\n    _this.options = {\n      options: false\n    };\n\n\n    _this.state = {};\n\n    (0, _utils.setDateTimeForCulture)(_this.$el);\n    _this.setDefaultRadio(el);\n    _this.options.outage = _this.$el.hasClass("js-outage");\n    return _this;\n  }\n\n  /**\n   * Returns validated flight data.\n   *\n   * @return {object} Data\n   * @todo Check if this is dead code.\n   */\n\n\n  WhatsOnMyFlight.prototype.flightNumberValues = function flightNumberValues() {\n    var depDate = this.formatDate();\n    var FlNo = this.$flightStatusNumber.val().replace(/[^0-9]/, "");\n    return (0, _assign2.default)({ depDate: depDate, FlNo: FlNo, service: womfService }, (0, _utils.gaParameters)());\n  };\n\n  /**\n   * Returns the Mytrips template.\n   *\n   * @param {object} data\n   */\n\n\n  WhatsOnMyFlight.prototype.getTemplate = function getTemplate(data) {\n    return (0, _myTripsWomf2.default)(data);\n  };\n\n  /**\n   * Renders Mytrips list and injects into DOM.\n   *\n   * @param {number} limit\n   */\n\n\n  WhatsOnMyFlight.prototype.bulkRender = function bulkRender(data) {\n    var mytripsData = {\n      myTrips: {\n        trips: data.data && data.data.trips ? data.data.trips : null\n      },\n      resources: (0, _get2.default)(window, "__EK__.resources")\n    };\n    this.$el.find(".my-trips__womf").html(this.getTemplate(mytripsData));\n  };\n\n  /**\n   * Returns formatted date.\n   *\n   * @return {string} Date\n   */\n\n\n  WhatsOnMyFlight.prototype.formatDate = function formatDate() {\n    if (this.state.from) return this.state.from;\n    return (0, _moment2.default)(new Date()).format("YYMMDD");\n  };\n\n  /**\n   * Returns validated route data.\n   *\n   * @return {object} Data\n   * @todo Check if this is dead code.\n   */\n\n\n  WhatsOnMyFlight.prototype.routeValues = function routeValues() {\n    var params = {};\n    if (this.state.origin) params.depAp = this.state.origin;\n    if (this.state.destination) params.arrAp = this.state.destination;\n    params.depDate = this.formatDate();\n    params.service = womfService;\n    return (0, _assign2.default)(params, (0, _utils.gaParameters)());\n  };\n\n  /**\n   * Updates state and triggers action to display the right form.\n   *\n   * @param {HTMLElement} el DOM element\n   */\n\n\n  WhatsOnMyFlight.prototype.setDefaultRadio = function setDefaultRadio(el) {\n    if (__EK__.resources["Experience/Womf/Womf-widget/default-option-flightnumber__text"] && __EK__.resources["Experience/Womf/Womf-widget/default-option-flightnumber__text"] === "true") {\n      this.state.type = "flightNumber";\n      this.showFlightNumber(el);\n    } else {\n      this.state.type = "route";\n      this.showFlightRoute(el);\n    }\n  };\n\n  /**\n   * Gets a list of airports for targeted destination.\n   *\n   * @param {string} eventName Event name\n   * @param {object} details Data to use for filtering\n   */\n\n\n  WhatsOnMyFlight.prototype.originSelectedHandler = function originSelectedHandler(eventName, details) {\n    var _this2 = this;\n\n    var iataCode = details.iataCode,\n        focusDestinations = details.focusDestinations;\n\n    return (0, _airports.getDestinations)(iataCode, false).then(function (destinations) {\n      _this2.publish("destinations.loaded", {\n        destinations: destinations,\n        focusDestinations: focusDestinations,\n        iataCode: iataCode,\n        section: "womf"\n      });\n    });\n  };\n\n  return WhatsOnMyFlight;\n}(_flightCommon2.default);\n\nWhatsOnMyFlight.selector = ".js-womf";\nWhatsOnMyFlight.events = {\n  "click .js-activate-flight-number": "showFlightNumber",\n  "click .js-activate-flight-route": "showFlightRoute",\n  "keyup .js-flight-number-status": "handleKeyUp",\n  "dropdown.selection": "handleSelection",\n  "search.selection.womf": "handleSelection",\n  "origin.selected.womf": "originSelectedHandler",\n  startselect: "handleDateSelection",\n  "click .js-login-link": "triggerLogin",\n  "click .js-widget-submit": "submit"\n};\nexports.default = WhatsOnMyFlight;\n\n//# sourceURL=webpack:///./src/components/whats-on-my-flight/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/whats-on-my-flight/whats-on-my-flight.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateFlightNumber = validateFlightNumber;\n/* global __EK__ */\nvar partnerAirlines = [{ start: 3000, end: 3299 }, { start: 3300, end: 3599 }, { start: 3600, end: 3799 }, { start: 3810, end: 3999 }, { start: 4000, end: 4399 }, { start: 4400, end: 4649 }, { start: 4650, end: 4749 }, { start: 4750, end: 4899 }, { start: 5000, end: 5999 }, { start: 6000, end: 6999 }, { start: 7200, end: 7209 }, { start: 7210, end: 7219 }, { start: 7220, end: 7229 }, { start: 7230, end: 7239 }, { start: 7240, end: 7259 }, { start: 7280, end: 7283 }, { start: 7300, end: 7399 }, { start: 7400, end: 7449 }, { start: 7450, end: 7699 }, { start: 7700, end: 7799 }, { start: 7800, end: 7999 }];\n\nfunction validateFlightNumber(_ref) {\n  var input = _ref.input,\n      _ref$generalError = _ref.generalError,\n      generalError = _ref$generalError === undefined ? 'BookManage/Flight-Status/Widget/flight-number-general-error__text' : _ref$generalError,\n      _ref$partnerError = _ref.partnerError,\n      partnerError = _ref$partnerError === undefined ? 'BookManage/Flight-Status/Widget/flight-number-partner__text' : _ref$partnerError;\n\n  var flightNumber = input.replace(/ /g, '').replace('EK', '');\n\n  if (!flightNumber) {\n    return { valid: false, empty: true };\n  }\n\n  var trimmed = flightNumber.trim();\n  var num = +trimmed;\n\n  if (trimmed.length === 0) {\n    return { valid: false, empty: true };\n  }\n\n  if (trimmed.length > 4) {\n    return { valid: false, exceeded: true };\n  }\n\n  if (isNaN(num)) {\n    var term = __EK__.resources[generalError];\n    if (term) {\n      term = term.replace('{{flightnumber}}', input.replace('EK', ''));\n      return { valid: false, term: term };\n    }\n  }\n\n  var ekFlight = num >= 0 && num <= 2999 && num >= 8000 && num <= 8999;\n  var isPartner = partnerAirlines.filter(function (i) {\n    return num >= i.start && num <= i.end;\n  });\n\n  if (isPartner.length > 0 && !ekFlight) {\n    var _term = __EK__.resources[partnerError];\n    if (_term) {\n      _term = _term.replace('{{flightnumber}}', input.replace('EK', ''));\n      return { valid: false, term: _term };\n    }\n  }\n\n  return { valid: true };\n}\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/flight-validation.js?")},,,,function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "  <div class=\\"womf__outage-message\\">\\n    <span class=\\"icon icon-information\\"></span>\\n    <span class=\\"womf__outage-message--text\\">"\n    + container.escapeExpression(__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Experience/Womf/Womf-results/mytrips-outage__text",{"name":"resource","hash":{},"data":data}))\n    + "</span>\\n"\n    + ((stack1 = container.invokePartial(__webpack_require__(98),depth0,{"name":"content-split","data":data,"indent":"    ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "")\n    + "  </div>\\n";\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "  <section class=\\"womf__section womf__section__trips\\">\\n    <h2 class=\\"womf__section__header womf__section__header--tight grid__item ta--left\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"Experience/Womf/Womf-widget/upcoming-flights-header__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h2>\\n"\n    + ((stack1 = helpers["if"].call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.program(14, data, 0),"data":data})) != null ? stack1 : "")\n    + "  </section>\\n";\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = ((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1)) != null ? stack1.length : stack1),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.program(12, data, 0),"data":data})) != null ? stack1 : "");\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "        "\n    + container.escapeExpression(__default(__webpack_require__(139)).call(alias1,"trips",__default(__webpack_require__(381)).call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1),2,{"name":"sort-trips-by-date","hash":{},"data":data}),{"name":"var","hash":{},"data":data}))\n    + "\\n        <div class=\\"womf__section__rows\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,((stack1 = (depth0 != null ? depth0.trips : depth0)) != null ? stack1.sortedLegs : stack1),{"name":"each","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "        </div>\\n"\n    + ((stack1 = helpers["if"].call(alias1,((stack1 = (depth0 != null ? depth0.trips : depth0)) != null ? stack1.extraLegs : stack1),{"name":"if","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"6":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "            <div class=\\"womf__section__row automation-womf-row-"\n    + alias2(alias1((data && data.key), depth0))\n    + "\\">\\n              <div class=\\"grid grid--middle womf__item\\">\\n                <div class=\\"grid__item medium--one-quarter womf__divider-container\\">\\n                  <div class=\\"womf__divider\\">\\n                    <span class=\\"js-city-name-field\\" data-iata-code=\\""\n    + alias2(alias1((depth0 != null ? depth0.origin : depth0), depth0))\n    + "\\"></span>\\n                    <span class=\\"js-city-name-code\\">("\n    + alias2(alias1((depth0 != null ? depth0.origin : depth0), depth0))\n    + ")</span>\\n                    <span class=\\"flight-status__city-separator\\"></span>\\n                    <span class=\\"js-city-name-field\\" data-iata-code=\\""\n    + alias2(alias1((depth0 != null ? depth0.destination : depth0), depth0))\n    + "\\"></span>\\n                    <span class=\\"js-city-name-code\\">("\n    + alias2(alias1((depth0 != null ? depth0.destination : depth0), depth0))\n    + ")</span>\\n                    </div>\\n                  </div>\\n                  <div class=\\"grid__item one-half medium--one-quarter womf__item--left\\">\\n                    <span class=\\"flight-status__cell-heading\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias3,"Experience/Womf/Womf-widget/departing-heading__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</span>\\n                    <span class=\\"flight-status__emphasize\\">\\n                      "\n    + alias2(__default(__webpack_require__(37)).call(alias3,(depth0 != null ? depth0.departureDateTime : depth0),{"name":"formatResourceDate","hash":{"key":"shortDateShortDay"},"data":data}))\n    + "\\n                    </span>\\n                  </div>\\n                  <div class=\\"grid__item one-half medium--one-quarter womf__item--right\\">\\n                    <span class=\\"flight-status__cell-heading\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias3,"Experience/Womf/Womf-widget/flight-number-heading__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</span>\\n                    <span class=\\"flight-status__emphasize\\">"\n    + alias2(alias1((depth0 != null ? depth0.flightNumber : depth0), depth0))\n    + "</span>\\n                  </div>\\n                  <div class=\\"grid__item medium--one-quarter womf__cta\\">\\n                    <a\\n"\n    + ((stack1 = helpers["with"].call(alias3,__default(__webpack_require__(0)).call(alias3,"Experience/Womf/Womf-widget/upcoming-flight-cta__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "                      class=\\"cta cta--large cta--primary womf__link\\"\\n                      href=\\""\n    + alias2(__default(__webpack_require__(61)).call(alias3,"womf",__default(__webpack_require__(0)).call(alias3,"Experience/Womf/Womf-widget/upcoming-flight-cta__url",{"name":"resource","hash":{},"data":data}),(depth0 != null ? depth0.flightNumber : depth0),(depth0 != null ? depth0.departureDateTime : depth0),{"name":"deep-link","hash":{},"data":data}))\n    + "\\">\\n                        "\n    + alias2(__default(__webpack_require__(0)).call(alias3,"Experience/Womf/Womf-widget/upcoming-flight-cta__text",{"name":"resource","hash":{},"data":data}))\n    + "\\n                    </a>\\n                </div>\\n              </div>\\n            </div>\\n";\n},"7":function(container,depth0,helpers,partials,data) {\n    return "                        target=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.target : depth0), depth0))\n    + "\\"\\n";\n},"9":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression;\n\n  return "          <div class=\\"grid grid--middle womf__item womf__item--pure-left\\">\\n            <div class=\\"grid__item medium--one-half\\">\\n              <a\\n"\n    + ((stack1 = helpers["with"].call(alias1,__default(__webpack_require__(0)).call(alias1,"Experience/Womf/Womf-widget/view-all-flights__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "                class=\\"my-trips__inline-link womf__section__inline-link\\"\\n                href=\\""\n    + alias2(__default(__webpack_require__(61)).call(alias1,"womf-upcoming-flights",__default(__webpack_require__(0)).call(alias1,"Experience/Womf/Womf-widget/view-all-flights__url",{"name":"resource","hash":{},"data":data}),"","",{"name":"deep-link","hash":{},"data":data}))\n    + "\\">\\n                  "\n    + alias2(__default(__webpack_require__(383)).call(alias1,__default(__webpack_require__(0)).call(alias1,"Experience/Womf/Womf-widget/view-all-flights__text",{"name":"resource","hash":{},"data":data}),(depth0 != null ? depth0.trips : depth0),{"name":"interpolate","hash":{},"data":data}))\n    + "\\n              </a>\\n            </div>\\n          </div>\\n";\n},"10":function(container,depth0,helpers,partials,data) {\n    return "                  target=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.target : depth0), depth0))\n    + "\\"\\n";\n},"12":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "        <p class=\\"womf__section__paragraph no-flights\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Experience/Womf/Womf-widget/no-upcoming-flights__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n";\n},"14":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "      <p class=\\"womf__section__paragraph no-flights\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Experience/Womf/Womf-widget/no-upcoming-flights__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return ((stack1 = __default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.myTrips : depth0),"===",undefined,{"name":"op","hash":{},"data":data}),"||",__default(__webpack_require__(3)).call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.outage : stack1),"===","true",{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(1, data, 0),"inverse":container.program(3, data, 0),"data":data})) != null ? stack1 : "");\n},"usePartial":true,"useData":true});\n\n//# sourceURL=webpack:///./src/components/my-trips/my-trips-womf.handlebars?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar sortBy = __webpack_require__(59);\nvar flatten = __webpack_require__(382);\n\n/**\n * Returns sorted trips with additional details.\n * Takes an array of trips, extracts each leg and sort them by departure date.\n *\n * @param {array} trips List of trips\n * @param {number} [limit] Maximum number or trips to return\n * @return {object}\n */\nmodule.exports = function sortTripsByDate(trips, limit) {\n  var airSegments = trips.map(function (_ref) {\n    var airSegments = _ref.airSegments;\n    return airSegments;\n  });\n  var totalLegs = flatten(airSegments);\n  var sortedLegs = sortBy(totalLegs, 'departureDateTime');\n  var filteredLegs = sortedLegs.slice(0, limit);\n  var extraLegs = sortedLegs.slice(limit);\n\n  return {\n    sortedLegs: filteredLegs,\n    extraLegs: extraLegs,\n    allFlightsCount: totalLegs.length\n  };\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/sort-trips-by-date.js?")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _require = __webpack_require__(140),\n    escape = _require.escape;\n\n/**\n * Returns interpolated string.\n * \n * @param {string} str String to be interpolated\n * @param {object} obj Object containing data\n * @return {string}\n */\n\n\nmodule.exports = function interpolate(str, obj) {\n  if (str) {\n    var interpolateRe = /\\{\\{([a-z-0-9]+)\\}\\}/;\n    var matches = str.match(RegExp(interpolateRe, 'gi'));\n\n    if (!matches) return str;\n\n    if (typeof obj === 'string') {\n      try {\n        obj = JSON.parse(obj);\n      } catch (err) {\n        console.error('Interpolate helper: Could not parse JSON from \"' + obj + '\" for \"' + str + '\".', err);\n      }\n    }\n\n    return matches.reduce(function (result, match) {\n      var _RegExp$exec = RegExp(interpolateRe, 'i').exec(match),\n          identifier = _RegExp$exec[1];\n\n      if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && !obj.error && Object.hasOwnProperty.call(obj, identifier)) {\n        return result.replace(match, escape(obj[identifier]));\n      } else {\n        console.error('Interpolate helper: Could not replace \"' + identifier + '\" in incoming template data object for \"' + str + '\".');\n        return result;\n      }\n    }, str);\n  } else {\n    return '';\n  }\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/interpolate.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _config = __webpack_require__(23);\n\n__webpack_require__(385);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_CITY_CARD_FALLBACK_IMAGE_URL = \'https://cdn.ek.aero/shared/images/destination/v1/airports/CDSR/810x270.jpg\';\n\n/**\n * Class representing City Card component.\n * \n * @extends Component\n */\n\nvar CityCard = function (_Component) {\n  _inherits(CityCard, _Component);\n\n  function CityCard(el, $el) {\n    _classCallCheck(this, CityCard);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    var CITY_CARD_FALLBACK_IMAGE_URL = (0, _config.getConfig)(\'CITY_CARD_FALLBACK_IMAGE_URL\') || DEFAULT_CITY_CARD_FALLBACK_IMAGE_URL;\n\n    _this.$cityCardImages = _this.$el.find(\'.city-card__image\');\n    _this.$cityCardImages.each(function () {\n      var _this2 = this;\n\n      this.onerror = function () {\n        return _this2.src = CITY_CARD_FALLBACK_IMAGE_URL;\n      };\n    });\n    return _this;\n  }\n\n  return CityCard;\n}(_component2.default);\n\nCityCard.selector = \'.city-card\';\nexports.default = CityCard;\n\n//# sourceURL=webpack:///./src/components/city-card/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/city-card/city-card.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(387);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _each = __webpack_require__(90);\n\nvar _each2 = _interopRequireDefault(_each);\n\nvar _ekPikaday = __webpack_require__(388);\n\nvar _ekPikaday2 = _interopRequireDefault(_ekPikaday);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Date Picker component.\n * Not used any more, replaced with Calendar from eol-components.\n * \n * @extends Component\n * @deprecated\n */\nvar DatePicker = function (_Component) {\n  _inherits(DatePicker, _Component);\n\n  function DatePicker(el, $el) {\n    _classCallCheck(this, DatePicker);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      isDoublePicker: false,\n      isDeparting: false,\n      pickerBound: false,\n      datePickerOpenClass: 'datepicker-open',\n      selectionMade: false\n    };\n\n    var $startPicker = _this.$el.find('.start-picker');\n    var $endPicker = _this.$el.find('.end-picker');\n\n    _this.options = _this.readAttributes(_this.options);\n    _this.options = _this.createElements(_this.options);\n    _this.options.hasReturn = _this.$el.find('.picker-container--end').length > 0;\n    $startPicker.val('');\n    $endPicker.val('');\n    _this.defaultStartValue = $startPicker.val();\n    _this.defaultEndValue = $endPicker.val();\n\n    _this.oneWayCheckboxSelected = false;\n\n    _this.$flexibleDateCheckboxes = _this.$el.find('.js-flexible-dates');\n    _this.$flexibleDateCheckboxes.prop('checked', false);\n    _this.$oneWayCheckboxes = _this.$el.find('.js-one-way');\n    _this.$oneWayCheckboxes.prop('checked', false);\n\n    if (_this.options.isDeparting) {\n      _this.createSinglePicker();\n      _this.options.pickerBound = true;\n    }\n\n    (0, _jquery2.default)(_this.$el).ready(function () {\n      //TODO: Refactor this functionality (which depends on business logic in pickerBound which is not clear)\n      // this.setStartPickerActive()\n    });\n\n    (0, _jquery2.default)(document).on('keyup', function (e) {\n      _this.handleKeyUp(e, _this);\n    });\n\n    //TODO: Refactor this functionality (which depends on business logic in pickerBound which is not clear)\n    // this.options.startDate = this.getToday()\n    return _this;\n  }\n\n  DatePicker.prototype.handleKeyUp = function handleKeyUp(e, inst) {\n    if (e.keyCode === 27) {\n      inst.closeAllPickers();\n    }\n  };\n\n  DatePicker.prototype.removeInitial = function removeInitial() {\n    this.$el.removeClass('initial');\n  };\n\n  DatePicker.prototype.handleMouseEnter = function handleMouseEnter(e) {\n    if (this.options.hasReturn) {\n      this.addHoverClasses(e);\n    }\n  };\n\n  DatePicker.prototype.handleMouseLeave = function handleMouseLeave(e) {\n    if (this.options.hasReturn) {\n      this.removeHoverClasses();\n    }\n  };\n\n  DatePicker.prototype.addHoverClasses = function addHoverClasses(e) {\n    if ((0, _jquery2.default)(e.currentTarget).hasClass('is-disabled')) return;\n    (0, _jquery2.default)(e.currentTarget).addClass('hovering');\n\n    var days = (0, _jquery2.default)(this.$el.find('.picker-container--end .pika-single')[0]).find('td');\n    var startSelected = false;\n    var endSelected = false;\n    var startIndex = void 0;\n    for (var i = 0; i < days.length; i++) {\n      if ((0, _jquery2.default)(days[i]).hasClass('is-startrange')) {\n        startSelected = true;\n        startIndex = i;\n      }\n      if ((0, _jquery2.default)(days[i]).hasClass('is-endrange') && i > startIndex) {\n        endSelected = true;\n      }\n    }\n\n    if (startSelected && !endSelected) {\n      var inRangeDays = [];\n      var _i = startIndex + 1;\n      var resume = true;\n      while (resume) {\n        if ((0, _jquery2.default)(days[_i]).hasClass('hovering') || _i >= days.length) {\n          resume = false;\n        } else {\n          inRangeDays.push(days[_i]);\n          _i++;\n        }\n      }\n\n      for (var _i2 = 0; _i2 < inRangeDays.length; _i2++) {\n        (0, _jquery2.default)(inRangeDays[_i2]).addClass('in-hover-range');\n      }\n    }\n  };\n\n  DatePicker.prototype.removeHoverClasses = function removeHoverClasses() {\n    var days = this.$el.find('td');\n    for (var i = 0; i < days.length; i++) {\n      (0, _jquery2.default)(days[i]).removeClass('hovering in-hover-range');\n    }\n  };\n\n  DatePicker.prototype.readAttributes = function readAttributes(options) {\n    var updatedOptions = (0, _assign2.default)(options, this.$el.data());\n    updatedOptions.rtl = (0, _jquery2.default)('html').attr('dir') === 'rtl';\n    updatedOptions.disallowedDays = []; // you put the days in here as an array of date objects with the specifically excluded days.\n\n    return updatedOptions;\n  };\n\n  DatePicker.prototype.createElements = function createElements(options) {\n    var isDeparting = options.isDeparting;\n\n\n    options.$startPicker = this.$el.find('.start-picker');\n    options.$startPickerContainer = this.$el.find('.picker-container--start');\n\n    if (!isDeparting) {\n      options.$oneWayCheckbox = this.$el.find('.js-one-way');\n      options.$endPicker = this.$el.find('.end-picker');\n      options.$endPickerContainer = this.$el.find('.picker-container--end');\n    }\n\n    return options;\n  };\n\n  DatePicker.prototype.layoutMediumPicker = function layoutMediumPicker() {\n    var _options = this.options,\n        isDeparting = _options.isDeparting,\n        isDoublePicker = _options.isDoublePicker,\n        pickerBound = _options.pickerBound,\n        startPicker = _options.startPicker,\n        endPicker = _options.endPicker;\n\n    var options = this.options;\n\n    if (!isDeparting) {\n      if (pickerBound) {\n        startPicker.destroy();\n        endPicker.destroy();\n      }\n\n      options.startPicker = this.createStartPicker(isDoublePicker ? 2 : 1);\n      if (this.options.startDate) this.options.startPicker.setStartRange(this.options.startDate);\n      if (this.options.endDate) this.options.startPicker.setEndRange(this.options.endDate);\n\n      options.endPicker = this.createEndPicker(isDoublePicker ? 2 : 1);\n      if (this.options.startDate) this.options.endPicker.setStartRange(this.options.startDate);\n      if (this.options.endDate) this.options.endPicker.setEndRange(this.options.endDate);\n\n      options.pickerBound = true;\n    }\n  };\n\n  DatePicker.prototype.layoutMobilePicker = function layoutMobilePicker() {\n    var _options2 = this.options,\n        isDeparting = _options2.isDeparting,\n        pickerBound = _options2.pickerBound,\n        startPicker = _options2.startPicker,\n        endPicker = _options2.endPicker;\n\n    var options = this.options;\n\n    if (!isDeparting) {\n      if (pickerBound) {\n        startPicker.destroy();\n        endPicker.destroy();\n      }\n\n      options.startPicker = this.createStartPicker(1);\n      if (this.options.startDate) this.options.startPicker.setStartRange(this.options.startDate);\n      if (this.options.endDate) this.options.startPicker.setEndRange(this.options.endDate);\n\n      options.endPicker = this.createEndPicker(1);\n      if (this.options.startDate) this.options.endPicker.setStartRange(this.options.startDate);\n      if (this.options.endDate) this.options.endPicker.setEndRange(this.options.endDate);\n\n      options.pickerBound = true;\n    }\n  };\n\n  DatePicker.prototype.updateStartDate = function updateStartDate(startDate) {\n    var options = this.options;\n    var _options3 = this.options,\n        endPicker = _options3.endPicker,\n        startPicker = _options3.startPicker;\n\n\n    options.startDate = startDate;\n    endPicker.setStartRange(startDate);\n    endPicker.setMinDate(startDate);\n    startPicker.setStartRange(startDate);\n\n    if (options.endDate < options.startDate) {\n      this.updateEndDate(undefined);\n      endPicker.setDate(undefined);\n    }\n\n    var target = this.$el.data('section');\n    if (target) {\n      this.publish('date.selection.' + target, {\n        type: 'from',\n        value: startDate\n      });\n    }\n    (0, _jquery2.default)('body').removeClass(this.options.datePickerOpenClass);\n  };\n\n  DatePicker.prototype.updateEndDate = function updateEndDate(endDate) {\n    var options = this.options;\n    var _options4 = this.options,\n        startPicker = _options4.startPicker,\n        startDate = _options4.startDate,\n        endPicker = _options4.endPicker;\n\n\n    options.endDate = endDate;\n    startPicker.setEndRange(endDate);\n    endPicker.setEndRange(endDate);\n    endPicker.setMinDate(startDate);\n    var target = this.$el.data('section');\n    if (target) {\n      this.publish('date.selection.' + target, {\n        type: 'to',\n        value: endDate\n      });\n    }\n    (0, _jquery2.default)('body').removeClass(this.options.datePickerOpenClass);\n  };\n\n  DatePicker.prototype.closeDoublePicker = function closeDoublePicker($pickerContainer, hideIndicator) {\n    (0, _jquery2.default)(document).off('mouseup');\n    $pickerContainer.removeClass('show');\n\n    if (hideIndicator) {\n      this.$el.removeClass('show-indicator--start show-indicator--end');\n    }\n  };\n\n  DatePicker.prototype.openStartPicker = function openStartPicker(e, data) {\n    var _this2 = this;\n\n    if (data && data.subsection && data.subsection !== this.options.subsection) {\n      return false;\n    }\n\n    var _options5 = this.options,\n        $startPickerContainer = _options5.$startPickerContainer,\n        $endPickerContainer = _options5.$endPickerContainer;\n\n    this.setStartPickerActive();\n    this.bindHideClick();\n    $startPickerContainer.addClass('show');\n    this.$el.addClass('show-indicator--start');\n    this.$el.removeClass('show-indicator--end');\n\n    $endPickerContainer.removeClass('show');\n\n    (0, _jquery2.default)('body').addClass(this.options.datePickerOpenClass);\n    if (e) (0, _jquery2.default)(e.currentTarget).blur();\n\n    if (this.options.startDate) {\n      var _ref = function () {\n        var today = _this2.getToday();\n        today.setDate(today.getDate() + _this2.options.maxDeparture);\n        return { month: today.getMonth(), year: today.getUTCFullYear() };\n      }(),\n          month = _ref.month,\n          year = _ref.year;\n\n      // If month in right pane has no selectable days, don't place selected month on the left\n\n\n      if (month === this.options.startDate.getMonth()) {\n        if (year !== this.options.startDate.getUTCFullYear()) {\n          this.options.startPicker.gotoMonth(this.options.startDate.getMonth());\n        }\n      } else {\n        this.options.startPicker.gotoMonth(this.options.startDate.getMonth());\n      }\n\n      this.options.startPicker.gotoYear(this.options.startDate.getFullYear());\n    }\n  };\n\n  DatePicker.prototype.setStartPickerActive = function setStartPickerActive() {\n    if (!this.startActive) {\n      this.$el.addClass('active--start');\n\n      this.startActive = true;\n    }\n  };\n\n  DatePicker.prototype.setEndPickerActive = function setEndPickerActive() {\n    if (!this.endActive) {\n      this.$el.addClass('active--end');\n\n      this.endActive = true;\n    }\n  };\n\n  DatePicker.prototype.bindHideClick = function bindHideClick() {\n    var _this3 = this;\n\n    (0, _jquery2.default)(document).on('mouseup', function (e) {\n      _this3.respondToDocumentClick(e, _this3);\n    });\n  };\n\n  DatePicker.prototype.unbindHideClick = function unbindHideClick() {\n    (0, _jquery2.default)(document).off('mouseup');\n  };\n\n  DatePicker.prototype.openEndPicker = function openEndPicker(e) {\n    var _options6 = this.options,\n        $startPickerContainer = _options6.$startPickerContainer,\n        $endPickerContainer = _options6.$endPickerContainer;\n\n    this.setEndPickerActive();\n    this.removeDisabled();\n    this.bindHideClick();\n    this.$el.addClass('show-indicator--end');\n    this.$el.removeClass('show-indicator--start');\n    $endPickerContainer.addClass('show');\n    $startPickerContainer.removeClass('show');\n\n    (0, _jquery2.default)('body').addClass(this.options.datePickerOpenClass);\n    if (e) (0, _jquery2.default)(e.currentTarget).blur();\n\n    if (this.options.startDate) {\n      var monthOffset = 0;\n      var month = this.options.startDate.getMonth() + monthOffset;\n      var year = this.options.startDate.getFullYear();\n\n      // On mobile and tablet viewports, the startPicker will only have one calendar\n      // On desktop viewports, the startPicker will have 2 calendars\n      if (this.options.startPicker.calendars.length > 1) {\n        // This means that start date is was clicked in the right side.\n        monthOffset = this.options.startDate.getMonth() === this.options.startPicker.calendars[1].month ? -1 : 0;\n      }\n\n      if (this.options.endDate) {\n        if (this.options.startDate.getMonth() !== this.options.endDate.getMonth()) {\n          month = this.options.endDate.getMonth() + monthOffset - 1 < 0 ? 11 : this.options.endDate.getMonth() - 1;\n          year = month === 11 ? this.options.endDate.getFullYear() - 1 : this.options.endDate.getFullYear();\n        }\n        // else {\n        //   month = ((this.options.endDate.getMonth() + monthOffset) < 0) ? 11 : (this.options.endDate.getMonth() + monthOffset)\n        //   year = (month === 11) ? (this.options.endDate.getFullYear() - 1) : this.options.endDate.getFullYear()\n        // }\n      } else if (monthOffset < 0) {\n        month = month < 0 ? 11 : this.options.startDate.getMonth() - 1;\n        year = month < 0 ? this.options.startDate.getFullYear() - 1 : this.options.startDate.getFullYear();\n      }\n\n      this.options.endPicker.gotoMonth(month);\n      this.options.endPicker.gotoYear(year);\n    }\n  };\n\n  DatePicker.prototype.closeAllPickers = function closeAllPickers() {\n    var _options7 = this.options,\n        $startPickerContainer = _options7.$startPickerContainer,\n        $endPickerContainer = _options7.$endPickerContainer,\n        isDeparting = _options7.isDeparting;\n\n\n    this.unbindHideClick();\n    $startPickerContainer.removeClass('show');\n    $startPickerContainer.attr('style', '');\n    this.$el.removeClass('show-indicator--start show-indicator--end');\n    if (!this.options.startDate) {\n      this.startActive = false;\n      this.$el.removeClass('active--start');\n    }\n    if (!this.options.endDate) {\n      this.endActive = false;\n      this.$el.removeClass('active--end');\n    }\n\n    var startEl = this.$el.find('.start-picker');\n    var endEl = this.$el.find('.end-picker');\n\n    if (startEl.val().length === 0) {\n      startEl.val(this.defaultStartValue);\n    }\n\n    if (endEl.length && endEl.val().length === 0) {\n      if (!this.oneWayCheckboxSelected) {\n        endEl.val(this.defaultEndValue);\n      }\n    }\n\n    if (!isDeparting) {\n      $endPickerContainer.removeClass('show');\n    }\n\n    this.active = false;\n\n    (0, _jquery2.default)('body').removeClass(this.options.datePickerOpenClass);\n  };\n\n  DatePicker.prototype.respondToDocumentClick = function respondToDocumentClick(e, picker) {\n    if (!picker.$el.is(e.target) && picker.$el.has(e.target).length === 0) {\n      picker.closeAllPickers();\n    }\n  };\n\n  DatePicker.prototype.createSinglePicker = function createSinglePicker() {\n    var _this4 = this;\n\n    var _options8 = this.options,\n        $startPicker = _options8.$startPicker,\n        $startPickerContainer = _options8.$startPickerContainer,\n        disallowedDays = _options8.disallowedDays,\n        pickerBound = _options8.pickerBound;\n\n    var options = this.options;\n\n    var i18n = {\n      previousMonth: this.options.previousMonth,\n      nextMonth: this.options.nextMonth,\n      months: this.getArrayFromAttr('months'),\n      weekdays: this.getArrayFromAttr('days'),\n      weekdaysShort: this.getArrayFromAttr('daysShort')\n    };\n\n    var addLocal = true;\n    for (var i in i18n) {\n      if (i18n[i].length === 0) {\n        addLocal = false;\n        break;\n      }\n    }\n\n    var config = {\n      format: 'DD MMM YY',\n      field: $startPicker[0],\n      numberOfMonths: 1,\n      today: this.getToday(),\n      defaultDate: this.getToday(),\n      setDefaultDate: !pickerBound,\n      minDate: this.getMinDate(),\n      maxDate: this.getMaxDate('start'),\n      isRTL: false,\n      bound: false,\n      firstDay: isNaN(parseInt(this.options.firstDay)) ? 0 : this.options.firstDay,\n      disableDayFn: function disableDayFn(date) {\n        var validator = void 0;\n\n        (0, _each2.default)(disallowedDays, function (day) {\n          validator = date.getTime() === day.getTime();\n        });\n\n        return validator;\n      },\n      onSelect: function onSelect(date) {\n        _this4.options.selectionMade = true;\n        _this4.removeInitial();\n        _this4.closeDoublePicker($startPickerContainer, true);\n      },\n      container: $startPickerContainer[0]\n    };\n\n    if (addLocal) config.i18n = i18n;\n\n    options.picker = new _ekPikaday2.default(config);\n  };\n\n  DatePicker.prototype.createStartPicker = function createStartPicker(numberOfMonths) {\n    var _this5 = this;\n\n    var _options9 = this.options,\n        $startPicker = _options9.$startPicker,\n        $startPickerContainer = _options9.$startPickerContainer,\n        disallowedDays = _options9.disallowedDays,\n        pickerBound = _options9.pickerBound;\n\n\n    var i18n = {\n      previousMonth: this.options.previousMonth,\n      nextMonth: this.options.nextMonth,\n      months: this.getArrayFromAttr('months'),\n      weekdays: this.getArrayFromAttr('days'),\n      weekdaysShort: this.getArrayFromAttr('daysShort')\n    };\n\n    var addLocal = true;\n    for (var i in i18n) {\n      if (i18n[i].length === 0) {\n        addLocal = false;\n        break;\n      }\n    }\n\n    var config = {\n      format: 'DD MMM YY',\n      field: $startPicker[0],\n      numberOfMonths: numberOfMonths,\n      today: this.getToday(),\n      defaultDate: this.getToday(),\n      //TODO: Refactor this functionality (which depends on business logic in pickerBound which is not clear)\n      // setDefaultDate: !pickerBound,\n      setDefaultDate: false,\n      minDate: this.getMinDate(),\n      maxDate: this.getMaxDate('start'),\n      isRTL: false,\n      bound: false,\n      firstDay: isNaN(parseInt(this.options.firstDay)) ? 0 : this.options.firstDay,\n      disableDayFn: function disableDayFn(date) {\n        var validator = void 0;\n\n        (0, _each2.default)(disallowedDays, function (day) {\n          validator = date.getTime() === day.getTime();\n        });\n\n        return validator;\n      },\n      onSelect: function onSelect(date) {\n        _this5.options.selectionMade = true;\n        _this5.removeInitial();\n        var startDate = date;\n        _this5.updateStartDate(startDate);\n        _this5.closeDoublePicker($startPickerContainer, true);\n        if (!_this5.oneWayCheckboxSelected && _this5.options.hasReturn) _this5.openEndPicker();\n      },\n      container: $startPickerContainer[0]\n    };\n\n    if (addLocal) config.i18n = i18n;\n\n    return new _ekPikaday2.default(config);\n  };\n\n  DatePicker.prototype.createEndPicker = function createEndPicker(numberOfMonths) {\n    var _this6 = this;\n\n    var _options10 = this.options,\n        $endPicker = _options10.$endPicker,\n        $endPickerContainer = _options10.$endPickerContainer,\n        disallowedDays = _options10.disallowedDays;\n\n\n    var i18n = {\n      previousMonth: this.options.previousMonth,\n      nextMonth: this.options.nextMonth,\n      months: this.getArrayFromAttr('months'),\n      weekdays: this.getArrayFromAttr('days'),\n      weekdaysShort: this.getArrayFromAttr('daysShort')\n    };\n\n    var addLocal = true;\n    for (var i in i18n) {\n      if (i18n[i].length === 0) {\n        addLocal = false;\n        break;\n      }\n    }\n\n    var config = {\n      format: 'DD MMM YY',\n      field: $endPicker[0],\n      numberOfMonths: numberOfMonths,\n      today: this.getToday(),\n      minDate: this.getMinDate(),\n      maxDate: this.getMaxDate('end'),\n      isRTL: false,\n      bound: false,\n      firstDay: isNaN(parseInt(this.options.firstDay)) ? 0 : this.options.firstDay,\n      disableDayFn: function disableDayFn(date) {\n        var validator = void 0;\n\n        (0, _each2.default)(disallowedDays, function (day) {\n          validator = date.getTime() === day.getTime();\n        });\n\n        return validator;\n      },\n      onSelect: function onSelect(date) {\n        _this6.options.selectionMade = true;\n        _this6.removeInitial();\n        var endDate = date;\n        _this6.updateEndDate(endDate);\n        _this6.closeDoublePicker($endPickerContainer, true);\n      },\n      container: $endPickerContainer[0]\n    };\n\n    if (addLocal) config.i18n = i18n;\n\n    return new _ekPikaday2.default(config);\n  };\n\n  DatePicker.prototype.oneWayCheckbox = function oneWayCheckbox(e) {\n    var checked = e.target.checked;\n\n\n    this.$oneWayCheckboxes.toArray().forEach(function (checkbox) {\n      checkbox.checked = checked;\n    });\n\n    this.oneWayCheckboxSelected = checked;\n\n    if (checked) {\n      this.oneWaySelected();\n    } else {\n      this.oneWayDeselected();\n    }\n\n    if (checked && this.options.$endPickerContainer.hasClass('show')) {\n      this.closeAllPickers();\n    }\n  };\n\n  DatePicker.prototype.flexibleDateCheckbox = function flexibleDateCheckbox(e) {\n    this.$flexibleDateCheckboxes.toArray().forEach(function (checkbox) {\n      checkbox.checked = e.target.checked;\n    });\n  };\n\n  DatePicker.prototype.oneWaySelected = function oneWaySelected() {\n    this.$el.addClass('one-way--active');\n    this.endActive = false;\n    this.$el.removeClass('active--end');\n    this.disabled = true;\n    this.options.endPicker.setEndRange(undefined);\n    this.options.endPicker.setDate(undefined);\n    this.options.endDate = undefined;\n    this.options.startPicker.setEndRange(undefined);\n    this.options.startPicker.setMaxDate(this.getMaxDate('start'));\n  };\n\n  DatePicker.prototype.oneWayDeselected = function oneWayDeselected() {\n    this.$el.removeClass('one-way--active');\n    this.disabled = false;\n  };\n\n  DatePicker.prototype.removeDisabled = function removeDisabled() {\n    if (this.disabled) {\n      this.options.$endPicker.val('');\n      this.$el.removeClass('one-way--active');\n      this.options.$oneWayCheckbox.prop('checked', false);\n      this.disabled = false;\n    }\n  };\n\n  DatePicker.prototype.getMinDate = function getMinDate() {\n    var minDate = this.getToday();\n    minDate.setDate(minDate.getDate() - 1);\n\n    return minDate;\n  };\n\n  DatePicker.prototype.getMaxDate = function getMaxDate(type) {\n    var definedMaxDate = null;\n    if (type === 'start') definedMaxDate = this.options.maxDeparture;\n    if (type === 'end') definedMaxDate = this.options.maxReturn;\n    if (!definedMaxDate) definedMaxDate = 329;\n    var date = new Date();\n    date.setDate(date.getDate() + definedMaxDate);\n    return date;\n  };\n\n  DatePicker.prototype.getToday = function getToday() {\n    if (!this.options.today) {\n      var now = new Date();\n      var date = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours() + this.options.offset, now.getUTCMinutes(), now.getUTCSeconds());\n\n      this.options.today = date;\n    }\n\n    return new Date(this.options.today.getTime());\n  };\n\n  DatePicker.prototype.getArrayFromAttr = function getArrayFromAttr(attr) {\n    var array = this.options[attr].split(',');\n    array = array.map(function (item) {\n      return item.trim();\n    });\n\n    return array;\n  };\n\n  DatePicker.prototype.recentSearchSelection = function recentSearchSelection(event, _ref2) {\n    var item = _ref2.item;\n\n    if (item.depart_date && item.depart_date !== 'Invalid Date') {\n      this.options.startPicker.setDate(item.depart_date);\n      this.setStartPickerActive();\n    }\n    if (item.return_date && item.return_date !== 'Invalid Date') {\n      this.options.endPicker.setDate(item.return_date);\n      this.setEndPickerActive();\n    } else {\n      this.$oneWayCheckboxes.prop('checked', true);\n      this.oneWaySelected();\n      if (this.options.$endPickerContainer.hasClass('show')) {\n        this.closeAllPickers();\n      }\n    }\n\n    if (item.flexible_dates > 0) {\n      this.$flexibleDateCheckboxes.prop('checked', true);\n    }\n  };\n\n  return DatePicker;\n}(_component2.default);\n\nDatePicker.selector = '.date-picker';\nDatePicker.events = {\n  'breakpoint.mobile': 'layoutMobilePicker',\n  'breakpoint.medium': 'layoutMediumPicker',\n  'click .start-picker': 'openStartPicker',\n  'click .end-picker': 'openEndPicker',\n  'focus .start-picker': 'openStartPicker',\n  'focus .end-picker': 'openEndPicker',\n  'click .js-one-way': 'oneWayCheckbox',\n  'click .js-close-pickers': 'closeAllPickers',\n  'click .js-flexible-dates': 'flexibleDateCheckbox',\n  'mouseenter td': 'handleMouseEnter',\n  'mouseleave td': 'handleMouseLeave',\n  'recent.search.selection': 'recentSearchSelection',\n  'destination.new.selection': 'openStartPicker'\n};\nexports.default = DatePicker;\n\n//# sourceURL=webpack:///./src/components/date-picker/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/date-picker/date-picker.scss?")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(391);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _utils = __webpack_require__(5);\n\nvar _analytics = __webpack_require__(13);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global location */\n\n\nvar min = Math.min,\n    max = Math.max;\n\n\nvar searchFlightClass = 'automation-widget-tab-search-flight__widget-heading__text';\n\n/**\n * Class representing Widget component.\n * \n * @extends Component\n */\n\nvar Widget = function (_Component) {\n  _inherits(Widget, _Component);\n\n  Widget.prototype.redirectToUrl = function redirectToUrl() {\n    var url = (0, _get2.default)(__EK__, 'resources.BookManage/search-flight/form-endpoint__url.url', '');\n    // this redirect is temporarily solution\n    window.location.href = url;\n  };\n\n  function Widget(el, $el) {\n    _classCallCheck(this, Widget);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      tabClass: 'js-widget-tab',\n      panelClass: 'js-widget-panel',\n      activeClass: 'panel-active',\n      widgetOpenClass: 'widget-open',\n      widgetCloseAnimClass: 'widget__close--animation-expand',\n      widgetTabWrapperClearBGClass: 'widget__tab-wrapper--clearbg',\n      widgetTabWrapperClass: 'widget__tab-wrapper',\n      widgetTabListClass: 'widget__tab-list',\n      widgetHeadingAnimationClass: 'widget__heading--animation-expand',\n      animationExpandClass: 'widget__tab--animation-expand',\n      widgetTabAnimationClass: 'widget__tab-list--animation-expand'\n    };\n\n    _this.$el = _this.$el || $el;\n    _this.$window = window;\n    _this.$tabs = _this.$el.find((0, _component.toSel)(_this.options.tabClass));\n    _this.$panels = _this.$el.find((0, _component.toSel)(_this.options.panelClass));\n\n    _this.$activeTab = _this.$tabs.filter((0, _component.toSel)(_this.options.activeClass));\n    _this.$activePanel = _this.$panels.filter((0, _component.toSel)(_this.options.activeClass));\n\n    _this.$widgetTabWrapper = _this.$el.find((0, _component.toSel)(_this.options.widgetTabWrapperClass));\n    _this.$widgetTabList = _this.$el.find((0, _component.toSel)(_this.options.widgetTabListClass));\n\n    _this.$brandLogo = (0, _jquery2.default)('.brand-logo');\n    _this.brandLogoInitialZIndex = null;\n\n    _this.scrollPosition = 0;\n    _this.widgetTop = null;\n    _this.widgetTopMargin = 10;\n\n    if (location.hash && location.hash.length > 0) {\n      var index = location.hash.split('').pop();\n      if (index) {\n        if (!(index == 0 && (0, _utils.getBrowserWidth)() <= (0, _utils.getBreakpoint)('medium'))) {\n          _this.setActive(index);\n        }\n      }\n    }\n    return _this;\n  }\n\n  /**\n   * Prevents browser default action.\n   * \n   * @param {Event} e\n   */\n\n\n  Widget.prototype.preventDefault = function preventDefault(e) {\n    e.preventDefault();\n  };\n\n  /**\n   * Updates DOM to switch active tab.\n   * \n   * @param {Event} e \n   */\n\n\n  Widget.prototype.handleTabSelect = function handleTabSelect(e) {\n    var clickedTabIndex = void 0;\n\n    if (e.type === 'keydown') {\n      if (e.originalEvent.key === 'Enter' || e.keyCode === 13) {\n        clickedTabIndex = this.$tabs.index(e.currentTarget);\n      } else if (e.originalEvent.key === 'ArrowRight' || e.keyCode === 39) {\n        var $target = (0, _jquery2.default)(e.currentTarget).next();\n        clickedTabIndex = min(this.$tabs.length - 1, this.$tabs.index($target));\n        $target.focus();\n      } else if (e.originalEvent.key === 'ArrowLeft' || e.keyCode === 37) {\n        var _$target = (0, _jquery2.default)(e.currentTarget).prev();\n        clickedTabIndex = max(0, this.$tabs.index(_$target));\n        _$target.focus();\n      } else {\n        return;\n      }\n    } else if (e.type === 'click') {\n      clickedTabIndex = this.$tabs.index(e.currentTarget);\n    }\n\n    if (clickedTabIndex === 0) {\n      var isTouchTab = (0, _utils.getBrowserWidth)() <= (0, _utils.getBreakpoint)('medium');\n      if (isTouchTab) {\n        this.redirectToUrl();\n      } else {\n        this.setActive(clickedTabIndex);\n      }\n    } else {\n      if (this.isMobileDevice()) {\n        this.animationStart(clickedTabIndex);\n      } else {\n        this.setActive(clickedTabIndex);\n      }\n    }\n  };\n\n  /**\n   * Gets absolute top position of the widget tab list.\n   * \n   * @return {number}\n   */\n\n\n  Widget.prototype.calculateWidgetTop = function calculateWidgetTop() {\n    var listPostion = this.$widgetTabList.offset();\n    return listPostion.top;\n  };\n\n  /**\n   * Animates widget transition when opening tab.\n   * \n   * @param {number} index\n   */\n\n\n  Widget.prototype.animationStart = function animationStart(index) {\n    this.widgetTop = this.calculateWidgetTop();\n    var topPx = '-' + this.widgetTop + 'px';\n\n    this.brandLogoInitialZIndex = this.$brandLogo.css('z-index');\n    this.$brandLogo.css('z-index', 1);\n\n    this.$activeTab = this.$tabs.eq(index);\n    this.$tabs.not(this.$activeTab).hide();\n    this.$activeTab.addClass(this.options.animationExpandClass);\n    this.setActive(index);\n  };\n\n  /**\n   * Injects DOM content of active tab into panel placeholder.\n   */\n\n\n  Widget.prototype.addActiveTabToPanel = function addActiveTabToPanel() {\n    var $clonedList = this.$widgetTabList.clone(true).off();\n    var $widgetContent = this.$activePanel.find('.widget__content');\n\n    (0, _jquery2.default)('.js-close-tab').addClass(this.options.widgetCloseAnimClass);\n    (0, _jquery2.default)('.widget__heading').addClass(this.options.widgetHeadingAnimationClass);\n\n    $clonedList.css(this.setCSSTransform());\n\n    $widgetContent.prepend($clonedList);\n  };\n\n  /**\n   * Removes DOM content from panel placeholder.\n   */\n\n\n  Widget.prototype.removeActiveTabFromPanel = function removeActiveTabFromPanel() {\n    (0, _jquery2.default)('.js-close-tab').removeClass(this.options.widgetCloseAnimClass);\n    (0, _jquery2.default)('.widget__heading').removeClass(this.options.widgetHeadingAnimationClass);\n    this.$activePanel.find('.widget__tab-list').remove();\n  };\n\n  /**\n   * Animates widget transition when closing tab.\n   * \n   * @param {number} index \n   */\n\n\n  Widget.prototype.animationEnd = function animationEnd(index) {\n    this.$activeTab.removeClass(this.options.animationExpandClass);\n    this.$tabs.show();\n    this.$el.height('auto');\n    this.$brandLogo.css('z-index', this.brandLogoInitialZIndex);\n  };\n\n  /**\n   * Handles tab switch to indicate which tab is active.\n   * \n   * @param {*} index \n   */\n\n\n  Widget.prototype.setActive = function setActive(index) {\n    // remove active state from currently active tab and panel.\n    this.$activeTab.add(this.$activePanel).removeClass(this.options.activeClass);\n    this.$activeTab.attr('aria-selected', false);\n    this.$activePanel.attr('aria-hidden', true);\n\n    // update active tab and panel\n    this.$activeTab = this.$tabs.eq(index);\n    this.$activePanel = this.$panels.eq(index);\n\n    // add active state to new tab and panel.\n    this.$activeTab.add(this.$activePanel).addClass(this.options.activeClass);\n    this.$activeTab.attr('aria-selected', true);\n    this.$activePanel.attr('aria-hidden', false);\n\n    this.$activeTab.attr('tabindex', 0);\n    this.$tabs.not(this.$activeTab).attr('tabindex', -1);\n\n    if (this.isMobileDevice()) {\n      this.addActiveTabToPanel();\n    }\n\n    (0, _utils.lockBody)(true);\n    (0, _jquery2.default)('body').addClass(this.options.widgetOpenClass);\n\n    //dont open widget for search flights widgets when tab\n    if (!this.isMobileDevice() && this.$activeTab[0].className.indexOf(searchFlightClass) !== -1) {\n      (0, _jquery2.default)('body').removeClass(this.options.widgetOpenClass);\n    }\n  };\n\n  /**\n   * Gets generated styles for CSS transform including browser compatibility.\n   * \n   * @param {number} x \n   * @param {number} y \n   * @param {number} z \n   * @return {object}\n   */\n\n\n  Widget.prototype.setCSSTransform = function setCSSTransform() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    return {\n      '-webkit-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',\n      '-moz-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',\n      '-ms-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',\n      '-o-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',\n      'transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')'\n    };\n  };\n\n  /**\n   * Handles closing active widget (triggers related operations).\n   */\n\n\n  Widget.prototype.closeWidget = function closeWidget() {\n    (0, _jquery2.default)('body').removeClass(this.options.widgetOpenClass);\n    (0, _utils.lockBody)(false);\n\n    this.removeActiveTabFromPanel();\n    this.animationEnd();\n  };\n\n  /**\n   * This is a custom mobile device check - only for this module.\n   */\n\n\n  Widget.prototype.isMobileDevice = function isMobileDevice() {\n    return (0, _jquery2.default)('body').hasClass('is--touch-device') && matchMedia('(max-width: 767px)').matches; // eslint-disable-line\n  };\n\n  /**\n   * Triggers action for scrolling the page to widget section.\n   * \n   * @param {Event} e \n   */\n\n\n  Widget.prototype.scrollToWidget = function scrollToWidget(e) {\n    if ((0, _utils.getBrowserWidth)() > (0, _utils.getBreakpoint)('medium')) {\n      var scrollToY = this.$el.offset().top - this.widgetTopMargin;\n      var scrollDuration = 500;\n      (0, _utils.animatedScrollTo)(scrollToY, scrollDuration);\n    }\n  };\n\n  /**\n   * Triggers action to log analytics details.\n   * \n   * @param {Event} e \n   */\n\n\n  Widget.prototype.trackWidgetTabClick = function trackWidgetTabClick(e) {\n    var trackValue = void 0;\n    switch (e.currentTarget.getAttribute('data-galabel')) {\n      case 'search-flight__widget-heading__text':\n        trackValue = 'Search flights';\n        break;\n      case 'my-trips__widget-heading__text':\n        trackValue = 'Check in';\n        break;\n      case 'womf__widget-heading__text':\n        trackValue = 'What\\'s on your flights';\n        break;\n      case 'flight-status__widget-heading__text':\n        trackValue = 'Check flight status';\n        break;\n      default:\n        trackValue = 'Unknown Widget';\n    }\n    var eventData = {\n      event: 'EventTrigger.Common_pageBodyWidget_TabClick',\n      category: 'Page Body Interaction',\n      action: 'Tab Clicked',\n      label: trackValue\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  return Widget;\n}(_component2.default);\n\nWidget.selector = '.js-widget';\nWidget.events = {\n  'click .js-widget-tab': 'handleTabSelect',\n  'keydown .js-widget-tab': 'handleTabSelect',\n  'click .js-close-tab': 'closeWidget',\n  'breakpoint.medium': 'closeWidget',\n  'click .js-origin-dropdown': 'scrollToWidget',\n  'click .destination-dropdown': 'scrollToWidget',\n  'click .search-flight__datepicker .textfield__date': 'scrollToWidget',\n  'click .search-flight__passengers': 'scrollToWidget',\n  'click .search-flight__class': 'scrollToWidget',\n  'click .js-my-trip-last-name': 'scrollToWidget',\n  'click .js-my-trip-ref-id': 'scrollToWidget',\n  'click .js-activate-flight-route': 'scrollToWidget',\n  'click .js-activate-flight-number': 'scrollToWidget',\n  'click .js-flight-number-status': 'scrollToWidget',\n  'click .womf__date .textfield__date': 'scrollToWidget',\n  'click .js-select-flight-departure': 'scrollToWidget',\n  'click .js-select-flight-arrival': 'scrollToWidget',\n  'click .route-departure-date-drop': 'scrollToWidget',\n  'click .widget__tab': 'trackWidgetTabClick',\n  'click .js-widget-tab-link': 'preventDefault'\n};\nexports.default = Widget;\n\n//# sourceURL=webpack:///./src/components/service-widgets/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/service-widgets/service-widgets.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(393);\n\n//# sourceURL=webpack:///./src/components/origin-destination-dropdowns/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/origin-destination-dropdowns/origin-destination-dropdowns.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(395);\n\n__webpack_require__(396);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _fuse = __webpack_require__(93);\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _cloneDeep = __webpack_require__(94);\n\nvar _cloneDeep2 = _interopRequireDefault(_cloneDeep);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _jsCookie = __webpack_require__(99);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nvar _navUtils = __webpack_require__(38);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar textAllCountries = (0, _get2.default)(window, '__EK__.resources.Navigation/Header/Language-selector/all-countries__text', '');\nvar textNoCountries = (0, _get2.default)(window, '__EK__.resources.Navigation/Header/Language-selector/no-countries__text', '');\n\n/**\n * Class representing Language Selector component.\n *\n * @extends Component\n */\n\nvar LanguageSelector = function (_Component) {\n  _inherits(LanguageSelector, _Component);\n\n  function LanguageSelector(el, $el) {\n    _classCallCheck(this, LanguageSelector);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = _this.readAttributes();\n    _this.input = _this.$el.find('input');\n    _this.currentLanguageItem = _this.$el.find('.language-list').first();\n    _this.languageItems = _this.$el.find('.language-list').last();\n    _this.clonedItems = _this.languageItems.find('> li').clone();\n    return _this;\n  }\n\n  /**\n   * Returns DOM element attributes.\n   *\n   * @return {object} List of DOM element attributes\n   */\n\n\n  LanguageSelector.prototype.readAttributes = function readAttributes() {\n    var updatedOptions = (0, _assign2.default)({}, this.$el.data());\n    updatedOptions.dataSet = updatedOptions.dataSet ? window.__EK__[updatedOptions.dataSet] : false;\n    return updatedOptions;\n  };\n\n  /**\n   * Handles key press on input for language selection.\n   * Triggers languages filter or reset.\n   *\n   * @param {Event} e Keyboard event\n   */\n\n\n  LanguageSelector.prototype.handleKeyDown = function handleKeyDown(e) {\n    var term = e.currentTarget.value;\n    if (term.length > 0) {\n      this.filter(term);\n    } else {\n      this.reset();\n    }\n  };\n\n  /**\n   * Filters language for provided value.\n   * Updates DOM list of languages.\n   *\n   * @param {string} term Value to filter\n   */\n\n\n  LanguageSelector.prototype.filter = function filter(term) {\n    var _this2 = this;\n\n    var originSearch = new _fuse2.default((0, _cloneDeep2.default)(this.options.dataSet), _navUtils.fuseOptions);\n    var result = originSearch.search(term);\n    this.languageItems.empty();\n    this.$el.find('.js-all-countries').html(textAllCountries);\n    if (result.length > 0) {\n      result.forEach(function (_ref) {\n        var item = _ref.item;\n\n        _this2.clonedItems.each(function (i, el) {\n          if (el.getAttribute('data-ref') === item.code) {\n            _this2.languageItems.append(el);\n          }\n        });\n      });\n    } else {\n      this.clonedItems.each(function (i, el) {\n        if (el.getAttribute('data-ref') === 'GLOBAL') {\n          _this2.languageItems.append(el);\n          _this2.$el.find('.js-all-countries').html(textNoCountries);\n        }\n      });\n    }\n  };\n\n  /**\n   * Resets language list.\n   */\n\n\n  LanguageSelector.prototype.reset = function reset() {\n    var _this3 = this;\n\n    this.clonedItems.each(function (i, el) {\n      _this3.languageItems.append(el);\n    });\n  };\n\n  /**\n   * Triggers reset action.\n   *\n   * @param {Event} e Custom event\n   * @param {object} data Data\n   */\n\n\n  LanguageSelector.prototype.handleFieldCleared = function handleFieldCleared(e, data) {\n    if (data.name === 'language-selector') this.reset();\n  };\n\n  return LanguageSelector;\n}(_component2.default);\n\nLanguageSelector.selector = '.language-selector';\nLanguageSelector.events = {\n  'keyup input': 'handleKeyDown',\n  'input.cleared': 'handleFieldCleared'\n};\nexports.default = LanguageSelector;\n\n//# sourceURL=webpack:///./src/components/language-selector/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/language-selector/language-selector.scss?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/language-selector/language-list.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(398);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _lodash = __webpack_require__(140);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _fuse = __webpack_require__(93);\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nvar _navUtils = __webpack_require__(38);\n\nvar _analytics = __webpack_require__(13);\n\nvar _startsWith = __webpack_require__(136);\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NewLanguageSelector = function (_Component) {\n  _inherits(NewLanguageSelector, _Component);\n\n  function NewLanguageSelector(el, $el) {\n    _classCallCheck(this, NewLanguageSelector);\n\n    var _this2 = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this2.registerElements();\n    _this2.name = 'NewLanguageSelector';\n    _this2.publishUrl = (0, _jquery2.default)('meta[name=PublishURL]').attr(\"content\");\n    _this2.currentContext = (0, _lodash.get)(__EK__, 'currentContext', '');\n    _this2.publications = (0, _lodash.get)(__EK__, 'publications', []);\n    _this2.clonedItems = _this2.$languageListItems.find('> li').clone();\n    _this2.selectedCountry = {};\n    _this2.selectedLanguage = {};\n    _this2.hasResult = true;\n    _this2.collapse = _this2.collapse.bind(_this2);\n    _this2.collapseOnEscape = _this2.collapseOnEscape.bind(_this2);\n    _this2.handleDocumentClick = _this2.handleDocumentClick.bind(_this2);\n\n    _this2.getSelections();\n    _this2.initializeCustomScrollbar();\n    _this2.scrollBarThumbHeight();\n    (0, _navUtils.registerPopup)('NewLanguageSelector', _this2);\n    return _this2;\n  }\n\n  // Register DOM elements\n\n\n  NewLanguageSelector.prototype.registerElements = function registerElements() {\n    this.$window = (0, _jquery2.default)(window);\n    this.$body = (0, _jquery2.default)('body');\n    this.$navRoot = (0, _jquery2.default)('.js-ek-global-navigation');\n    this.$el = (0, _jquery2.default)('.js-website-selector-wrapper');\n    this.$websiteSelectorMenu = (0, _jquery2.default)('.js-website-selector');\n    this.$handleBtn = (0, _jquery2.default)('.country-selector-list-item-link');\n    this.$searchSelectorInput = (0, _jquery2.default)('.search-selector-list-item-link');\n    this.$searchInput = this.$el.find('#search-country-input');\n    this.$searchInputLabel = this.$el.find('#field-label');\n    this.$countryList = (0, _jquery2.default)('#js-language-list-items');\n    this.$countryNavIcon = (0, _jquery2.default)('#close-country-popup');\n    this.$loginPopup = (0, _jquery2.default)('.account-popup-link');\n    this.$loginPanel = (0, _jquery2.default)('.ek-account-popup');\n    this.$searchEl = (0, _jquery2.default)('.search-popup');\n    this.$inputClearBtn = this.$el.find('.search-field .field__clear');\n    this.$logo = (0, _jquery2.default)('.logo');\n    this.$languageListItems = (0, _jquery2.default)('#js-language-list-items');\n    this.$allCountries = (0, _jquery2.default)('.all-countries-seperator');\n    this.$noCountryFound = (0, _jquery2.default)('.js-global-seperator');\n\n    this.$scrollbar = (0, _jquery2.default)('.website-selector-wrapper .scroll--bar');\n    this.$countryListSection = (0, _jquery2.default)('.website-selector-wrapper .country-list-section');\n    this.$countryListSectionInner = (0, _jquery2.default)('.js-website-selector-wrapper .country-list-section--inner');\n  };\n\n  /**\n  * Update the custom scrollbar according to the element's scroll proportion.\n  */\n\n\n  NewLanguageSelector.prototype.scrollBarThumbHeight = function scrollBarThumbHeight() {\n    var list_height = this.$countryListSectionInner.height();\n    var scrollThumbHeight = list_height * (list_height / this.$languageListItems.height());\n    this.$scrollbar.css('height', scrollThumbHeight);\n  };\n\n  /**\n  * Sets custom scrollbar's initial position.\n  */\n\n\n  NewLanguageSelector.prototype.initializeCustomScrollbar = function initializeCustomScrollbar() {\n    if (window.innerWidth < _navUtils.mobileBreakpoint) return;\n    var _this = this;\n\n    /* event handler for customized scroll bar\n    */\n    _this.$countryListSectionInner.on('scroll', function () {\n      _this.$scrollbar.show();\n      var totalHeight = 0;\n\n      _this.$countryListSectionInner.children().each(function () {\n        totalHeight = totalHeight + (0, _jquery2.default)(this).outerHeight(true);\n      });\n\n      var scrollbarHeight = _this.$countryListSectionInner.height();\n      var scrollbarPosition = _this.$countryListSectionInner.scrollTop();\n      var scrollbarTileHeight = _this.$scrollbar.height();\n      var scrollTop = scrollbarPosition / ((totalHeight - scrollbarHeight) / (scrollbarHeight - scrollbarTileHeight));\n      _this.$scrollbar.css({ \"top\": scrollTop }).addClass('m-t-3');\n      _this.$countryListSection.addClass('container--visible');\n    });\n\n    _this.$countryListSection.on('mouseover', function () {\n      if (_this.hasResult) {\n        _this.$scrollbar.show();\n        _this.$countryListSection.addClass('container--visible');\n      }\n    });\n\n    _this.$countryListSection.on('mouseout', function () {\n      _this.$countryListSection.removeClass('container--visible');\n      _this.$scrollbar.hide();\n    });\n\n    /**\n    * event handler to drag the scroll bar up and down\n    */\n    var newTop = _this.$countryListSectionInner.scrollTop();\n    var moveY = 0;\n    var totalHeight = 0;\n\n    _this.$scrollbar.on('mousedown', function (e) {\n      e.preventDefault(); // prevent selection start (browser action)\n      newTop = _this.$countryListSectionInner.scrollTop();\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n\n      var ul = (0, _jquery2.default)('#js-website-selector__country-list > ul').height();\n      var li = (0, _jquery2.default)('#js-website-selector__country-list > ul li').height();\n\n      function onMouseMove(e) {\n        if (e.pageY > moveY) {\n          newTop = newTop + li;\n          _this.$countryListSectionInner.scrollTop(newTop + 10);\n        } else {\n          newTop = newTop - li;\n          _this.$countryListSectionInner.scrollTop(newTop - 10);\n        }\n\n        moveY = e.pageY;\n\n        // the pointer is out of slider => lock the thumb within the bounaries\n        if (newTop < 0) {\n          newTop = 0;\n        }\n\n        if (newTop >= ul - 200) {\n          var max_height = _this.$countryListSectionInner.css('max-height').split('px')[0];\n          var scrollThumbHeight = _this.$scrollbar.css('height').split('px')[0];\n          _this.$scrollbar.css({ \"top\": parseInt(max_height) - scrollThumbHeight });\n        } else {\n          _this.$scrollbar.css({ \"top\": newTop });\n        }\n      }\n\n      function onMouseUp() {\n        document.removeEventListener('mouseup', onMouseUp);\n        document.removeEventListener('mousemove', onMouseMove);\n      }\n    });\n\n    _this.$scrollbar.ondragstart = function () {\n      return false;\n    };\n  };\n\n  /**\n  * navbutton click event. Toggles the popup state\n  * @param {Event} e\n  */\n\n\n  NewLanguageSelector.prototype.handleNavbuttonClick = function handleNavbuttonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.$el.is(':visible') ? this.collapse() : this.expand(e);\n  };\n\n  /**\n  * Collapse the Mega menu active popup\n  * @param {Event?} e\n  */\n\n\n  NewLanguageSelector.prototype.collapseMegaMenu = function collapseMegaMenu(e) {\n    this.$navRoot.find('.megalinks-list-parent').removeClass('mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked');\n    this.$navRoot.find('.megalinks-list-parent').children('li').removeClass('active-menu');\n  };\n\n  /**\n  * Collapse the popup\n  * @param {Event} e\n  */\n\n\n  NewLanguageSelector.prototype.collapse = function collapse(e) {\n    // Adjust the handle button class and inner arrow.\n    // Handle button is the clickable button on the top global navigation bar.\n    this.$websiteSelectorMenu.removeClass('active-menu');\n    this.$handleBtn.removeClass('active').attr('aria-expanded', false);\n    this.$handleBtn.focus();\n    this.$handleBtn.find('.arrow-up').hide();\n\n    // Hide the element\n    this.$el.hide();\n    // Logo should go behind on the mobile devices and the popup should be full screen.\n    // So changing the z-index.\n    this.$logo.css({ zIndex: 50 });\n\n    // It's important to remove the escape key binding and document click event\n    // when collapsing the locale selector popup.\n    this.$body.off('keyup', this.collapseOnEscape).off('click', this.handleDocumentClick);\n\n    this.$noCountryFound.css('display', 'none');\n    this.$allCountries.css('display', 'block');\n    this.resetLanguageList();\n  };\n\n  /**\n  * Expand the popup\n  * @param {Event?} e\n  */\n\n\n  NewLanguageSelector.prototype.expand = function expand(e) {\n    var _this = this;\n    this.$handleBtn.addClass('active').attr('aria-expanded', true);\n    this.collapseMegaMenu();\n    this.$websiteSelectorMenu.addClass('active-menu');\n    setTimeout(function () {\n      _this.showPopup(e);\n      _this.$searchInput.focus();\n    }, 270);\n  };\n\n  /**\n  * Internal method to show the popup used by the expand function.\n  * @param {Event} e\n  */\n\n\n  NewLanguageSelector.prototype.showPopup = function showPopup(e) {\n    this.$countryList.removeClass('filter-on');\n    this.$searchSelectorInput.removeClass('active').attr('aria-expanded', false);\n    this.$handleBtn.find('.arrow-up').show();\n    this.$el.show();\n    this.$searchEl.hide();\n    this.$loginPopup.removeClass('active').attr('aria-expanded', false);\n    this.$loginPanel.hide();\n    this.$searchInput.val('');\n    this.$searchInput.closest('.ek-material-input').removeClass('active');\n    this.$searchInput.next('.ek-icon-clear').removeClass('is-visible');\n    this.$countryList.find('li').show();\n\n    this.$body.on('keyup', this.collapseOnEscape).on('click', this.handleDocumentClick);\n\n    // Collapse all other popups on the globalnav\n    (0, _navUtils.collapseAllPopupsExcept)(this.name);\n  };\n\n  NewLanguageSelector.prototype.activateLabel = function activateLabel(e) {\n    this.$searchInputLabel.addClass(\"website-selector__input-label--active\");\n  };\n\n  NewLanguageSelector.prototype.deActivateLabel = function deActivateLabel(e) {\n    if (this.$searchInput.val() === '') {\n      this.$searchInputLabel.removeClass(\"website-selector__input-label--active\");\n    }\n  };\n\n  NewLanguageSelector.prototype.collapseOnEscape = function collapseOnEscape(e) {\n    var keyCode = e.keyCode || e.which;\n    if (keyCode === _navUtils.eventKeyCode.ESC && this.collapse && typeof this.collapse === 'function') {\n      this.collapse();\n    }\n  };\n\n  /**\n  * Handles the document body click. The popup should be collapsed.\n  * @param {Event} e - The DOM event\n  */\n\n\n  NewLanguageSelector.prototype.handleDocumentClick = function handleDocumentClick(e) {\n    var $target = (0, _jquery2.default)(e.target);\n\n    if (!$target.hasClass('website-selector-wrapper') && $target.parents('.website-selector-wrapper').length === 0) {\n      this.collapse();\n    }\n  };\n\n  /**\n  * closebutton click event. Toggles the popup state\n  * @param {Event} e\n  */\n\n\n  NewLanguageSelector.prototype.handleCloseButtonClick = function handleCloseButtonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.collapse();\n  };\n\n  /**\n  * Event handler for menu button key down\n  * @param {Event} e\n  */\n\n\n  NewLanguageSelector.prototype.onHandleBtnKeyDown = function onHandleBtnKeyDown(e) {\n    var keyCode = e.keyCode || e.which;\n    var $target = (0, _jquery2.default)(e.target);\n    e.preventDefault();\n    e.stopPropagation();\n\n    switch (keyCode) {\n      case 37:\n        $target.parent('li').prev('li').find('a:first').focus();\n        break;\n      case 39:\n        $target.parent('li').next('li').children('a:first').focus();\n        break;\n      case 40:\n        this.expand();\n        break;\n      case 38:\n      case 27:\n        this.collapse();\n        break;\n      case 13:\n        this.resetLanguageList();\n        break;\n    }\n\n    return false;\n  };\n\n  NewLanguageSelector.prototype.getSelections = function getSelections() {\n    for (var _iterator = this.publications, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var publication = _ref;\n\n      if ((0, _startsWith2.default)(this.currentContext, publication.key)) {\n        this.selectedCountry = publication;\n\n        if (this.selectedCountry.languages && this.selectedCountry.languages.length) {\n          for (var _iterator2 = this.selectedCountry.languages, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n            var _ref2;\n\n            if (_isArray2) {\n              if (_i2 >= _iterator2.length) break;\n              _ref2 = _iterator2[_i2++];\n            } else {\n              _i2 = _iterator2.next();\n              if (_i2.done) break;\n              _ref2 = _i2.value;\n            }\n\n            var language = _ref2;\n\n            if (language.href === this.publishUrl) {\n              this.selectedLanguage = language;\n              break;\n            }\n          }\n        }\n\n        break;\n      }\n    }\n  };\n\n  /**\n  * Filters language for provided value.\n  * Updates DOM list of languages.\n  *\n  * @param {e} event Value to filter\n  */\n\n\n  NewLanguageSelector.prototype.filterLanguages = function filterLanguages(e) {\n    var searchTerm = e.target.value;\n    var globalSelector = [{ item: this.publications[this.publications.length - 1] }];\n\n    if (searchTerm.length) {\n      this.$inputClearBtn.addClass('field__clear--active');\n    } else {\n      this.$inputClearBtn.removeClass('field__clear--active');\n      return this.resetLanguageList();\n    }\n\n    var base = new _fuse2.default((0, _lodash.cloneDeep)(this.publications), _navUtils.fuseOptions);\n    var result = base.search(searchTerm);\n\n    this.$languageListItems.empty();\n    this.$noCountryFound.css('display', 'block');\n    this.$allCountries.css('display', 'none');\n\n    if (result.length > 0) {\n      this.hasResult = true;\n      var list_height = this.$languageListItems.height();\n      var max_height = this.$countryListSectionInner.height();\n      var scrollThumbHeight = list_height * (list_height / this.$languageListItems.height());\n      this.$scrollbar.css('height', scrollThumbHeight);\n      if (list_height <= max_height) {\n        this.$scrollbar.hide();\n        this.$countryListSection.removeClass('container--visible');\n      } else {\n        this.$scrollbar.show();\n      }\n      this.$countryListSection.addClass('container--visible');\n      this.renderResultList(result);\n      this.$noCountryFound.css('display', 'none');\n      this.$allCountries.css('display', 'block');\n    } else {\n      this.hasResult = false;\n      this.$scrollbar.hide();\n      this.$countryListSection.removeClass('container--visible');\n\n      this.renderResultList(globalSelector);\n    }\n\n    this.scrollBarThumbHeight();\n  };\n\n  /**\n   * Renders language list.\n   *\n   * @param {Array} result - filtered result\n   */\n\n\n  NewLanguageSelector.prototype.renderResultList = function renderResultList(result) {\n    var _this3 = this;\n\n    this.$countryList.addClass('filter-on');\n\n    result.forEach(function (_ref3) {\n      var item = _ref3.item;\n\n      _this3.clonedItems.each(function (i, el) {\n        if (el.getAttribute('data-ref') === item.code) {\n          _this3.$languageListItems.append(el);\n        }\n      });\n    });\n  };\n\n  /**\n   * Resets language list.\n   */\n\n\n  NewLanguageSelector.prototype.resetLanguageList = function resetLanguageList() {\n    var _this4 = this;\n\n    this.$countryList.removeClass('filter-on');\n\n    this.hasResult = true;\n    this.$scrollbar.removeAttr('style');\n\n    this.clonedItems.each(function (i, el) {\n      _this4.$languageListItems.append(el);\n    });\n  };\n\n  /**\n   * Resets language list.\n   */\n\n\n  NewLanguageSelector.prototype.clearSearch = function clearSearch() {\n    this.$searchInput.val('');\n    this.$noCountryFound.css('display', 'none');\n    this.$allCountries.css('display', 'block');\n    this.$inputClearBtn.removeClass('field__clear--active');\n    this.resetLanguageList();\n  };\n\n  NewLanguageSelector.prototype.handleLanguageClick = function handleLanguageClick(e) {\n    var $target = (0, _jquery2.default)(e.target);\n    var languageCode = $target.attr('data-language-code');\n    var searchTerm = (0, _jquery2.default)('#search-country-input').val();\n    var previousLanguage = this.selectedLanguage.code.toUpperCase().replace('-', ':');\n    var nextLanguage = $target.attr('data-language-code').toUpperCase().replace('-', ':');\n\n    (0, _analytics.pushEvent)({\n      event: 'EventTrigger.typedCountrySelection',\n      category: 'Change Country Selection',\n      action: 'Typed in Country',\n      label: 'Previous:' + previousLanguage + ':Selected:' + nextLanguage\n    });\n  };\n\n  return NewLanguageSelector;\n}(_component2.default);\n\nNewLanguageSelector.selector = '.js-website-selector';\nNewLanguageSelector.events = {\n  'click .js-country-selector-list-item-link': 'handleNavbuttonClick',\n  'touch .js-country-selector-list-item-link': 'handleNavbuttonClick',\n  'focus .js-website-selector-wrapper #search-country-input': 'activateLabel',\n  'blur .js-website-selector-wrapper #search-country-input': 'deActivateLabel',\n  'keyup .js-country-selector-list-item-link': 'onHandleBtnKeyDown',\n  'keyup .js-website-selector-wrapper #search-country-input': 'filterLanguages',\n  'mousedown .js-website-selector-wrapper .search-field .field__clear': 'clearSearch',\n  'keyup .js-website-selector-wrapper .search-field .field__clear': 'onHandleBtnKeyDown',\n  'new-language-selector.show': 'expand',\n  'click .website-selector-close-btn': 'handleCloseButtonClick',\n  'touch .website-selector-close-btn': 'handleCloseButtonClick',\n  'click .website-selector__country-language': 'handleLanguageClick',\n  'touch .website-selector__country-language': 'handleLanguageClick'\n};\nexports.default = NewLanguageSelector;\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/language-selector-v2/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/language-selector-v2/language-selector-v2.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(400);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _forEach = __webpack_require__(91);\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _analytics = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\nvar MIN_PASSENGERS = 1;\n\n/**\n * Class representing Search Flight Passengers component.\n * \n * @extends Component\n */\n\nvar SearchFlightPassengers = function (_Component) {\n  _inherits(SearchFlightPassengers, _Component);\n\n  function SearchFlightPassengers(el, $el) {\n    _classCallCheck(this, SearchFlightPassengers);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.passengerPluralInputLabel = __EK__.resources['BookManage/search-flight/placeholder-passengers-plural__text'];\n    _this.passengerSingularInputLabel = __EK__.resources['BookManage/search-flight/placeholder-passengers-singular__text'];\n    _this.adultAgeStandard = (0, _get2.default)(__EK__, 'resources.BookManage/search-flight/passenger-adult-detail__text', '');\n    _this.adultAgeAlternative = (0, _get2.default)(__EK__, 'resources.BookManage/search-flight/passenger-adult-alt-detail__text', '');\n\n    _this.$passengerInput = _this.$el.find('.js-passenger .field__input');\n    _this.$adults = _this.$el.find('[data-type=\"adults\"]');\n    _this.$adultsDetail = _this.$adults.find('.increment-field__detail');\n    _this.$OFW = _this.$el.find('[data-type=\"OFW\"]');\n    _this.$teenagers = _this.$el.find('[data-type=\"teenagers\"]');\n    _this.$children = _this.$el.find('[data-type=\"children\"]');\n    _this.$infants = _this.$el.find('[data-type=\"infants\"]');\n    _this.$teenagerContainer = _this.$el.find('.passenger-teenager-container');\n    _this.$OFWContainer = _this.$el.find('.passenger-OFW-container');\n\n    _this.controlSpecialPassengersInput();\n    return _this;\n  }\n\n  /**\n   * Initial setup.\n   * \n   * @param {object} state Data\n   */\n\n\n  SearchFlightPassengers.prototype.controlSpecialPassengersInput = function controlSpecialPassengersInput(state) {\n    var origin = (0, _get2.default)(state, 'origin');\n    var destination = (0, _get2.default)(state, 'destination');\n    var $oneWayCheckbox = (0, _jquery2.default)('.js-one-way');\n\n    if (state) {\n      var _state$seats = state.seats,\n          teenagers = _state$seats.teenagers,\n          adults = _state$seats.adults,\n          OFW = _state$seats.OFW;\n      var $teenagers = this.$teenagers,\n          $adults = this.$adults,\n          $OFW = this.$OFW;\n\n      var passengerOptions = [{\n        element: $teenagers,\n        seatsNumber: teenagers\n      }, {\n        element: $adults,\n        seatsNumber: adults\n      }, {\n        element: $OFW,\n        seatsNumber: OFW\n      }];\n      var isOneWay = $oneWayCheckbox.length > 0 ? $oneWayCheckbox[0].checked : false;\n      var requiresTeenageInput = origin && origin.isGBE === true || destination && destination.isGBE === true && !isOneWay;\n      var requiresOFWInput = origin && origin.isOFW === true || destination && destination.isOFW === true && !isOneWay;\n\n      if (requiresTeenageInput) {\n        this.showTeenagerPassengerOption(state);\n      } else {\n        this.hideTeenagerPassengerOption(state);\n      }\n\n      this.updateAdultAgeDetails(requiresTeenageInput);\n      this.publish('passengers.display', { isTeenageInput: requiresTeenageInput, isOFWInput: requiresOFWInput });\n\n      if (requiresOFWInput) {\n        this.showOFWPassengerOption(state);\n      } else {\n        this.hideOFWPassengerOption(state);\n      }\n\n      this.validatePassengersNumber(passengerOptions);\n    } else {\n      this.$adults.length > 0 && this.setMinimumAttribute(this.$adults[0], MIN_PASSENGERS);\n    }\n  };\n\n  /**\n   * Adjust adults age details when passenger options require teenager input.\n   */\n\n\n  SearchFlightPassengers.prototype.updateAdultAgeDetails = function updateAdultAgeDetails(requiresTeenageInput) {\n    var detailText = requiresTeenageInput ? this.adultAgeAlternative : this.adultAgeStandard;\n    this.$adultsDetail.text(detailText);\n  };\n\n  /**\n   * Show the Teenager element.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.seats Data\n   */\n\n\n  SearchFlightPassengers.prototype.showTeenagerPassengerOption = function showTeenagerPassengerOption(_ref) {\n    var seats = _ref.seats;\n\n    this.$teenagerContainer.show();\n  };\n\n  /**\n   * Show the OFW element.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.seats Data\n   */\n\n\n  SearchFlightPassengers.prototype.showOFWPassengerOption = function showOFWPassengerOption(_ref2) {\n    var seats = _ref2.seats;\n\n    this.$OFWContainer.show();\n  };\n\n  /**\n   * Prevent decreasing adults/teenagers/OFW number to zero if adults/teenagers/OFW is already at minimum.\n   */\n\n\n  SearchFlightPassengers.prototype.validatePassengersNumber = function validatePassengersNumber(passengerOptions) {\n    var _this2 = this;\n\n    var totalPassengers = passengerOptions.reduce(function (acc, passenger) {\n      _this2.setMinimumAttribute(passenger.element[0], 0);\n      return acc + passenger.seatsNumber;\n    }, 0);\n    if (totalPassengers === MIN_PASSENGERS) {\n      var onePassenger = passengerOptions.filter(function (passenger) {\n        return passenger.seatsNumber === MIN_PASSENGERS;\n      });\n      this.setMinimumAttribute(onePassenger[0].element[0], MIN_PASSENGERS);\n    }\n  };\n\n  /**\n   * Reset selected optional parameter when optional passengers(teenagers/OFW) are removed from the passengers list.\n   * Reset adults number to default if there is no adult when teenagers/OFW are removed.\n   */\n\n\n  SearchFlightPassengers.prototype.hidePassengerOption = function hidePassengerOption(seats, type, container) {\n    container.hide();\n    seats[type] = 0;\n    this.setDefaultAdult(seats);\n  };\n\n  /**\n   * Trigger handle to hide the Teenager element.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.seats Data\n   */\n\n\n  SearchFlightPassengers.prototype.hideTeenagerPassengerOption = function hideTeenagerPassengerOption(_ref3) {\n    var seats = _ref3.seats;\n\n    this.hidePassengerOption(seats, 'teenagers', this.$teenagerContainer);\n  };\n\n  /**\n   * Trigger handle to hide the OFW element.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.seats Data\n   */\n\n\n  SearchFlightPassengers.prototype.hideOFWPassengerOption = function hideOFWPassengerOption(_ref4) {\n    var seats = _ref4.seats;\n\n    this.hidePassengerOption(seats, 'OFW', this.$OFWContainer);\n  };\n\n  /**\n   * Set default number of adults.\n   * \n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.seats Data\n   */\n\n\n  SearchFlightPassengers.prototype.setDefaultAdult = function setDefaultAdult(seats) {\n    if (seats.adults + seats.teenagers + seats.OFW === 0) seats.adults = 1;\n  };\n\n  /**\n   * Set default number of adults.\n   * \n   * @param {HTMLElement} element The DOM element\n   * @param {string} minValue Defaut number of passengers\n   */\n\n\n  SearchFlightPassengers.prototype.setMinimumAttribute = function setMinimumAttribute(element, minValue) {\n    element.setAttribute('data-min', minValue);\n  };\n\n  /**\n   * Handle update of passengers number.\n   * \n   * @param {Event} event Custom event\n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.data State\n   * @param {string} obj.refs Ref\n   */\n\n\n  SearchFlightPassengers.prototype.handleUpdate = function handleUpdate(event, _ref5) {\n    var data = _ref5.data,\n        refs = _ref5.refs;\n\n    this.controlSpecialPassengersInput(data);\n\n    var $passengerErrorEl = this.$el.find('.field__error.js-error');\n    var $infantErrorEl = this.$el.find('.passenger-inline-error');\n\n    var moduleName = 'Flight Search';\n    var total = 0;\n\n    (0, _forEach2.default)(data.seats, function (val, key) {\n      total += key === 'infants' ? 0 : val;\n    });\n\n    if (total > 0 && total <= data.flightClassMaxPassengers) {\n      this.updateTotal(total);\n      $passengerErrorEl.removeClass('show');\n    }\n\n    if (total > data.flightClassMaxPassengers) {\n      var message = __EK__.resources['BookManage/search-flight/passenger-error__text'] ? __EK__.resources['BookManage/search-flight/passenger-error__text'].replace('{{num}}', data.flightClassMaxPassengers).replace('{{type}}', data.flightClass) : '';\n      $passengerErrorEl.text(message).addClass('show');\n\n      (0, _analytics.pushClientErrorEvent)(moduleName, 'Maximum Passenger Error');\n    }\n\n    if (data.seats.infants > 0 && data.seats.infants === data.seats.adults + data.seats.OFW) {\n      var _message = __EK__.resources['BookManage/search-flight/passenger-general-error__text'] ? __EK__.resources['BookManage/search-flight/passenger-general-error__text'].replace('{{num}}', data.seats.adults + data.seats.OFW).replace('{{type}}', __EK__.resources['BookManage/search-flight/passenger-infant__text']) : '';\n      $infantErrorEl.text(_message);\n      this.$el.addClass('passenger-error');\n      (0, _analytics.pushClientErrorEvent)(moduleName, 'Maximum Infant Error');\n    } else {\n      this.$el.removeClass('passenger-error');\n    }\n  };\n\n  /**\n   * Updates DOM element with total number of passengers and triggers the Change event.\n   * \n   * @param {number} total The number of passengers\n   */\n\n\n  SearchFlightPassengers.prototype.updateTotal = function updateTotal(total) {\n    var label = total > 1 ? this.passengerPluralInputLabel : this.passengerSingularInputLabel;\n    this.$passengerInput.val(total + ' ' + label);\n    this.$passengerInput.trigger('change');\n  };\n\n  return SearchFlightPassengers;\n}(_component2.default);\n\nSearchFlightPassengers.selector = '.search-flight__passengers';\nSearchFlightPassengers.events = {\n  'search-flight.update': 'handleUpdate',\n  'calendar.update': 'handleUpdate'\n};\nexports.default = SearchFlightPassengers;\n\n//# sourceURL=webpack:///./src/components/passenger-dropdown/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/passenger-dropdown/passenger-dropdown.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(402);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\nvar DEFAULT_ADULTS = parseInt(__EK__.env['EKH_ROOMS_ADULT_DEFAULT']);\nvar DEFAULT_CHILDREN = 0;\n\n/**\n * Class representing Holiday Room Dropdown component.\n * \n * @extends Component\n */\n\nvar HolidayRoomDropdown = function (_Component) {\n  _inherits(HolidayRoomDropdown, _Component);\n\n  function HolidayRoomDropdown(el, $el) {\n    _classCallCheck(this, HolidayRoomDropdown);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.state = [];\n\n\n    _this.registerResources();\n    _this.registerElements();\n    _this.init();\n    return _this;\n  }\n\n  HolidayRoomDropdown.prototype.init = function init() {\n    var _this2 = this;\n\n    setTimeout(function () {\n      _this2.handleRoomAdd();\n    }, 0);\n  };\n\n  /**\n   * Load resource values\n   */\n\n\n  HolidayRoomDropdown.prototype.registerResources = function registerResources() {\n    this.roomsMax = parseInt(__EK__.env['EKH_ROOMS_NUMBER']);\n    this.personSingular = __EK__.resources['BookManage/search-holiday/person-singular__text'];\n    this.personPlural = __EK__.resources['BookManage/search-holiday/person-plural__text'];\n    this.adultSingular = __EK__.resources['BookManage/search-holiday/passenger-adult-singular__text'];\n    this.adultPlural = __EK__.resources['BookManage/search-holiday/passenger-adult-plural__text'];\n    this.childSingular = __EK__.resources['BookManage/search-holiday/passenger-child-singular__text'];\n    this.childPlural = __EK__.resources['BookManage/search-holiday/passenger-child-plural__text'];\n    this.roomSingular = __EK__.resources['BookManage/search-holiday/room-singular__text'];\n    this.roomPlural = __EK__.resources['BookManage/search-holiday/room-plural__text'];\n    this.roomInputSingular = __EK__.resources['BookManage/search-holiday/room-input-singular__text'];\n    this.roomInputPlural = __EK__.resources['BookManage/search-holiday/room-input-plural__text'];\n  };\n\n  /**\n   * Cache DOM elements\n   */\n\n\n  HolidayRoomDropdown.prototype.registerElements = function registerElements() {\n    this.$roomInput = this.$el.find('.js-room-input .js-dropdown-open').first().find('.js-field-input');\n    this.$adults = this.$el.find('[data-type=\"adults\"]');\n    this.$children = this.$el.find('[data-type=\"children\"]');\n    this.$roomDropdown = this.$el.find('.js-room-input .js-dropdown-open').siblings('.dropdown:first');\n  };\n\n  HolidayRoomDropdown.prototype.handleRoomAdd = function handleRoomAdd(e) {\n    e = e || window.event;\n    if (e) {\n      e.preventDefault();\n    }\n    var data = {\n      id: this.state.length + 1,\n      details: {\n        adults: DEFAULT_ADULTS,\n        children: DEFAULT_CHILDREN,\n        childrenAges: []\n      }\n    };\n    this.addRoom(data);\n    this.publish('room.added', data);\n    this.updateState();\n    setTimeout(function () {\n      (0, _jquery2.default)('.js-room-input .dropdown .room--last button:first').focus();\n    }, 10);\n  };\n\n  HolidayRoomDropdown.prototype.handleRoomRemove = function handleRoomRemove(name, data) {\n    this.removeRoom(data.id - 1);\n    this.publish('room.removed', {\n      id: data.id\n    });\n    this.updateState();\n  };\n\n  /**\n   * Update the state\n   * \n   */\n\n\n  HolidayRoomDropdown.prototype.updateState = function updateState() {\n    this.$el.toggleClass('room-dropdown--max', this.state.length === this.roomsMax);\n    this.updateInput();\n    this.publish('rooms.updated', {\n      rooms: this.state\n    });\n    this.publish('passengers.display');\n  };\n\n  HolidayRoomDropdown.prototype.addRoom = function addRoom(data) {\n    var _this3 = this;\n\n    this.state.push(data);\n    setTimeout(function () {\n      _this3.$roomDropdown.scrollTop(_this3.$roomDropdown[0].scrollHeight);\n    }, 50);\n  };\n\n  HolidayRoomDropdown.prototype.removeRoom = function removeRoom(index) {\n    this.state.splice(index, 1);\n  };\n\n  HolidayRoomDropdown.prototype.handleRoomUpdate = function handleRoomUpdate(name, data) {\n    this.state = this.state.map(function (room) {\n      return room.id === data.id ? data : room;\n    });\n    this.updateState();\n  };\n\n  HolidayRoomDropdown.prototype.updateInput = function updateInput() {\n    var numberOfRooms = this.state.length;\n\n    var numberOfAdults = 0;\n    var numberOfChildren = 0;\n\n    for (var _iterator = this.state, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var obj = _ref;\n\n      numberOfAdults = numberOfAdults + obj.details.adults;\n      numberOfChildren = numberOfChildren + obj.details.children;\n    }\n\n    var resourceRoom = numberOfRooms > 1 ? this.roomInputPlural : this.roomInputSingular;\n    var textRoom = numberOfRooms + ' ' + resourceRoom;\n\n    var resourceAdults = numberOfAdults > 1 ? this.adultPlural : this.adultSingular;\n    var textAdults = numberOfAdults + ' ' + resourceAdults;\n\n    var resourceChildren = numberOfChildren > 1 ? this.childPlural : this.childSingular;\n    var textChildren = numberOfChildren + ' ' + resourceChildren;\n\n    var textPerson = numberOfChildren ? textAdults + ', ' + textChildren : '' + textAdults;\n\n    var text = textRoom + ' (' + textPerson + ')';\n\n    this.$roomInput.val(text);\n    this.$roomInput.trigger('change');\n  };\n\n  return HolidayRoomDropdown;\n}(_component2.default);\n\nHolidayRoomDropdown.selector = '.js-holiday-room-dropdown';\nHolidayRoomDropdown.events = {\n  'room.remove': 'handleRoomRemove',\n  'room.update': 'handleRoomUpdate',\n  'click .js-holiday-add-room': 'handleRoomAdd'\n};\nexports.default = HolidayRoomDropdown;\n\n//# sourceURL=webpack:///./src/components/room-dropdown/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/room-dropdown/room-dropdown.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(404);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\nvar DEFAULT_ADULTS = parseInt(__EK__.env['EKH_ROOMS_ADULT_DEFAULT']);\nvar DEFAULT_CHILDREN = 0;\n\n/**\n * Class representing Holiday Room component.\n * \n * @extends Component\n */\n\nvar HolidayRoom = function (_Component) {\n  _inherits(HolidayRoom, _Component);\n\n  function HolidayRoom(el, $el) {\n    _classCallCheck(this, HolidayRoom);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.state = {\n      adults: DEFAULT_ADULTS,\n      children: DEFAULT_CHILDREN,\n      childrenAges: []\n    };\n\n    _this.roomId = _this.$el.data('id');\n    _this.registerResources();\n    _this.registerElements();\n    _this.init();\n    return _this;\n  }\n\n  /**\n   * Load resource values\n   */\n\n\n  HolidayRoom.prototype.registerResources = function registerResources() {\n    this.personSingular = __EK__.resources['BookManage/search-holiday/person-singular__text'];\n    this.personPlural = __EK__.resources['BookManage/search-holiday/person-plural__text'];\n    this.roomSingular = __EK__.resources['BookManage/search-holiday/room-singular__text'];\n    this.childrenMax = parseInt(__EK__.env['EKH_ROOMS_CHILDREN_MAX']);\n  };\n\n  /**\n   * Cache DOM elements\n   */\n\n\n  HolidayRoom.prototype.registerElements = function registerElements() {\n    this.$adults = this.$el.find('[data-type=\"adults\"]');\n    this.$children = this.$el.find('[data-type=\"children\"]');\n    this.$childrenAgeContainer = this.$el.find('.js-room-children-age-container');\n    this.$addAnotherRoomButton = (0, _jquery2.default)('.room-dropdown__add-room-btn');\n  };\n\n  /**\n   * Initial setup.\n   */\n\n\n  HolidayRoom.prototype.init = function init() {\n    if (this.roomId === 1) {\n      this.$el.addClass('room--first');\n    }\n    // Set default number of adults.\n    if (this.state.adults === 0) {\n      this.state.adults = DEFAULT_ADULTS;\n    }\n    this.publish('passengers.display');\n  };\n\n  /**\n   * Triggers child age update.\n   */\n\n\n  HolidayRoom.prototype.handleChildAgeChange = function handleChildAgeChange() {\n    this.childAgeUpdate();\n  };\n\n  /**\n   * Update child ages and publish event to update room container.\n   */\n\n\n  HolidayRoom.prototype.childAgeUpdate = function childAgeUpdate() {\n    var _this2 = this;\n\n    this.state.childrenAges = [];\n    var $inputs = this.$el.find('.js-room-children-age:not(.hidden) .js-field-input');\n    $inputs.each(function (i, el) {\n      var age = isNaN(parseInt(el.value)) ? null : parseInt(el.value);\n      _this2.state.childrenAges.push(age);\n    });\n    this.publish('room.update', {\n      id: this.roomId,\n      details: this.state\n    });\n  };\n\n  /**\n   * Update persons update.\n   * \n   * @param {Event} name \n   * @param {object} data Person details\n   */\n\n\n  HolidayRoom.prototype.handlePersonUpdate = function handlePersonUpdate(name, data) {\n    var roomId = (0, _jquery2.default)(data.event.currentTarget).closest('.js-holiday-room').data('id');\n    if (this.roomId != roomId) return;\n\n    this.state[data.type] = data.value;\n    this.updateView();\n    this.childAgeUpdate();\n  };\n\n  /**\n   * Update DOM.\n   */\n\n\n  HolidayRoom.prototype.updateView = function updateView() {\n    // hide children age container\n    this.$childrenAgeContainer.toggleClass('hidden', !this.state.children);\n\n    // hide children age elements inside container\n    this.$childrenAgeContainer.find('.js-room-children-age').addClass('hidden');\n\n    for (var i = 1; i <= this.childrenMax; i++) {\n      var $el = this.$childrenAgeContainer.find('.js-room-children-age[data-id=\"' + i + '\"]');\n      if (i <= this.state.children) {\n        $el.removeClass('hidden');\n      } else {\n        $el.find('.js-field-input').val('').closest('.js-fields').removeClass('field--active');\n        $el.find('.js-dropdown-select-item').removeClass('active');\n      }\n    }\n  };\n\n  /**\n   * Update state and DOM classes.\n   * \n   * @param {Event} name \n   * @param {object} data State\n   */\n\n\n  HolidayRoom.prototype.handleRoomAdded = function handleRoomAdded(name, data) {\n    this.$el.removeClass('room--last');\n    if (this.roomId === data.id) {\n      this.state = data.details;\n      this.$el.removeClass('hidden');\n      this.$el.addClass('room--last');\n    }\n  };\n\n  /**\n   * Reset state details.\n   * \n   * @param {number} id \n   */\n\n\n  HolidayRoom.prototype.resetState = function resetState(id) {\n    if (this.roomId !== id) return;\n\n    this.state = {\n      adults: DEFAULT_ADULTS,\n      children: DEFAULT_CHILDREN,\n      childrenAges: []\n    };\n\n    this.updateView();\n\n    this.publish('search-holiday.update', {\n      roomId: this.roomId,\n      details: {\n        adults: this.state.adults,\n        children: this.state.children\n      }\n    });\n  };\n\n  /**\n   * Publish event to update rooms container.\n   */\n\n\n  HolidayRoom.prototype.handleRoomRemove = function handleRoomRemove(e) {\n    e = e || window.event;\n    if (e) {\n      e.preventDefault();\n    }\n    if (this.roomId === 1) return;\n    if (!this.$el.hasClass('room--last')) return;\n\n    this.publish('room.remove', {\n      id: this.roomId\n    });\n    this.$addAnotherRoomButton.focus();\n  };\n\n  /**\n   * Trigger state reset and update DOM classes.\n   * \n   * @param {Event} name \n   * @param {object} data Data\n   */\n\n\n  HolidayRoom.prototype.handleRoomRemoved = function handleRoomRemoved(name, data) {\n    if (this.roomId === data.id) {\n      this.$el.addClass('hidden');\n      this.resetState(data.id);\n    }\n    if (this.roomId === data.id - 1) {\n      this.$el.addClass('room--last');\n    }\n  };\n\n  return HolidayRoom;\n}(_component2.default);\n\nHolidayRoom.selector = '.js-holiday-room';\nHolidayRoom.events = {\n  'click .js-holiday-room-remove': 'handleRoomRemove',\n  'room.added': 'handleRoomAdded',\n  'room.removed': 'handleRoomRemoved',\n  'room-person.increase': 'handlePersonUpdate',\n  'room-person.decrease': 'handlePersonUpdate',\n  'change .js-field-input': 'handleChildAgeChange'\n};\nexports.default = HolidayRoom;\n\n//# sourceURL=webpack:///./src/components/room/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/room/room.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _debounce = __webpack_require__(35);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _reduce = __webpack_require__(87);\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\n__webpack_require__(406);\n\nvar _utils = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Market Promo Item component.\n * \n * @extends Component\n */\nvar MarketPromoItem = function (_Component) {\n  _inherits(MarketPromoItem, _Component);\n\n  function MarketPromoItem(el, $el) {\n    _classCallCheck(this, MarketPromoItem);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      delay: 500\n    };\n\n    _this.$window = (0, _jquery2.default)(window);\n\n    _this.setHalfPromoHeight();\n    _this.$window.resize((0, _debounce2.default)(function () {\n      return _this.setHalfPromoHeight();\n    }, _this.options.delay));\n    return _this;\n  }\n\n  /**\n   * Update DOM elements height (simulating flexbox).\n   */\n\n\n  MarketPromoItem.prototype.setHalfPromoHeight = function setHalfPromoHeight() {\n    var pageWidth = (0, _utils.getBreakpoint)(\'medium\');\n    var $promos = this.$el.find(\'.medium--one-half .market-promo-item__details, .medium--one-third .market-promo-item__details\');\n\n    $promos.height(\'\');\n\n    if (this.$window.width() > pageWidth) {\n      var maxHeight = (0, _reduce2.default)($promos, function (maxHeight, promoEl) {\n        var height = (0, _jquery2.default)(promoEl).height();\n        if (height > maxHeight) {\n          return height;\n        }\n        return maxHeight;\n      }, 0);\n\n      $promos.height(maxHeight);\n    }\n  };\n\n  return MarketPromoItem;\n}(_component2.default);\n\nMarketPromoItem.selector = \'.js-local-markets-promos\';\nexports.default = MarketPromoItem;\n\n//# sourceURL=webpack:///./src/components/market-promo-item/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/market-promo-item/market-promo-item.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(408);\n\n//# sourceURL=webpack:///./src/components/loyality-offer-item/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/loyality-offer-item/loyality-offer-item.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(410);\n\n//# sourceURL=webpack:///./src/components/three-date-dropdown/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/three-date-dropdown/three-date-dropdown.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(412);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _utils = __webpack_require__(5);\n\nvar _logout = __webpack_require__(141);\n\nvar _logout2 = _interopRequireDefault(_logout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global fetch, location */\n\n\n/**\n * Class representing Login component.\n * \n * @extends Component\n */\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(el, $el) {\n    _classCallCheck(this, Login);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      outage: false,\n      inputError: 'field__input--error'\n    };\n\n    var tabs = (0, _jquery2.default)('.js-tab-view li');\n    var tabContainer = (0, _jquery2.default)('.tab-holder');\n\n    (0, _jquery2.default)(tabs).first().addClass('active-tab');\n    (0, _jquery2.default)(tabContainer).first().addClass('active-tab');\n\n    _this.isLoggedIn();\n    _this.options.logInEl = el;\n\n    _this.options.outage = _this.$el.hasClass('js-outage');\n    return _this;\n  }\n\n  /**\n   * Submit login form.\n   * Update DOM styles for missing data.\n   * \n   * @param {object} formVals Form values\n   */\n\n\n  Login.prototype.loginSubmit = function loginSubmit(formVals) {\n    var _this2 = this;\n\n    var captchaRefresh = (0, _jquery2.default)('.captcha-refresh');\n    var form = (0, _jquery2.default)('.js-login-fieldset');\n\n    if (formVals.userName === '' || formVals.userPwd === '') {\n      (0, _jquery2.default)(form).find('.username-field input').toggleClass(this.options.inputError, !formVals.userName.trim());\n      (0, _jquery2.default)(form).find('.password-field input').toggleClass(this.options.inputError, !formVals.userPwd.trim());\n      (0, _jquery2.default)('.login-error').html(window.__EK__.resources['Common/Account/error-mandatory__text']).removeClass('hidden');\n      (0, _jquery2.default)('.login-error').focus();\n      window.location.hash = '#error_panel';\n      captchaRefresh.click();\n      return;\n    } else {\n      (0, _jquery2.default)('.login-error').addClass('hidden');\n    }\n\n    var params = (0, _utils.queryStringParams)();\n    var url = params.hasOwnProperty('captcha') ? '/service/login?captcha=' + params['captcha'] : '/service/login';\n    var userName = (0, _jquery2.default)('.username-field input').val();\n\n    fetch(url, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      cache: 'no-store',\n      method: 'POST',\n      body: JSON.stringify(formVals)\n    }).then(function (res) {\n      if (res.status > 299) {\n        res.json().then(function (status) {\n          if (status.error.errors[0] !== null) {\n            var originalMessage = status.error.errors[0].message;\n            var resourceString = originalMessage.split('.');\n            var resourceKey = 'login__error-' + resourceString[0] + '__text';\n            var fallBackMessage = resourceString[1];\n            var _captchaRefresh = (0, _jquery2.default)('.captcha-refresh');\n\n            if (window.__EK__.resources[resourceKey] !== undefined) {\n              var messageFromKey = window.__EK__.resources[resourceKey];\n              (0, _jquery2.default)('.login-error').html(messageFromKey).removeClass('hidden');\n            } else {\n              (0, _jquery2.default)('.login-error').html(fallBackMessage).removeClass('hidden');\n            }\n            (0, _jquery2.default)('.login-error').focus();\n            window.location.hash = '#error_panel';\n            _captchaRefresh.click();\n          }\n        });\n        return;\n      }\n      res.json().then(function (status) {\n        if ((0, _jquery2.default)('.login__fieldset .js-remember').is(':checked')) {\n          _this2.storeUserName(userName);\n        }\n        var activeWidget = (0, _jquery2.default)('.panel-active.widget__tab');\n        window.location.hash = activeWidget[0].id;\n        location.reload();\n        (0, _jquery2.default)('html,body').scrollTop(0);\n      });\n    });\n  };\n\n  /**\n   * Triggers post data to initiate logout.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Login.prototype.logoutClick = function logoutClick(e) {\n    e.preventDefault();\n\n    (0, _logout2.default)().then(function () {\n      location.replace(location.pathname + '?logout=true');\n      (0, _jquery2.default)('html,body').scrollTop(0);\n    }).catch(function (res) {\n      console.log(res, 'login error');\n    });\n  };\n\n  /**\n   * Store username on local storage.\n   * \n   * @param {string} userName Username\n   */\n\n\n  Login.prototype.storeUserName = function storeUserName(userName) {\n    window.localStorage.setItem('currentUser', userName);\n  };\n\n  /**\n   * Prepare form data and trigger form login.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Login.prototype.loginClick = function loginClick(e) {\n    var form = (0, _jquery2.default)('.login__fieldset');\n    var formVals = {};\n\n    formVals.userName = (0, _jquery2.default)(form).find('.username-field input').val();\n    formVals.userPwd = (0, _jquery2.default)(form).find('.password-field input').val();\n    formVals.formData = (0, _jquery2.default)('.captcha dl').attr('data-selected') || 'null';\n\n    this.loginSubmit(formVals);\n\n    e.preventDefault();\n  };\n\n  /**\n   * Update class state to indicate focus status.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Login.prototype.inputFocus = function inputFocus(e) {\n    (0, _jquery2.default)(e.target).removeClass(this.options.inputError);\n  };\n\n  /**\n   * Update DOM to switch active tab.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Login.prototype.tabView = function tabView(e) {\n    e.preventDefault();\n\n    var tabs = (0, _jquery2.default)('.js-tab-view li');\n    var tabContainer = (0, _jquery2.default)('.tab-holder');\n\n    // Avoid the logic below if there is only one tab.\n    if (tabs.length === 1) {\n      return;\n    }\n\n    for (var i = 0; i < tabs.length; i++) {\n      if ((0, _jquery2.default)(tabs[i]).hasClass('active-tab')) {\n        (0, _jquery2.default)(tabs[i]).removeClass('active-tab');\n      } else {\n        (0, _jquery2.default)(tabs[i]).addClass('active-tab');\n      }\n    }\n\n    for (var _i = 0; _i < tabContainer.length; _i++) {\n      if ((0, _jquery2.default)(tabContainer[_i]).hasClass('active-tab')) {\n        (0, _jquery2.default)(tabContainer[_i]).removeClass('active-tab');\n      } else {\n        (0, _jquery2.default)(tabContainer[_i]).addClass('active-tab');\n      }\n    }\n  };\n\n  /**\n   * Clear local storage.\n   * \n   * @param {Event} e Input event\n   */\n\n\n  Login.prototype.clearStorage = function clearStorage(e) {\n    if (!(0, _jquery2.default)(e.target)[0].checked) {\n      window.localStorage.setItem('currentUser', ' ');\n    }\n  };\n\n  /**\n   * Update DOM to prepopulate form with user details.\n   */\n\n\n  Login.prototype.isLoggedIn = function isLoggedIn() {\n    // TODO: check localStorage usage.\n    var loggedInName = window.localStorage.getItem('currentUser');\n\n    if (loggedInName !== null || loggedInName !== ' ') {\n      (0, _jquery2.default)('.username-field input').val(loggedInName);\n      (0, _jquery2.default)('.js-remember').prop('checked', true);\n    }\n  };\n\n  return Login;\n}(_component2.default);\n\nLogin.selector = '.js-login';\nLogin.events = {\n  'click .login__trigger': 'loginClick',\n  'click .logout__button': 'logoutClick',\n  'change .js-remember': 'clearStorage',\n  'click .js-tab-view li': 'tabView',\n  'focus .js-field-input': 'inputFocus'\n};\nexports.default = Login;\n\n//# sourceURL=webpack:///./src/components/login/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/login/login.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(414);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _navUtils = __webpack_require__(38);\n\nvar _utils = __webpack_require__(5);\n\nvar _CalendarConfig = __webpack_require__(42);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _logout = __webpack_require__(141);\n\nvar _logout2 = _interopRequireDefault(_logout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NewLogin = function (_Component) {\n  _inherits(NewLogin, _Component);\n\n  function NewLogin(el, $el) {\n    _classCallCheck(this, NewLogin);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.registerElements();\n    _this.name = 'AccountPopup';\n    _this.collapse = _this.collapse.bind(_this);\n    _this.collapseOnEscape = _this.collapseOnEscape.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.initMobileTab();\n    (0, _navUtils.registerPopup)('AccountPopup', _this);\n    return _this;\n  }\n\n  // Register DOM elements\n\n\n  NewLogin.prototype.registerElements = function registerElements() {\n    this.$htmlBody = (0, _jquery2.default)('html,body');\n    this.$document = (0, _jquery2.default)(document);\n    this.$navRoot = (0, _jquery2.default)('.js-ek-global-navigation');\n    this.$el = this.$navRoot.find('.js-ek-account-popup');\n    this.$countrySelector = (0, _jquery2.default)('.country-selector-list-item-link');\n    this.$countryEl = (0, _jquery2.default)('.website-selector-wrapper');\n    this.$searchSelector = (0, _jquery2.default)('.search-selector-list-item-link');\n    this.$searchEl = (0, _jquery2.default)('.search-popup');\n    this.$loginNavLink = (0, _jquery2.default)('.js-account-popup-link');\n    this.tabs = (0, _jquery2.default)('.js-account-mobile-tab-panel');\n    this.tabsContainer = (0, _jquery2.default)('.ek-account-details .js-ek-account-column');\n    this.accountsContainer = (0, _jquery2.default)('.js-ek-account-details');\n    this.familyContainer = (0, _jquery2.default)('#family-group-section');\n    this.skywardsContainer = (0, _jquery2.default)('#skywards-section');\n    this.logoutContainer = (0, _jquery2.default)('.ek-account-logout-row');\n  };\n\n  NewLogin.prototype.initMobileTab = function initMobileTab() {\n    this.tabs.first().addClass('active');\n    this.tabsContainer.first().addClass('active-tab');\n  };\n\n  NewLogin.prototype.onTabSelected = function onTabSelected(e) {\n    e.preventDefault();\n    // Avoid the logic below if there is only one tab.\n    if (this.tabs.length === 1 || this.getSelectedTab((0, _jquery2.default)(e.target)).hasClass('active')) {\n      return;\n    }\n\n    this.tabs.each(function (index, tab) {\n      (0, _jquery2.default)(tab).hasClass('active') ? (0, _jquery2.default)(tab).removeClass('active') : (0, _jquery2.default)(tab).addClass('active');\n    });\n\n    this.tabsContainer.each(function (index, tabContainer) {\n      (0, _jquery2.default)(tabContainer).hasClass('active-tab') ? (0, _jquery2.default)(tabContainer).removeClass('active-tab') : (0, _jquery2.default)(tabContainer).addClass('active-tab');\n    });\n  };\n\n  NewLogin.prototype.getSelectedTab = function getSelectedTab($el) {\n    return !$el.hasClass('js-account-tab-title') ? $el.parent().parent() : $el.parent();\n  };\n\n  NewLogin.prototype.handleErrors = function handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    return response;\n  };\n\n  NewLogin.prototype.onLogout = function onLogout(e) {\n    var _this2 = this;\n\n    e.preventDefault();\n\n    (0, _logout2.default)().then(this.handleErrors).then(function () {\n      location.replace(location.pathname + '?logout=true');\n      _this2.$htmlBody.scrollTop(0);\n    }).catch(function (err) {\n      console.log(err, 'logout error');\n    });\n  };\n\n  /**\n  * navbutton click event. Toggles the popup state\n  * @param {Event} e\n  */\n\n\n  NewLogin.prototype.handleNavbuttonClick = function handleNavbuttonClick(e) {\n    var _this3 = this;\n\n    var isLoggedIn = window.__EK__.session.isAuthenticated;\n    if (isLoggedIn) {\n      e.preventDefault();\n      this.$el.is(':visible') ? this.collapse() : this.expand(e);\n      //Fetch Family Group Details\n      var $familySpinner = this.accountsContainer.find('.js-family-spinner');\n      if ($familySpinner.length == 1 && !$familySpinner.hasClass('hidden')) {\n        var url = '/service/family-group';\n        fetch(url, {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include',\n          cache: 'no-store',\n          method: 'GET'\n        }).then(this.handleErrors).then(function (res) {\n          res.json().then(function (familyGroup) {\n            $familySpinner.addClass('hidden');\n            if (familyGroup.data != null) {\n              var $skywardsLogout = _this3.skywardsContainer.find('.js-skywards-logout');\n              var $familyAccountBtn = _this3.familyContainer.find('.js-view-skywards-button');\n              var $familyName = _this3.familyContainer.find('.js-family-name');\n              var $familyMiles = _this3.familyContainer.find('.js-family-miles');\n              var $familyExpDetails = _this3.familyContainer.find('.js-family-exp-details');\n              var $familyMilesExpDetails = _this3.familyContainer.find('.js-family-miles-exp');\n              var $familyMilesExpResourceText = $familyMilesExpDetails.data('miles-resource-text');\n              var familyMiles = (0, _utils.numberFormat)(familyGroup.data.rewardBalance);\n              $familyName.text(familyGroup.data.name);\n              $familyMiles.text(familyMiles + ' ');\n              $familyMilesExpDetails.text(familyMiles + ' ');\n              if (familyGroup.data.expiringMiles > 0) {\n                var date = (0, _get2.default)(familyGroup, 'data.dateOfMilesExpiry', null);\n                var formattedDate = date !== null ? (0, _CalendarConfig.dateFormat)((0, _moment2.default)(date, 'DDMMMYYYY')._d, $familyMilesExpDetails.data('date-format')) : '';\n                var familyMilesExpText = $familyMilesExpResourceText.replace('{{expiringMiles}}', (0, _utils.numberFormat)(familyGroup.data.expiringMiles)).replace('{{expiringDate}}', formattedDate);\n                $familyExpDetails.text(familyMilesExpText);\n                $familyMilesExpDetails.text(familyMiles + ' (' + familyMilesExpText + ')');\n              }\n              $skywardsLogout.addClass('hidden');\n              _this3.accountsContainer.removeClass('no-btm-border');\n              _this3.logoutContainer.removeClass('hidden');\n              _this3.familyContainer.removeClass('hidden');\n              _this3.familyContainer.addClass('m-btm-20');\n              _this3.skywardsContainer.addClass('m-btm-20');\n            }\n          });\n        }).catch(function (err) {\n          console.log(err, 'family group error');\n          $familySpinner.addClass('hidden');\n        });\n      }\n    }\n  };\n\n  /**\n  * Collapse the Mega menu active popup\n  * @param {Event?} e\n  */\n\n\n  NewLogin.prototype.collapseMegaMenu = function collapseMegaMenu(e) {\n    this.$navRoot.find('.megalinks-list-parent').removeClass('mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked');\n    this.$navRoot.find('.megalinks-list-parent').children('li').removeClass('active-menu');\n  };\n\n  /**\n  * Collapse the popup\n  * @param {Event} e\n  */\n\n\n  NewLogin.prototype.collapse = function collapse(e) {\n    this.$loginNavLink.removeClass('active').attr('aria-expanded', false);\n    this.$el.hide();\n    this.$document.off('keyup', this.collapseOnEscape).off('click', this.handleDocumentClick);\n  };\n\n  /**\n  * Expand the popup\n  * @param {Event?} e\n  */\n\n\n  NewLogin.prototype.expand = function expand(e) {\n    this.collapseMegaMenu();\n    this.showPopup(e);\n  };\n\n  /**\n  * Internal method to show the popup used by the expand function.\n  * @param {Event} e\n  */\n\n\n  NewLogin.prototype.showPopup = function showPopup(e) {\n    this.$loginNavLink.addClass('active').attr('aria-expanded', true);\n    this.$countrySelector.removeClass('active').attr('aria-expanded', false);\n    this.$countryEl.hide();\n    this.$searchSelector.removeClass('active').attr('aria-expanded', false);\n    this.$searchEl.hide();\n    this.$navRoot.find('.js-megalinks-list-parent').children('li').removeClass('active-menu');\n    this.$el.show();\n    // Attach escape key handler and document body click handler to collapse the popup.\n    this.$document.on('keyup', this.collapseOnEscape).on('click', this.handleDocumentClick);\n\n    // Collapse all other popups on the globalnav\n    (0, _navUtils.collapseAllPopupsExcept)(this.name);\n  };\n\n  NewLogin.prototype.collapseOnEscape = function collapseOnEscape(e) {\n    var keyCode = e.keyCode || e.which;\n    if (keyCode === _navUtils.eventKeyCode.ESC && this.collapse && typeof this.collapse === 'function') {\n      this.collapse();\n    }\n  };\n\n  /**\n  * Handles the document body click. The popup should be collapsed.\n  * @param {Event} e - The DOM event\n  */\n\n\n  NewLogin.prototype.handleDocumentClick = function handleDocumentClick(e) {\n    var $target = (0, _jquery2.default)(e.target);\n    if (!$target.hasClass('js-account-selector') && $target.parents('.js-account-selector').length === 0) {\n      this.collapse();\n    }\n  };\n\n  /**\n  * closebutton click event. Toggles the popup state\n  * @param {Event} e\n  */\n\n\n  NewLogin.prototype.handleCloseButtonClick = function handleCloseButtonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.collapse();\n  };\n\n  return NewLogin;\n}(_component2.default);\n\nNewLogin.selector = '.js-account-selector';\nNewLogin.events = {\n  'click .js-account-popup-link': 'handleNavbuttonClick',\n  'touch .js-account-popup-link': 'handleNavbuttonClick',\n  'click .js-account-popup-close-btn': 'handleCloseButtonClick',\n  'touch .js-account-popup-close-btn': 'handleCloseButtonClick',\n  'click .js-account-tab-title': 'onTabSelected',\n  'touch .js-account-tab-title': 'onTabSelected',\n  'click .js-account-logout': 'onLogout',\n  'touch .js-account-logout': 'onLogout'\n};\nexports.default = NewLogin;\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/login-v2/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/login-v2/login-v2.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(416);\n\n//# sourceURL=webpack:///./src/components/brand-logo/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/brand-logo/brand-logo.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(418);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Passenger Contextual-help component.\n * \n * @extends Component\n */\nvar PassengerContextualHelp = function (_Component) {\n  _inherits(PassengerContextualHelp, _Component);\n\n  function PassengerContextualHelp(el, $el) {\n    _classCallCheck(this, PassengerContextualHelp);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.$helpContainers = _this.$el.find('.contextual-help-dropdown__passenger-content');\n    _this.$helpText = _this.$el.find('.js-help-text');\n    _this.$helpTeenagerText = _this.$el.find('.js-help-teenager-text');\n    _this.$helpOFWText = _this.$el.find('.js-help-ofw-text');\n    _this.$helpTeenagerOFWText = _this.$el.find('.js-help-teenager-ofw-text');\n    return _this;\n  }\n\n  PassengerContextualHelp.prototype.updateHelpContent = function updateHelpContent(event) {\n    var contextualData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { isTeenageInput: false, isOFWInput: false };\n\n    this.$helpContainers.removeClass('active');\n    if (contextualData.isTeenageInput && contextualData.isOFWInput) {\n      this.$helpTeenagerOFWText.addClass('active');\n    } else if (contextualData.isTeenageInput) {\n      this.$helpTeenagerText.addClass('active');\n    } else if (contextualData.isOFWInput) {\n      this.$helpOFWText.addClass('active');\n    } else {\n      this.$helpText.addClass('active');\n    }\n  };\n\n  return PassengerContextualHelp;\n}(_component2.default);\n\nPassengerContextualHelp.selector = '.js-passenger-contextual-help-dropdown';\nPassengerContextualHelp.events = {\n  'passengers.display': 'updateHelpContent'\n};\nexports.default = PassengerContextualHelp;\n\n//# sourceURL=webpack:///./src/components/passenger-contextual-help/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/passenger-contextual-help/passenger-contextual-help.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(420);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing SEO Links component.\n *\n * @extends Component\n */\nvar LinksContainer = function (_Component) {\n  _inherits(LinksContainer, _Component);\n\n  function LinksContainer(el, $el) {\n    _classCallCheck(this, LinksContainer);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.$el = _this.$el || $el;\n    _this.$readMoreIcon = _this.$el.find('.icon-chevron-down');\n    _this.$seoLinksUL = _this.$el.find('.hp-seo-block-links ul');\n    _this.$seoDescription = _this.$el.find('.hp-seo-block__subtext');\n    return _this;\n  }\n\n  LinksContainer.prototype.toggleLinks = function toggleLinks() {\n    this.$seoDescription.toggleClass('expanded');\n    this.$seoLinksUL.toggleClass('collapsed');\n    this.$readMoreIcon.toggleClass('icon-chevron-down icon-chevron-up');\n  };\n\n  return LinksContainer;\n}(_component2.default);\n\nLinksContainer.selector = '.hp-seo-block';\nLinksContainer.events = {\n  'click .read-more-btn': 'toggleLinks'\n};\nexports.default = LinksContainer;\n\n//# sourceURL=webpack:///./src/components/links-container/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/links-container/links-container.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(422);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Hero Banner component.\n * \n * @extends Component\n */\nvar HeroBanner = function (_Component) {\n  _inherits(HeroBanner, _Component);\n\n  function HeroBanner() {\n    _classCallCheck(this, HeroBanner);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  /**\n   * Update state to indicate that the widget is opened.\n   */\n  HeroBanner.prototype.widgetOpen = function widgetOpen() {\n    this.$el.addClass('widget-open');\n  };\n\n  /**\n   * Update state to indicate that the widget is closed.\n   */\n\n\n  HeroBanner.prototype.widgetClose = function widgetClose() {\n    this.$el.removeClass('widget-open');\n  };\n\n  return HeroBanner;\n}(_component2.default);\n\nHeroBanner.selector = '.hero';\nHeroBanner.events = {\n  'widget.open': 'widgetOpen',\n  'widget.close': 'widgetClose' };\nexports.default = HeroBanner;\n\n//# sourceURL=webpack:///./src/components/hero-banner/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/hero-banner/hero-banner.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(424);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Footer component\n * @extends Component\n */\nvar Footer = function (_Component) {\n  _inherits(Footer, _Component);\n\n  function Footer() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Footer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.options = {\n      isMobile: true,\n      sectionExpandedClass: 'section--is--expanded',\n      expandedClass: 'is--expanded'\n\n      /**\n       * Stop event propagation.\n       * \n       * @param {Event} e Mouse click event \n       */\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Footer.prototype.stopProp = function stopProp(e) {\n    e.stopPropagation();\n  };\n\n  /**\n   * Triggers toggle action to show or hide menu list.\n   * \n   * @param {Event} e Mouse click event \n   */\n\n\n  Footer.prototype.toggleSectionExpansion = function toggleSectionExpansion(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.options.isMobile) {\n      this.toggleListExpansion((0, _jquery2.default)(e.currentTarget).parent('.js-sectionAccordion')[0], true);\n    }\n  };\n\n  /**\n   * Shows or hides menu list.\n   * \n   * @param {Event|HTMLElement} e Mouse click event or DOM element\n   * @param {boolean} isSection Flags if first provided argument (e) is DOM element\n   */\n\n\n  Footer.prototype.toggleListExpansion = function toggleListExpansion(e) {\n    var isSection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var expandedClass = isSection === true ? this.options.sectionExpandedClass : this.options.expandedClass;\n    var target = isSection === true ? e : e.currentTarget;\n\n    e.preventDefault && e.preventDefault();\n    e.stopPropagation && e.stopPropagation();\n\n    (0, _jquery2.default)(target).toggleClass(expandedClass);\n    this.toggleAria(target, isSection);\n  };\n\n  /**\n   * Toggles Aria Expanded attribute on DOM element.\n   * \n   * @param {HTMLElement} target Targeted DOM element\n   * @param {boolean} isSection Flags if first provided argument (target) is parent section or list with child items.\n   */\n\n\n  Footer.prototype.toggleAria = function toggleAria(target) {\n    var isSection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var expandedClass = isSection === true ? '.footer__section-link--accordion' : '.footer__list-link--accordion';\n\n    (0, _jquery2.default)(target).find(expandedClass).attr('aria-expanded', function (i, attr) {\n      return attr === 'true' ? 'false' : 'true';\n    });\n  };\n\n  /**\n   * Submits email subscription form.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Footer.prototype.submitEmail = function submitEmail(e) {\n    e.preventDefault();\n    (0, _jquery2.default)('.subscribe').submit();\n  };\n\n  /**\n   * Updates state when the Medium breakpoint is hit.\n   */\n\n\n  Footer.prototype.respondToMedium = function respondToMedium() {\n    this.options.isMobile = false;\n  };\n\n  /**\n   * Updates state when the Mobile breakpoint is hit.\n   */\n\n\n  Footer.prototype.respondToMobile = function respondToMobile() {\n    this.options.isMobile = true;\n  };\n\n  return Footer;\n}(_component2.default);\n\nFooter.selector = '.js-footer';\nFooter.events = {\n  'breakpoint.medium': 'respondToMedium',\n  'breakpoint.mobile': 'respondToMobile',\n  'click .js-sectionHeading': 'toggleSectionExpansion',\n  'click .js-listAccordion': 'toggleListExpansion',\n  'click .js-subscribe-input': 'submitEmail',\n  'click .js-no-prop': 'stopProp'\n};\nexports.default = Footer;\n\n//# sourceURL=webpack:///./src/components/footer/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/footer/footer.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(426);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _store = __webpack_require__(62);\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_STORAGE_PREFIX = 'EK_';\nvar KEY_OPERATIONAL_UPDATE = 'operational-update-dismissed';\nvar ID_SEPARATOR = '|';\n\n/**\n * Class representing Operational Update Alerts component.\n * \n * @extends Component\n */\n\nvar OperationalUpdateAlerts = function (_Component) {\n  _inherits(OperationalUpdateAlerts, _Component);\n\n  function OperationalUpdateAlerts(el, $el) {\n    _classCallCheck(this, OperationalUpdateAlerts);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.store = new _store2.default({ prefix: DEFAULT_STORAGE_PREFIX, type: _store2.default.getStorageTypes().COOKIE });\n\n    _this.initOperationalUpdates();\n\n    _this.expanded = false;;\n    return _this;\n  }\n\n  /**\n   * Initialise the operational updates display.\n   */\n\n\n  OperationalUpdateAlerts.prototype.initOperationalUpdates = function initOperationalUpdates() {\n    //Converting to String here, as the first time, the cookie will contain only one id, and will be treated as an int\n    var cookie = String(this.store.get(KEY_OPERATIONAL_UPDATE, '', { json: false }));\n    var cookieIds = cookie.split(ID_SEPARATOR);\n    var counter = 0;\n\n    this.$el.children('.operational-update').each(function () {\n\n      var currentId = String((0, _jquery2.default)(this).data('id'));\n\n      if (cookieIds.indexOf(currentId) === -1) {\n        //Operational updates are hidden by default, and then displayed if they are not stored in the cookies\n        //This is in order to avoid the flicker when they have been previously dismissed.\n        (0, _jquery2.default)(this).addClass('operational-update--not-dismissed');\n        counter++;\n      }\n    });\n\n    (0, _jquery2.default)('.operational-updates').toggleClass('operational-updates--multiple', counter > 1);\n\n    var $firstOpU = this.$el.children('.operational-update--not-dismissed').first();\n    $firstOpU.addClass('operational-update--main');\n    $firstOpU.find('.operational-update__extras').show();\n    $firstOpU.find('.operational-update__expander').toggleClass('hidden', counter < 2);\n  };\n\n  /**\n   * Closes all operational updates when clicking on the close button, and adds them to the cookie.\n   */\n\n\n  OperationalUpdateAlerts.prototype.closeOperationalUpdate = function closeOperationalUpdate() {\n    var idsToDismiss = [];\n\n    this.$el.children('.operational-update--not-dismissed').each(function () {\n      idsToDismiss.push((0, _jquery2.default)(this).data('id'));\n      (0, _jquery2.default)(this).removeClass('operational-update--not-dismissed operational-update--displayed');\n    });\n\n    (0, _jquery2.default)('.operational-updates').hide();\n\n    var existingIds = this.store.get(KEY_OPERATIONAL_UPDATE, null, { json: false });\n\n    var newIds = typeof existingIds !== 'undefined' && existingIds != null ? existingIds + ID_SEPARATOR + idsToDismiss.join(ID_SEPARATOR) : idsToDismiss.join(ID_SEPARATOR);\n\n    this.store.set(KEY_OPERATIONAL_UPDATE, newIds);\n    this.publish('operational.update.close', { from: 'OPERATIONAL-UPDATE' });\n  };\n\n  /**\n   * Toggles the display of the expander (Show more/Show less) and the additional operational updates.\n   */\n\n\n  OperationalUpdateAlerts.prototype.toggleDisplayOperationalUpdates = function toggleDisplayOperationalUpdates(e) {\n    var $currentOpU = (0, _jquery2.default)(e.target).parents('.operational-update');\n    $currentOpU.siblings('.operational-update--not-dismissed').toggleClass('operational-update--displayed', !this.expanded);\n    $currentOpU.find('.operational-update__expander--closed').toggleClass('hidden', !this.expanded);\n    $currentOpU.find('.operational-update__expander--opened').toggleClass('hidden', this.expanded);\n\n    this.expanded = !this.expanded;\n    this.publish('operational.update.toggle', { from: 'OPERATIONAL-UPDATE' });\n  };\n\n  return OperationalUpdateAlerts;\n}(_component2.default);\n\nOperationalUpdateAlerts.selector = '.operational-updates';\nOperationalUpdateAlerts.events = {\n  'click .js-dismiss-operational-update': 'closeOperationalUpdate',\n  'click .js-expand-operational-updates': 'toggleDisplayOperationalUpdates'\n};\nexports.default = OperationalUpdateAlerts;\n\n//# sourceURL=webpack:///./src/components/operational-update-alerts/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/operational-update-alerts/operational-update-alerts.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasLocalStorage = hasLocalStorage;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GLOBAL = window;\nvar LOCAL_STORAGE = 'localStorage';\n\nvar LocalStorageProvider = function () {\n  function LocalStorageProvider() {\n    _classCallCheck(this, LocalStorageProvider);\n  }\n\n  LocalStorageProvider.prototype.setItem = function setItem(key, value) {\n    GLOBAL.localStorage.setItem(key, value);\n  };\n\n  LocalStorageProvider.prototype.getItem = function getItem(key) {\n    return GLOBAL.localStorage.getItem(key);\n  };\n\n  LocalStorageProvider.prototype.removeItem = function removeItem(key) {\n    GLOBAL.localStorage.removeItem(key);\n  };\n\n  LocalStorageProvider.prototype.getKeys = function getKeys() {\n    return Object.keys(GLOBAL.localStorage);\n  };\n\n  LocalStorageProvider.prototype.clearAll = function clearAll() {\n    GLOBAL.localStorage.clear();\n  };\n\n  return LocalStorageProvider;\n}();\n\nexports.default = LocalStorageProvider;\nfunction hasLocalStorage() {\n  var storage = GLOBAL[LOCAL_STORAGE],\n      x = '__storage_test__';\n  try {\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return e instanceof DOMException && (\n    // everything except Firefox.\n    e.code === 22 ||\n    // Firefox\n    e.code === 1014 ||\n    // test name field too, because code might not be present everything except Firefox.\n    e.name === 'QuotaExceededError' ||\n    // Firefox\n    e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n    // acknowledge QuotaExceededError only if there's something already stored.\n    storage.length !== 0;\n  }\n}\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/storage/providers/local-storage.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasCookies = hasCookies;\n\nvar _jsCookie = __webpack_require__(99);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_EXPIRY_DAYS = 30;\n\nvar CookieStorageProvider = function () {\n  function CookieStorageProvider() {\n    _classCallCheck(this, CookieStorageProvider);\n  }\n\n  CookieStorageProvider.prototype.setItem = function setItem(key, value) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\n    if (typeof options.expires === 'undefined') {\n      options.expires = DEFAULT_EXPIRY_DAYS;\n    }\n\n    _jsCookie2.default.set(key, value, options);\n  };\n\n  CookieStorageProvider.prototype.getItem = function getItem(key) {\n    return _jsCookie2.default.get(key);\n  };\n\n  CookieStorageProvider.prototype.removeItem = function removeItem(key) {\n    _jsCookie2.default.remove(key);\n  };\n\n  CookieStorageProvider.prototype.getKeys = function getKeys() {\n    return _jsCookie2.default.get();\n  };\n\n  CookieStorageProvider.prototype.clearAll = function clearAll() {\n    // Not implementing this, too risky to delete all cookies.\n  };\n\n  return CookieStorageProvider;\n}();\n\nexports.default = CookieStorageProvider;\nfunction hasCookies() {\n  var storage = new CookieStorageProvider();\n\n  try {\n    var TEST_KEY = '__storage_test__';\n    var TEST_VALUE = '1';\n    storage.setItem(TEST_KEY, TEST_VALUE);\n    var value = storage.getItem(TEST_KEY);\n    storage.removeItem(TEST_KEY);\n\n    return value === TEST_VALUE;\n  } catch (e) {\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./src/common/scripts/ui-helpers/storage/providers/cookie-storage.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(430);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Products component.\n * \n * @extends Component\n */\nvar ProductBlock = function (_Component) {\n  _inherits(ProductBlock, _Component);\n\n  function ProductBlock(el, $el) {\n    _classCallCheck(this, ProductBlock);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      isMobile: true,\n      activeClass: 'active'\n    };\n\n\n    _this.$el.find('.product-block__list-item .product-block__link').ready(function () {\n      _this.setDefaultActive();\n    });\n    return _this;\n  }\n\n  /**\n   * Find very first product in the list to make it expand by default.\n   */\n\n\n  ProductBlock.prototype.setDefaultActive = function setDefaultActive() {\n    var firstProductItem = 'ul.product-block__list a:first';\n\n    (0, _jquery2.default)(firstProductItem).addClass('block-is-active');\n\n    this.$el.find(firstProductItem).trigger('click');\n\n    // mouse events wouldn't fire from events object, defining here\n    (0, _jquery2.default)('.product-block').mouseenter(function () {\n      return (0, _jquery2.default)(firstProductItem).removeClass('block-is-active');\n    });\n    (0, _jquery2.default)('.product-block').mouseleave(function () {\n      return (0, _jquery2.default)(firstProductItem).addClass('block-is-active');\n    });\n  };\n\n  /**\n   * Returns boolean value if the provided URL is external.\n   * \n   * @param {string} $url URL address\n   * @return {boolean}\n   */\n\n\n  ProductBlock.prototype.isExternalUrl = function isExternalUrl($url) {\n    if ($url) {\n      var re = new RegExp('^(http|https):\\/\\/', 'i');\n      var match = re.test($url);\n      return match;\n    }\n  };\n\n  /**\n   * Update options to indicate that current view is not mobile.\n   */\n\n\n  ProductBlock.prototype.respondToMedium = function respondToMedium() {\n    this.options.isMobile = false;\n  };\n\n  /**\n   * Update options to indicate that current view is mobile.\n   */\n\n\n  ProductBlock.prototype.respondToMobile = function respondToMobile() {\n    this.options.isMobile = true;\n  };\n\n  return ProductBlock;\n}(_component2.default);\n\nProductBlock.selector = '.product-block';\nProductBlock.events = {\n  'breakpoint.medium': 'respondToMedium',\n  'breakpoint.mobile': 'respondToMobile'\n};\nexports.default = ProductBlock;\n\n//# sourceURL=webpack:///./src/components/ancillary-products/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/ancillary-products/ancillary-products.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(432);\n\nvar _jsCookie = __webpack_require__(99);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nvar _analytics = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Cookie component.\n * \n * @extends Component\n */\nvar Cookie = function (_Component) {\n  _inherits(Cookie, _Component);\n\n  function Cookie(el, $el) {\n    _classCallCheck(this, Cookie);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      cookieName: 'ekCookieBar',\n      cookiePolicyVersion: _this.$el.data('cookieValue'),\n      cookieExpirationDate: _this.$el.data('cookieExpiry')\n    };\n    var _this$options = _this.options,\n        cookieName = _this$options.cookieName,\n        cookiePolicyVersion = _this$options.cookiePolicyVersion;\n\n    var acceptedCookiePolicyVersion = _jsCookie2.default.get(cookieName);\n\n    if (!acceptedCookiePolicyVersion || acceptedCookiePolicyVersion < cookiePolicyVersion) {\n      _jsCookie2.default.remove(cookieName);\n      _this.$el.addClass('show');\n      document.body.style.paddingBottom = _this.$el.height() + 'px';\n    }\n    return _this;\n  }\n\n  /**\n   * Handle dismissing the cookie.\n   */\n\n\n  Cookie.prototype.dismissCookiePolicy = function dismissCookiePolicy() {\n    this.pushAnalyticsData();\n    var _options = this.options,\n        cookieName = _options.cookieName,\n        cookiePolicyVersion = _options.cookiePolicyVersion,\n        cookieExpirationDate = _options.cookieExpirationDate;\n\n\n    try {\n      _jsCookie2.default.set(cookieName, cookiePolicyVersion, { expires: cookieExpirationDate });\n    } catch (err) {\n      console.error(err);\n    }\n    document.body.style.paddingBottom = 0;\n    this.$el.removeClass('show');\n    this.publish('cookie.policy.close', { from: 'COOKIE-POLICY' });\n  };\n\n  /**\n   * Trigger action to Google Analytics.\n   */\n\n\n  Cookie.prototype.pushAnalyticsData = function pushAnalyticsData() {\n    var eventData = {\n      event: 'EventTrigger.Common_pageBodyWidget_CTAClick',\n      category: 'Page Body Interaction',\n      action: 'CTA Clicked',\n      label: 'Cookie Bar:OK'\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  return Cookie;\n}(_component2.default);\n\nCookie.selector = '.js-cookie';\nCookie.events = {\n  'click .js-dismissPolicy': 'dismissCookiePolicy'\n};\nexports.default = Cookie;\n\n//# sourceURL=webpack:///./src/components/cookie-policy/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/cookie-policy/cookie-policy.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\n__webpack_require__(434);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _debounce = __webpack_require__(35);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _reduce = __webpack_require__(87);\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nvar _includes = __webpack_require__(39);\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _airports = __webpack_require__(17);\n\nvar _utils = __webpack_require__(5);\n\nvar _store = __webpack_require__(62);\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _isotopeLayout = __webpack_require__(435);\n\nvar _isotopeLayout2 = _interopRequireDefault(_isotopeLayout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\nvar DEFAULT_STORAGE_PREFIX = 'EK:';\nvar KEY_FEATURED_FARES = window.__EK__.urlparser.country + ':featured-fares';\n\n/**\n * Class representing Featured Fares component.\n * \n * @extends Component\n */\n\nvar FeaturedFares = function (_Component) {\n  _inherits(FeaturedFares, _Component);\n\n  function FeaturedFares(el, $el) {\n    _classCallCheck(this, FeaturedFares);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      setFareHeightDebounceDelay: 500\n    };\n\n    _this.$window = (0, _jquery2.default)(window);\n    _this.$jsOffHeading = _this.$el.find('.js-ff-heading');\n    _this.defaultAirport = null;\n    _this.store = new _store2.default({ prefix: DEFAULT_STORAGE_PREFIX, type: _store2.default.getStorageTypes().LOCAL_STORAGE });\n    var featuredFares = _this.$el.find('.featured-fares__list');\n    if (featuredFares.length > 0) {\n      _this.featuredFaresGrid = featuredFares[0];\n      _this.defaultAirport = _this.featuredFaresGrid.getAttribute('data-default-airport');\n    }\n\n    // Get all airports and closest origin based on geo location of the user.\n    Promise.all([(0, _airports.getAirports)(), (0, _airports.getClosestOrigin)().catch(function () {\n      return [];\n    })] // Return empty array if get closest origin API call fails.\n    ).then(function (_ref) {\n      var airportsByIataCode = _ref[0].airportsByIataCode,\n          closestAirport = _ref[1];\n\n      _this.setup(airportsByIataCode, closestAirport.iataCode);\n      _this.initialize(airportsByIataCode);\n    });\n\n    _this.formatFaresForTerms();\n    _this.setFareHeight();\n    _this.$window.resize((0, _debounce2.default)(function () {\n      return _this.setFareHeight();\n    }, _this.options.setFareHeightDebounceDelay));\n\n    _this.bindImagesLoadListener();\n    return _this;\n  }\n\n  /**\n   * Attaches event listener to trigger layout update when images are loaded.\n   */\n\n\n  FeaturedFares.prototype.bindImagesLoadListener = function bindImagesLoadListener() {\n    var _this2 = this;\n\n    this.$el.find('.js-ff-card-img').on('load', function () {\n      return _this2.refreshIsotopeLayout();\n    });\n  };\n\n  /**\n   * Initial setup.\n   * \n   * @param {object} airportsByIataCode the map of airports indexed by `iataCode`\n   * @param {string} closestAirportIataCode the closest airport IATA code\n   */\n\n\n  FeaturedFares.prototype.setup = function setup(airportsByIataCode) {\n    var closestAirportIataCode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    var faresSets = this.$el.find('.featured-fares__list-item');\n    if (faresSets.length === 0) {\n      (0, _jquery2.default)(this.$el).remove();\n      return;\n    }\n\n    this.filterAirports(faresSets);\n\n    // Set closest airport if featured fares are available.\n    var closestAirportWithFeaturedFares = null;\n    if (closestAirportIataCode && this.isFeaturedFaresAvailable(closestAirportIataCode)) {\n      closestAirportWithFeaturedFares = closestAirportIataCode;\n    }\n\n    // After airport filtering, \n    // If drop down items are 0 then, \n    //   - remove the header and not injecting airport details\n    // else\n    //   - inject airport details\n    //   - If drop down items length is one \n    //      - remove the dropdown  - dropdown not necessary for single airport\n    //      - update available airport title with header label last\n    var $dropdownItem = this.$el.find('.js-dropdown-select-item');\n    var firstAirportItem = undefined;\n    if ($dropdownItem.length === 0) {\n      this.$jsOffHeading.remove();\n    } else {\n      this.injectAirportDetails(airportsByIataCode);\n      firstAirportItem = $dropdownItem.first().data('dropdown-id');\n      if ($dropdownItem.length === 1) {\n        // If airport dropdown has one item, then display the title as airport title\n        this.$el.find('.js-ff-label-last').html($dropdownItem.data('dropdownDisplay'));\n        // Remove dropdown item\n        this.$el.find('.featured-fares__destination__locations').remove();\n      }\n    }\n\n    if (this.featuredFaresGrid) {\n      this.defaultAirport = closestAirportWithFeaturedFares || this.defaultAirport;\n      // count of featured fare for default airport\n      var defaultAirportFaresCount = this.$el.find('[data-departure=\"' + this.defaultAirport + '\"]').length;\n\n      // If featured fares are zero for defaultAirport, then consider first item from dropdown as default airport\n      if (defaultAirportFaresCount === 0) {\n        this.defaultAirport = firstAirportItem ? firstAirportItem : this.defaultAirport;\n      }\n      this.publish('featuredFaresCity.select', { airportsByIataCode: airportsByIataCode, iataCode: this.defaultAirport });\n      this.initializeIsotope();\n      this.updateFares(null, this.defaultAirport);\n    }\n  };\n\n  /**\n   * Initial kickoff.\n   * \n   * @param {object} airportsByIataCode the map of airports indexed by `iataCode`\n   */\n\n\n  FeaturedFares.prototype.initialize = function initialize(airportsByIataCode) {\n    var dropdownId = this.store.get(KEY_FEATURED_FARES);\n    if (dropdownId) {\n      var $airports = this.$el.find('.js-dropdown-select-item');\n      for (var i = 0; i < $airports.length; i++) {\n        if (dropdownId === (0, _jquery2.default)($airports[i]).data('dropdownId')) {\n          this.publish('featuredFaresCity.select', { airportsByIataCode: airportsByIataCode, iataCode: dropdownId });\n          this.updateFares(null, dropdownId);\n          break;\n        }\n      }\n    }\n  };\n\n  /**\n   * Initialize isotope.\n   */\n\n\n  FeaturedFares.prototype.initializeIsotope = function initializeIsotope() {\n    this.isotope = new _isotopeLayout2.default('.featured-fares__list', {\n      filter: '[data-departure=\"' + this.defaultAirport + '\"]',\n      itemSelector: '.featured-fares__list-item',\n      layoutMode: 'fitRows'\n    });\n  };\n\n  /**\n   * Checks if featured fares are available for an airport.\n   * \n   * @param {string} airportIataCode the airport IATA code\n   * @return {boolean}\n   */\n\n\n  FeaturedFares.prototype.isFeaturedFaresAvailable = function isFeaturedFaresAvailable(airportIataCode) {\n    var featuredFareAirports = this.$el.find('.js-dropdown-select-item').map(function (i, el) {\n      return (0, _jquery2.default)(el).data('dropdownId');\n    }).get();\n    return (0, _includes2.default)(featuredFareAirports, airportIataCode);\n  };\n\n  /**\n   * Removes airports not available in the DOM list.\n   * \n   * @param {JQuery} faresSets jQuery object that represents a list of DOM elements\n   */\n\n\n  FeaturedFares.prototype.filterAirports = function filterAirports(faresSets) {\n    var $airports = this.$el.find('.js-dropdown-select-item');\n    for (var i = 0; i < $airports.length; i++) {\n      // airports with less than 2 featured destinations/ fares will not be displayed in the drop down.\n      if ((0, _jquery2.default)(faresSets).filter('[data-departure=\"' + (0, _jquery2.default)($airports[i]).data('dropdownId') + '\"]').length < 2) {\n        (0, _jquery2.default)($airports[i]).remove();\n      }\n    }\n  };\n\n  /**\n   * Inject some airport details to dropdown DOM element.\n   * Due to performance issues the airport list is not available on the back-end side any more,\n   * therefore we use the list on the front-end side to inject airport details based on IATA code.\n   * \n   * @param {object} airportsByIataCode the map of airports indexed by `iataCode`\n   */\n\n\n  FeaturedFares.prototype.injectAirportDetails = function injectAirportDetails(airportsByIataCode) {\n    var $airports = this.$el.find('.js-dropdown-select-item');\n    $airports.each(function (i, el) {\n      var airportCode = (0, _jquery2.default)(el).data('dropdownId');\n      var airportDetails = airportsByIataCode[airportCode];\n      if (!airportDetails) {\n        return;\n      }\n      (0, _jquery2.default)(el).find('.js-airport-name').text(airportDetails.longName);\n      // wrapping with span to match styles\n      (0, _jquery2.default)(el).find('.js-airport-city').wrapInner('<span>').append(', ' + airportDetails.country.shortName);\n\n      (0, _jquery2.default)(el).find('.js-select-body').attr('aria-label', airportDetails.longName + ' (' + airportCode + '), ' + airportDetails.shortName + ', ' + airportDetails.country.shortName);\n    });\n  };\n\n  /**\n   * Update the accessiblity tags\n   * \n   */\n\n\n  FeaturedFares.prototype.updateAccessibilityTags = function updateAccessibilityTags(elm) {\n    //Change the is aria-label of the featured-fares dropdown when new value is seleced\n    //EM-7901: Announce selected value in the dropdown and also announced if the dropdown is collapsed or expaned\n    var anchorFeatureFaresEl = elm.find('a.cta--destinations');\n\n    if (anchorFeatureFaresEl && anchorFeatureFaresEl.length) {\n      var previousAriaValueArr = anchorFeatureFaresEl[0].getAttribute('aria-label').split(\"from\");\n      var latestLabel = anchorFeatureFaresEl.find('.cta__text') && anchorFeatureFaresEl.find('.cta__text').text();\n      previousAriaValueArr[1] = latestLabel;\n      anchorFeatureFaresEl[0].setAttribute(\"aria-label\", previousAriaValueArr.join(\"from \"));\n\n      //Set button status text to empty after selection so that it can announce the description\n      var $isFeaturedFaresExpandedCollapsedEl = elm.find('.should-expand-collapse-announce').length ? elm.find('.should-expand-collapse-announce')[0] : null;\n\n      if ($isFeaturedFaresExpandedCollapsedEl && $isFeaturedFaresExpandedCollapsedEl.hasAttribute(\"aria-live\")) {\n        $isFeaturedFaresExpandedCollapsedEl.setAttribute(\"aria-label\", \"\");\n      }\n\n      //Async Set button status text to collapsed so that it can announce later.\n      setTimeout(function () {\n        if ($isFeaturedFaresExpandedCollapsedEl && $isFeaturedFaresExpandedCollapsedEl.hasAttribute(\"aria-live\")) {\n          var val = window.__EK__.resources && window.__EK__.resources['Common/Accessibility/collapsed__text'] ? window.__EK__.resources['Common/Accessibility/collapsed__text'] : '';\n\n          $isFeaturedFaresExpandedCollapsedEl.setAttribute(\"aria-label\", val);\n        }\n      }, 0);\n    }\n  };\n\n  /**\n   * Update DOM with correct destinations.\n   * \n   * @param {Event} e Mouse click event\n   * @param {number} dropdownId Dropdown ID\n   */\n\n\n  FeaturedFares.prototype.updateFares = function updateFares(e) {\n    var dropdownId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    this.unlockBody();\n    if (!dropdownId) {\n      dropdownId = e.currentTarget.getAttribute('data-dropdown-id');\n    }\n    this.store.set(KEY_FEATURED_FARES, dropdownId);\n    this.isotope.arrange({\n      filter: '[data-departure=\"' + dropdownId + '\"]'\n    });\n    this.refreshIsotopeLayout();\n    (0, _utils.updateLazyLoad)();\n\n    this.updateAccessibilityTags(this.$el);\n  };\n\n  /**\n   * Trigger isotope to update layout.\n   */\n\n\n  FeaturedFares.prototype.refreshIsotopeLayout = function refreshIsotopeLayout() {\n    if (this.featuredFaresGrid) {\n      this.isotope && this.isotope.layout();\n    }\n  };\n\n  /**\n   * Update DOM with correct term details.\n   */\n\n\n  FeaturedFares.prototype.formatFaresForTerms = function formatFaresForTerms() {\n    var shouldDisplayTerms = __EK__.resources['BookManage/Featured-Fares/terms-conditions-display__text'];\n    if (shouldDisplayTerms && shouldDisplayTerms === 'false') {\n      var collection = this.$el.find('.featured-fares__list-item');\n      collection.each(function (index, item) {\n        var target = (0, _jquery2.default)(item).find('.city-card__price');\n        var text = target.text();\n        target.text(text.replace('*', ''));\n      });\n    }\n  };\n\n  /**\n   * Unlocks page body.\n   */\n\n\n  FeaturedFares.prototype.unlockBody = function unlockBody() {\n    (0, _utils.lockBody)(false);\n  };\n\n  /**\n   * Sets height of each block to be same (simulating flexbox).\n  */\n\n\n  FeaturedFares.prototype.setFareHeight = function setFareHeight() {\n    var pageWidth = (0, _utils.getBreakpoint)('medium');\n    var $elems = this.$el.find('.js-city-card-details-wrapper');\n\n    $elems.height('');\n\n    if (this.$window.width() > pageWidth) {\n      var maxHeight = (0, _reduce2.default)($elems, function (maxHeight, elem) {\n        var height = (0, _jquery2.default)(elem).height();\n        if (height > maxHeight) {\n          return height;\n        }\n        return maxHeight;\n      }, 0);\n\n      $elems.height(maxHeight);\n    }\n  };\n\n  return FeaturedFares;\n}(_component2.default);\n\nFeaturedFares.selector = '.js-featured-fares';\nFeaturedFares.events = {\n  'click .js-dropdown-select-item': 'updateFares',\n  'click .js-dropdown-back': 'unlockBody'\n};\nexports.default = FeaturedFares;\n\n//# sourceURL=webpack:///./src/components/featured-fares/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/featured-fares/featured-fares.scss?")},,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(443);\n\n//# sourceURL=webpack:///./src/components/browser-incompatibility-alert/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/browser-incompatibility-alert/browser-incompatibility-alert.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\n__webpack_require__(445);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _throttle = __webpack_require__(56);\n\nvar _throttle2 = _interopRequireDefault(_throttle);\n\nvar _forOwn = __webpack_require__(446);\n\nvar _forOwn2 = _interopRequireDefault(_forOwn);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _includes = __webpack_require__(39);\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _find = __webpack_require__(32);\n\nvar _find2 = _interopRequireDefault(_find);\n\nvar _assign = __webpack_require__(14);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _searchUtils = __webpack_require__(447);\n\nvar utils = _interopRequireWildcard(_searchUtils);\n\nvar _utils = __webpack_require__(5);\n\nvar _airports = __webpack_require__(17);\n\nvar _analytics = __webpack_require__(13);\n\nvar _config = __webpack_require__(23);\n\nvar _store = __webpack_require__(62);\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__, location, Boxever, fetch */\n\nvar TRUE = true;\nvar KEY_RECENT_SEARCH = "ps"; // Taken from the existing Emirates Site Cookie, which is used to store recent search.\nvar BOOKING_REDIRECT_COUNTRY_LIST_CONFIG = (0, _config.getConfig)("EK_BOOKING_REDIRECT_COUNTRY_LIST"); //booking redirect notification country list\nvar COUNTRY_SELECTED = (0, _config.getConfig)("country");\n\n/**\n * Class representing Search Flight component.\n *\n * @extends Component\n */\n\nvar SearchFlight = function (_Component) {\n  _inherits(SearchFlight, _Component);\n\n  function SearchFlight(el, $el) {\n    _classCallCheck(this, SearchFlight);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      outage: false\n    };\n\n\n    _this.store = new _store2.default({ type: _store2.default.getStorageTypes().COOKIE }); // Initialize the Cookie Store.\n    _this.refs = {\n      adults: "adults",\n      OFW: "OFW",\n      teenagers: "teenagers",\n      children: "children",\n      infants: "infants"\n    };\n\n    _this.state = {\n      flightClass: "economy",\n      flightClassMaxPassengers: utils.maxPassengersForClass(),\n      origin: null,\n      destination: null,\n      departureDate: null,\n      returnDate: null,\n      isReturn: true,\n      seats: {\n        adults: 0,\n        OFW: 0,\n        teenagers: 0,\n        children: 0,\n        infants: 0\n      },\n      isReward: false\n    };\n\n    _this.passengerAdvice = _this.$el.find(".passenger__information-text");\n    _this.options.outage = _this.$el.hasClass("js-outage");\n    _this.$errorWrapper = _this.$el.find(".error-wrapper");\n    _this.$errorFieldCollection = _this.$el.find(".js-field-input,.textfield__controls");\n    _this.$departAirport = _this.$el.find(\'input[name="Departure airport"]\');\n    _this.$arrivalAirport = _this.$el.find(\'input[name="Arrival airport"]\');\n    _this.$searchFlightDate = _this.$el.find(".textfield__controls");\n    _this.$errorSummary = _this.$el.find(".js-error-summary");\n    _this.$errorMessages = _this.$el.find(".js-error-message");\n    _this.$bookingNotification = _this.$el.find(".js-notification-block");\n    _this.$notificationTextWrapper = _this.$bookingNotification.find("span");\n    _this.$dateField = _this.$el.find("eol-datefield");\n    _this.$calendar = _this.$el.find("eol-calendar");\n    _this.$flightDepartInput = _this.$el.find(".textfield__input--start");\n    _this.$continueFocus = _this.$el.find(".js-continue-focus");\n    _this.$destAirportInput = _this.$el.find("[data-data-type=\\"destinations\\"]").find(".field__input");\n    var classChoice = _this.$el.find(".class-dropdown").find("[data-dropdown-id=\\"0\\"]");\n    classChoice.trigger("click");\n\n    // Avoid multiple renderings and selectings by waiting for the whole data to be\n    // retrieved.\n    Promise.all([(0, _airports.getOrigins)(), (0, _airports.getClosestOrigin)().catch(function () {\n      return [];\n    }) // Returning empty list in case Closest API is failing.\n    ])\n    // Transform data to match with the template structure.\n    .then(function (_ref) {\n      var origins = _ref[0],\n          closest = _ref[1];\n\n      var recentSearchCookie = _this.getRecentSearchCookieValue();\n      var preselectFirstOption = closest && closest.iataCode;\n      if (recentSearchCookie && recentSearchCookie.From) {\n        // No need to preselect with current location or first airport.\n        // Recent Search Cookie will be used to populate the airport dropdowns.\n        preselectFirstOption = false;\n      }\n      return {\n        items: origins,\n        closest: closest,\n        preselectFirstOption: closest && closest.iataCode,\n        preselectFirstOptionSearchFlight: preselectFirstOption\n      };\n    })\n    // Publish the retrieved data.\n    .then(function (data) {\n      return _this.publish("origin-flight.refresh", data);\n    });\n\n    (0, _airports.getAirports)().then(function (_ref2) {\n      var airportsByIataCode = _ref2.airportsByIataCode;\n\n      _this.airportsByIataCodeCache = airportsByIataCode;\n      _this.initStateFromLocalStore(airportsByIataCode);\n      _this.initBoxever(airportsByIataCode);\n    });\n\n    // Fix latest search for Safari when navigating using back button\n    (0, _jquery2.default)(window).on("pageshow.search-flight", function (e) {\n      if (!e.originalEvent.persisted || !_this.airportsByIataCodeCache) {\n        return;\n      }\n      _this.initStateFromLocalStore(_this.airportsByIataCodeCache);\n    });\n\n    // XXX: this seems to be a code smell.\n\n    var _queryStringParams = (0, _utils.queryStringParams)(),\n        login = _queryStringParams.login;\n\n    if (login) _this.$el.find(".js-login-link").trigger("click");\n    return _this;\n  }\n\n  /**\n   * Handles data validation and triggers search submittion.\n   *\n   * @param {Event} [recentSearch]\n   * @todo Improve validity to avoid double validation, as currently it is called here and again in handleSubmission.\n   * @todo Improve form value update to be called only on submit, as currently it is called each time we make any change to any field.\n   */\n\n\n  SearchFlight.prototype.action = function action(recentSearch) {\n    var validity = utils.validate(this.state);\n    this.publish("search-flight.update", {\n      validity: validity,\n      data: this.state,\n      refs: this.refs,\n      recentSearch: recentSearch\n    });\n    this.setFormValues();\n    this.handleSubmission();\n  };\n\n  /**\n   * Updates state and triggers action when user performs one-way flight search.\n   *\n   * @param {Event} e\n   */\n\n\n  SearchFlight.prototype.handleOneWay = function handleOneWay(e) {\n    var returnError = this.$el.find(".js-return");\n    this.state.returnDate = null;\n    this.state.isReturn = !e.currentTarget.checked;\n    returnError.hide();\n    if (!this.state.isReturn && this.state.departureDate) {\n      this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.contains(\'error-highlighter\') && this.$searchFlightDate[0].classList.remove(\'error-highlighter\');\n    }\n    this.action();\n  };\n\n  /**\n   * Updates state to indicate that user selected Classic Rewards and updates flight list to filter based on that criteria.\n   *\n   * @param {Event} event\n   */\n\n\n  SearchFlight.prototype.rewardsHandler = function rewardsHandler(event) {\n    var isReward = event.target.checked;\n    this.state.isReward = isReward;\n    // There may be no origin selected.\n    this.updateOriginsDestinations();\n    this.action(event);\n  };\n\n  /**\n   * Gets destinations list and updated DOM with the result.\n   *\n   * @param {boolean} focusDestinations\n   */\n\n\n  SearchFlight.prototype.updateOriginsDestinations = function updateOriginsDestinations() {\n    var _this2 = this;\n\n    var focusDestinations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    return (0, _airports.getOrigins)(this.state.isReward).then(function (origins) {\n      //Populate origins dropdown with origins filtered by redeem and clear it if the selected one is not available.\n      _this2.publish("origin-flight.refresh", {\n        items: origins,\n        preselectFirstOption: false\n      });\n      var originIataCode = (0, _get2.default)(_this2, "state.origin.iataCode", "");\n      var clearDestination = !(0, _find2.default)(origins, function (origin) {\n        return origin.iataCode === originIataCode;\n      });\n      //If the origin is going to be cleared then we should filter destinations by no `iataCode`.\n      var iataCodeValue = clearDestination ? "" : originIataCode;\n      (0, _airports.getDestinations)(iataCodeValue, _this2.state.isReward).then(function (destinations) {\n        _this2.publish("destinations.loaded", {\n          destinations: destinations,\n          focusDestinations: focusDestinations,\n          clearDestination: clearDestination,\n          section: "flight"\n        });\n      });\n    });\n  };\n\n  /**\n   * Validates selected dates and updates calendar.\n   */\n\n\n  SearchFlight.prototype.updateCalendarDates = function updateCalendarDates() {\n    var isDepartureDate = false;\n    if (this.state.departureDate && this.state.departureDate >= this.$dateField[0].calendar.firstActiveDate) {\n      this.$dateField[0].initialStartDate = this.state.departureDate;\n      this.$dateField[0].$inputStart.closest(".textfield__date").toggleClass("textfield__date--active", true);\n      this.$calendar[0].currentMonth = this.state.departureDate.getMonth();\n      this.$calendar[0].currentYear = this.state.departureDate.getFullYear();\n      isDepartureDate = true;\n    }\n    if (this.state.returnDate && this.state.returnDate >= this.$dateField[0].calendar.firstActiveDate) {\n      this.$dateField[0].initialEndDate = this.state.returnDate;\n      this.$dateField[0].$inputEnd.closest(".textfield__date").toggleClass("textfield__date--active", true);\n    } else if (isDepartureDate) {\n      this.$dateField[0].type = 1;\n    }\n    if (this.state.flexible_dates > 0) {\n      this.$dateField[0].flexible = true;\n    }\n  };\n\n  /**\n   * Triggers destinations list update.\n   *\n   * @param {string} eventName\n   * @param {object} details\n   */\n\n\n  SearchFlight.prototype.originSelectedHandler = function originSelectedHandler(eventName, details) {\n    var iataCode = details.iataCode,\n        focusDestinations = details.focusDestinations,\n        originCountry = details.originCountry;\n    // Add no origin logic\n\n    if (BOOKING_REDIRECT_COUNTRY_LIST_CONFIG) {\n      this.updateBookingNotification(originCountry);\n    }\n    this.updateDestinations(iataCode, focusDestinations);\n  };\n\n  /**\n   * Gets destinations based on provided criteria and publish results.\n   *\n   * @param {string} iataCode\n   * @param {*} focusDestinations\n   */\n\n\n  SearchFlight.prototype.updateDestinations = function updateDestinations(iataCode, focusDestinations) {\n    var _this3 = this;\n\n    return (0, _airports.getDestinations)(iataCode, this.state.isReward).then(function (destinations) {\n      _this3.publish("destinations.loaded", {\n        destinations: destinations,\n        focusDestinations: focusDestinations,\n        iataCode: iataCode,\n        section: "flight"\n      });\n    });\n  };\n\n  /**\n   * Updates state and triggers next action.\n   *\n   * @param {string} event Event name\n   * @param {Object} obj Data object to destruct\n   * @param {string} obj.type Search type\n   * @param {object} obj.value\n   * @param {*} obj.display\n   * @param {*} obj.section\n   */\n\n\n  SearchFlight.prototype.searchSelection = function searchSelection(event, _ref3) {\n    var _this4 = this;\n\n    var type = _ref3.type,\n        value = _ref3.value,\n        display = _ref3.display,\n        section = _ref3.section;\n\n    var originError = this.$el.find(".js-origin");\n    var destinationError = this.$el.find(".js-destination");\n    if (type) {\n      if (type === "origin" || type === "destination") {\n        if (value && value.iataCode) {\n          this.state[type] = value;\n          if (type === \'origin\') {\n            this.$departAirport && this.$departAirport[0] && this.$departAirport[0].classList.contains(\'error-highlighter\') && this.$departAirport[0].classList.remove(\'error-highlighter\');\n            originError.hide();\n          }\n          if (type === \'destination\') {\n            this.$arrivalAirport && this.$arrivalAirport[0] && this.$arrivalAirport[0].classList.contains(\'error-highlighter\') && this.$arrivalAirport[0].classList.remove(\'error-highlighter\');\n            this.continueSearchFlight();\n            this.$flightDepartInput.focus();\n            destinationError.hide();\n          }\n        } else if (!value || value === "") {\n          this.state[type] = null;\n        }\n      }\n      if (type === "from") this.state.departureDate = value;\n      if (type === "to") this.state.returnDate = value;\n    }\n\n    if (section === "class-flight") {\n      this.state.flightClass = utils.toFlightClassText(value);\n      this.state.flightClassMaxPassengers = utils.maxPassengersForClass(this.state.flightClass);\n      this.setPassengerAdvice();\n    }\n    this.removeOuterErrorBox();\n    var fn = (0, _throttle2.default)(function () {\n      return _this4.action();\n    }, 250);\n    fn();\n  };\n  /**\n   * Remove outer error box layout\n   */\n\n\n  SearchFlight.prototype.removeOuterErrorBox = function removeOuterErrorBox() {\n    var originError = this.$el.find(".js-origin");\n    var destinationError = this.$el.find(".js-destination");\n    var departureError = this.$el.find(".js-departure");\n    var returnError = this.$el.find(".js-return");\n\n    if (!destinationError.is(":visible") && !originError.is(":visible") && !departureError.is(":visible") && !returnError.is(":visible")) {\n      if (this.$errorWrapper && this.$errorWrapper[0] && this.$errorWrapper[0].classList.contains(\'visible\')) {\n        this.$errorWrapper[0].classList.remove(\'visible\');\n      }\n    }\n  };\n  /**\n   * Updates state and triggers next action.\n   *\n   * @param {string} event Event name\n   * @param {Object} obj Data object to destruct\n   * @param {object} obj.origins List of origins\n   * @param {object} obj.item Search details\n   */\n\n\n  SearchFlight.prototype.recentSearchSelection = function recentSearchSelection(event, _ref4) {\n    var origins = _ref4.origins,\n        item = _ref4.item;\n\n    var originError = this.$el.find(".js-origin");\n    var destinationError = this.$el.find(".js-destination");\n    var departureError = this.$el.find(".js-departure");\n    var returnError = this.$el.find(".js-return");\n    this.state.origin = item.origin;\n    this.state.destination = item.destination;\n    this.state.departureDate = new Date(item.depart_date);\n    this.state.returnDate = item.return_date ? new Date(item.return_date) : null;\n    this.state.isReturn = item.return_date ? true : false;\n    this.state.flightClass = item.booking_class.toLowerCase();\n    this.state.flightClassMaxPassengers = utils.maxPassengersForClass(item.booking_class.toLowerCase());\n    this.state.flexible_dates = item.flexible_dates;\n    this.state.seats = {\n      adults: +item.adults || 0,\n      OFW: +item.OFW || 0,\n      children: +item.children || 0,\n      infants: +item.infants || 0,\n      teenagers: +item.youths || 0\n    };\n\n    var $oneWayCheckbox = this.$el.find(".control__one-way");\n    if (!this.state.isReturn) {\n      $oneWayCheckbox.attr("checked", "checked");\n    } else {\n      $oneWayCheckbox.removeAttr("checked");\n    }\n\n    var originDisplay = item.origin.city.longName + " (" + item.origin.iataCode + ")";\n    var originValue = item.origin.iataCode;\n    var destinationDisplay = item.destination.city.longName + " (" + item.destination.iataCode + ")";\n    var destinationValue = item.destination.iataCode;\n\n    this.publish("recent.search.origin", {\n      origins: origins,\n      display: originDisplay,\n      value: originValue\n    });\n    this.publish("recent.search.destination", {\n      display: destinationDisplay,\n      value: destinationValue\n    });\n    this.updateOriginsDestinations();\n    this.updateCalendarDates();\n\n    var classChoice = this.$el.find(".class-dropdown").find("[data-dropdown-id=\\"" + utils.toFlightClassValue(this.state.flightClass) + "\\"]");\n    classChoice.trigger("click");\n\n    this.continueSearchFlight();\n    this.action("recent_search");\n\n    if (item.origin) {\n      this.$departAirport && this.$departAirport[0] && this.$departAirport[0].classList.contains(\'error-highlighter\') && this.$departAirport[0].classList.remove(\'error-highlighter\');\n      originError.hide();\n    }\n\n    if (item.destination) {\n      this.$arrivalAirport && this.$arrivalAirport[0] && this.$arrivalAirport[0].classList.contains(\'error-highlighter\') && this.$arrivalAirport[0].classList.remove(\'error-highlighter\');\n      destinationError.hide();\n    }\n\n    if (!this.state.isReturn) {\n      this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.contains(\'error-highlighter\') && this.$searchFlightDate[0].classList.remove(\'error-highlighter\');\n      departureError.hide();\n      returnError.hide();\n    } else if (this.state.departureDate) {\n      departureError.hide();\n    }\n    if (this.state.returnDate && this.state.departureDate) {\n      this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.contains(\'error-highlighter\') && this.$searchFlightDate[0].classList.remove(\'error-highlighter\');\n      returnError.hide();\n    }\n    this.removeOuterErrorBox();\n  };\n\n  /**\n   * Updates state with new departure and return date, and triggers DOM form update.\n   *\n   * @param {Event} e\n   */\n\n  SearchFlight.prototype.handleStartDateSelection = function handleStartDateSelection(e) {\n    var departureError = this.$el.find(".js-departure");\n    var returnError = this.$el.find(".js-return");\n    this.state.departureDate = e.detail;\n    this.state.returnDate = this.$calendar[0].arrivalDate;\n    if (!this.state.isReturn) {\n      this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.contains(\'error-highlighter\') && this.$searchFlightDate[0].classList.remove(\'error-highlighter\');\n      departureError.hide();\n      returnError.hide();\n    } else if (this.state.departureDate && this.state.returnDate) {\n      this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.contains(\'error-highlighter\') && this.$searchFlightDate[0].classList.remove(\'error-highlighter\');\n      departureError.hide();\n      returnError.hide();\n    } else if (this.state.departureDate) {\n      departureError.hide();\n    }\n    this.setFormValues();\n    this.removeOuterErrorBox();\n  };\n\n  /**\n   * Updates state with new return date, and triggers DOM form update.\n   *\n   * @param {Event} e\n   */\n\n  SearchFlight.prototype.handleEndDateSelection = function handleEndDateSelection(e) {\n    var returnError = this.$el.find(".js-return");\n    this.state.returnDate = e.detail;\n    if (this.state.returnDate && this.state.departureDate) {\n      this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.contains(\'error-highlighter\') && this.$searchFlightDate[0].classList.remove(\'error-highlighter\');\n      returnError.hide();\n    } else if (this.state.returnDate) {\n      returnError.hide();\n    }\n    this.setFormValues();\n    this.removeOuterErrorBox();\n    this.publish(\'calendar.update\', {\n      data: this.state,\n      refs: this.refs\n    });\n  };\n\n  /**\n   * Updates state with passengers number.\n   *\n   * @param {object} obj Data object\n   * @param {string} obj.type\n   * @param {string} obj.value\n   */\n\n\n  SearchFlight.prototype.assembleSelectedSeats = function assembleSelectedSeats(_ref5) {\n    var _this5 = this;\n\n    var type = _ref5.type,\n        value = _ref5.value;\n\n    (0, _forOwn2.default)(this.refs, function (v, k) {\n      if (v === type) _this5.state.seats[k] = value;\n    });\n    this.action();\n  };\n\n  /**\n   * Triggers state update for passengers number.\n   *\n   * @param {Event} event\n   * @param {object} data\n   */\n\n\n  SearchFlight.prototype.handlePassengerChange = function handlePassengerChange(event, data) {\n    this.assembleSelectedSeats(data);\n  };\n\n  /**\n   * Expands search form inputs to reveals all details.\n   */\n\n\n  SearchFlight.prototype.continueSearchFlight = function continueSearchFlight() {\n    this.$el.addClass("search-flight--continue");\n    this.$continueFocus.focus();\n  };\n\n  /**\n   * Triggers custom event to open login modal window.\n   */\n\n\n  SearchFlight.prototype.triggerLogin = function triggerLogin() {\n    (0, _jquery2.default)(".main-navigation").trigger("openLogin");\n  };\n\n  /**\n   * Updates DOM content to display passenger message.\n   */\n\n\n  SearchFlight.prototype.setPassengerAdvice = function setPassengerAdvice() {\n    var text = this.passengerAdvice[0].innerText;\n    var n = parseInt(text.replace(/[^0-9.]/g, ""), 10);\n    this.passengerAdvice[0].innerText = text.replace(n, this.state.flightClassMaxPassengers);\n  };\n\n  /**\n   * Sets the hidden form data with the values of Search Flight fields.\n   */\n\n\n  SearchFlight.prototype.setFormValues = function setFormValues() {\n    var $origin = this.$el.find(\'[name="seldcity1"]\');\n    var $destination = this.$el.find(\'[name="selacity1"]\');\n    var $departureDate = this.$el.find(\'[name="selddate1"]\');\n    var $departDate = this.$el.find(\'[name="departDate"]\');\n    var $departureShortDate = this.$el.find(\'[name="depShortDate"]\');\n    var $returnDate = this.$el.find(\'[name="seladate1"]\');\n    var $returnShortDate = this.$el.find(\'[name="retShortDate"]\');\n    var $adults = this.$el.find(\'[name="seladults"]\');\n    var $teenagers = this.$el.find(\'[name="selteenager"]\');\n    var $OFW = this.$el.find(\'[name="selofw"]\');\n    var $children = this.$el.find(\'[name="selchildren"]\');\n    var $infants = this.$el.find(\'[name="selinfants"]\');\n    var $cabinClassDeparture = this.$el.find(\'[name="selcabinclass"]\');\n    var $cabinClassReturn = this.$el.find(\'[name="selcabinclass1"]\');\n    var $searchType = this.$el.find(\'[name="TID"]\');\n    var rewards = document.getElementById("search-flight__rewards_checkbox");\n    var $flexibleDates = this.$el.find(\'[name="chkFlexibleDates"]\');\n    var $flexCheckbox = this.$el.find(".control__flexible-date");\n    var $flexSelected = $flexCheckbox[0].checked;\n    var $flexContainer = this.$el.find(".checkbox.flexible-date");\n    var $showTeenager = this.$el.find(\'[name="showTeenager"]\');\n    var $showOFW = this.$el.find(\'[name="showOFW"]\');\n    var $resultBy = this.$el.find(\'[name="resultby"]\');\n\n    var SEARCH_TYPES = {\n      RETURN: "SB",\n      ONE_WAY: "OW",\n      REDEMPTION_BOOKING: "RM"\n    };\n\n    var $oneWayCheckbox = this.$el.find(".control__one-way");\n    var isOneWay = $oneWayCheckbox.length > 0 ? $oneWayCheckbox[0].checked : false;\n    var resultByVal = $flexSelected ? 2 : 0;\n\n    if (this.state.origin) $origin.val(this.state.origin.iataCode);\n    if (this.state.destination) $destination.val(this.state.destination.iataCode);\n\n    $adults.val(this.state.seats.adults);\n    $teenagers.val(this.state.seats.teenagers);\n    $OFW.val(this.state.seats.OFW);\n    $children.val(this.state.seats.children);\n    $infants.val(this.state.seats.infants);\n    $flexibleDates.val($flexSelected);\n    $resultBy.val(resultByVal);\n\n    $flexContainer.show();\n    if ((0, _get2.default)(this.state, "origin.isInterlineOperated") === TRUE || (0, _get2.default)(this.state, "destination.isInterlineOperated") === TRUE) {\n      $flexContainer.hide();\n      $flexCheckbox.attr("checked", false);\n      $flexibleDates.val(false);\n    }\n\n    $showTeenager.val(this.state.seats.teenagers > 0 ? "true" : "false");\n    $showOFW.val(this.state.seats.OFW > 0 ? "true" : "false");\n\n    var classValue = utils.toFlightClassValue(this.state.flightClass);\n\n    $cabinClassDeparture.val(classValue);\n\n    var cabinClassReturnValue = !isOneWay ? classValue : "";\n\n    $cabinClassReturn.val(cabinClassReturnValue);\n\n    var searchTypeValue = null;\n\n    if (rewards && rewards.checked) {\n      searchTypeValue = SEARCH_TYPES.REDEMPTION_BOOKING;\n    } else {\n      searchTypeValue = isOneWay ? SEARCH_TYPES.ONE_WAY : SEARCH_TYPES.RETURN;\n    }\n\n    $searchType.val(searchTypeValue);\n\n    var DATE_FORMAT = "DD-MMM-YY";\n    var DEPART_DATE_FORMAT = "DDMMYYYY";\n\n    var departureDateValue = this.state.departureDate ? (0, _moment2.default)(this.state.departureDate).format(DATE_FORMAT) : "";\n\n    $departureDate.val(departureDateValue);\n\n    var formattedDepartDateValue = this.state.departureDate ? (0, _moment2.default)(this.state.departureDate).format(DEPART_DATE_FORMAT) : "";\n\n    $departDate.val(formattedDepartDateValue);\n\n    var departureShortDateValue = this.state.departureDate ? (0, _moment2.default)(this.state.departureDate).format(utils.EXISTING_RECENT_SEARCH_DATE_FORMAT) : "";\n\n    $departureShortDate.val(departureShortDateValue);\n\n    var returnDateValue = this.state.returnDate ? (0, _moment2.default)(this.state.returnDate).format(DATE_FORMAT) : "";\n\n    $returnDate.val(returnDateValue);\n\n    var returnShortDateValue = this.state.returnDate ? (0, _moment2.default)(this.state.returnDate).format(utils.EXISTING_RECENT_SEARCH_DATE_FORMAT) : "";\n\n    $returnShortDate.val(returnShortDateValue);\n  };\n\n  /**\n   * Returns the Recent Search details from local storage.\n   *\n   * @return {object}\n   */\n\n\n  SearchFlight.prototype.getRecentSearchCookieValue = function getRecentSearchCookieValue() {\n    var storedRecentSearch = this.store.get(KEY_RECENT_SEARCH);\n    if (storedRecentSearch && (typeof storedRecentSearch === "undefined" ? "undefined" : _typeof(storedRecentSearch)) === "object") {\n      return storedRecentSearch;\n    }\n    return null;\n  };\n\n  /**\n   * Update state with details from local storage and fires custom event to update search form.\n   *\n   * @param {object} airportsByIataCode List of airports\n   */\n\n\n  SearchFlight.prototype.initStateFromLocalStore = function initStateFromLocalStore(airportsByIataCode) {\n    var _this6 = this;\n\n    var DATE_FORMAT = "YYYY-MM-DD";\n    var storedRecentSearch = this.getRecentSearchCookieValue();\n    if (storedRecentSearch && storedRecentSearch.From && storedRecentSearch.To) {\n      var recentOrigin = airportsByIataCode[storedRecentSearch.From];\n      var recentDestination = airportsByIataCode[storedRecentSearch.To];\n      if (recentOrigin && recentDestination) {\n        var recentItem = {\n          adults: storedRecentSearch.Adults,\n          booking_class: utils.toFlightClassText(parseInt(storedRecentSearch.DepClass)),\n          children: storedRecentSearch.Child,\n          depart_date: storedRecentSearch.DepDate ? (0, _moment2.default)(storedRecentSearch.DepDate, utils.EXISTING_RECENT_SEARCH_DATE_FORMAT).format(DATE_FORMAT) : null,\n          destination_iata: storedRecentSearch.To,\n          destination_name: recentDestination.city.shortName,\n          flight_type: utils.toFlightTypeText(parseInt(storedRecentSearch.Type)),\n          infants: storedRecentSearch.Infants,\n          origin_iata: storedRecentSearch.From,\n          origin_name: recentOrigin.city.shortName,\n          return_date: storedRecentSearch.RetDate ? (0, _moment2.default)(storedRecentSearch.RetDate, utils.EXISTING_RECENT_SEARCH_DATE_FORMAT).format(DATE_FORMAT) : null,\n          youths: storedRecentSearch.Teenager,\n          origin: recentOrigin,\n          destination: recentDestination,\n          OFW: storedRecentSearch.OFWs,\n          flexible_dates: storedRecentSearch.By,\n          is_reward: [1, "1", true, "true"].indexOf(storedRecentSearch.Reward) > -1\n        };\n        var $rewardsCheckbox = this.$el.find(\'[name="search-flight__rewards_checkbox"]\');\n        if ($rewardsCheckbox.length && recentItem && recentItem.is_reward) {\n          this.state.isReward = true;\n          $rewardsCheckbox.attr("checked", true);\n        }\n        // To make sure `recent.search.selection` is the last dropdown event\n        return (0, _airports.getOrigins)(this.state.isReward).then(function (origins) {\n          setTimeout(function () {\n            return _this6.publish("recent.search.selection", {\n              origins: origins,\n              item: recentItem\n            });\n          }, 400);\n        });\n      }\n    }\n  };\n\n  /**\n   * Initializes the Boxever settings.\n   *\n   * @param {object} airportsByIataCode\n   */\n\n\n  SearchFlight.prototype.initBoxever = function initBoxever(airportsByIataCode) {\n    var _this7 = this;\n\n    var hn = window.location.hostname.split(".").reverse();\n    var host = hn[1] + "." + hn[0];\n    window._boxeverq = window._boxeverq || [];\n    window._boxever_settings = {\n      client_key: (0, _config.getConfig)("BOXEVER_CLIENT_KEY"),\n      target: (0, _config.getConfig)("BOXEVER_TARGET_URL"),\n      cookie_domain: "." + host\n    };\n    var scriptUrl = (0, _config.getConfig)("BOXEVER_SCRIPT_URL");\n\n    (0, _utils.loadScript)(scriptUrl).then(function () {\n      return _this7.updateDataLayer();\n    }).then(function () {\n      return _this7.initiateRecentSearches(airportsByIataCode);\n    });\n  };\n\n  /**\n   * Updates the Data Layer with the Boxever ID.\n   */\n\n\n  SearchFlight.prototype.updateDataLayer = function updateDataLayer() {\n    if (typeof Boxever !== "undefined") {\n      window.dataLayer.push({\n        boxeverBrowserID: Boxever.getID()\n      });\n    }\n  };\n\n  /**\n   * Initiates the Recent Search and fires custom event to update form details.\n   *\n   * @param {object} airportsByIataCode\n   */\n\n\n  SearchFlight.prototype.initiateRecentSearches = function initiateRecentSearches(airportsByIataCode) {\n    var _this8 = this;\n\n    var uri = location.pathname.split("/");\n    uri.shift();\n    var host = location.host.replace("www.", "");\n    var pointOfSale = host + "/" + uri[0];\n    window._boxeverq.push(function () {\n      var flowExecutionRequest = {\n        context: {\n          clientKey: Boxever.client_key,\n          channel: "WEB",\n          language: __EK__.urlparser.langCode,\n          currencyCode: (0, _config.getConfig)("content.dataLayer.posSiteCurrencyCode"),\n          uri: (0, _config.getConfig)("BOXEVER_RECENT_SEARCHES_URI"),\n          pointOfSale: pointOfSale,\n          browserId: Boxever.getID(),\n          region: "recentSearches"\n        }\n      };\n\n      Boxever.flowExecutionCreate(flowExecutionRequest, function (response) {\n        if (response.result.data && response.result.data.otherContent) {\n          var recentSearches = response.result.data.otherContent.recentSearches.slice(0, (0, _config.getConfig)("BOXEVER_RECENT_SEARCHES_MAX")).map(function (search, index) {\n            return (0, _assign2.default)({}, search, {\n              // Map origin/destination by iata code from the airport list, to get the full structure.\n              origin: (0, _get2.default)(airportsByIataCode, search.origin_iata),\n              destination: (0, _get2.default)(airportsByIataCode, search.destination_iata),\n              search_id: search.ref + index\n            });\n          });\n\n          _this8.publish("searches.loaded", recentSearches);\n        }\n      }, "json");\n    });\n  };\n\n  /**\n   * Handles form submission.\n   * Validates data and displays errors.\n   *\n   * @param {Event} e\n   * @todo This should be split between 2 functions,\n   * one for handling the submission that would be called ONLY on submitting the form (which is not the case now),\n   * and another one to handle the error messages.\n   */\n\n  SearchFlight.prototype.handleSubmission = function handleSubmission(e) {\n    e && e.preventDefault();\n    this.handleNullDestinationIssue(e);\n    var validity = utils.validate(this.state);\n    if (e) {\n      this.state.submitted = true;\n      this.trackCTAClick();\n    }\n    if (validity.valid) {\n      this.$errorWrapper.removeClass("visible");\n      if (e) {\n        this.$el.find("form")[0].submit();\n      }\n    } else if (this.state.submitted) {\n      this.$errorWrapper.removeClass("visible");\n      this.$errorWrapper.removeAttr("role", "alert");\n\n      var originError = this.$el.find(".js-origin");\n      var destinationError = this.$el.find(".js-destination");\n      var departureError = this.$el.find(".js-departure");\n      var returnError = this.$el.find(".js-return");\n\n      var originState = validity.results.filter(function (i) {\n        return i.term === "origin";\n      })[0];\n      var destinationState = validity.results.filter(function (i) {\n        return i.term === "destination";\n      })[0];\n\n      var moduleName = "Flight Search";\n      if (originState.valid) originError.hide();else {\n        originError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, "Origin Error");\n        this.$departAirport && this.$departAirport[0] && this.$departAirport[0].classList.add("error-highlighter");\n      }\n\n      if (destinationState.valid) destinationError.hide();else {\n        destinationError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, "Destination Error");\n        this.$arrivalAirport && this.$arrivalAirport[0] && this.$arrivalAirport[0].classList.add("error-highlighter");\n      }\n\n      if (this.state.departureDate) departureError.hide();else {\n        departureError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, "Departure Date Error");\n        this.$searchFlightDate && this.$searchFlightDate[0] && this.$searchFlightDate[0].classList.add("error-highlighter");\n      }\n\n      if (this.state.returnDate || !this.state.isReturn) returnError.hide();else {\n        returnError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, "Return Date Error");\n        if (this.$searchFlightDate && this.$searchFlightDate[0] && !this.$searchFlightDate[0].classList.contains("error-highlighter")) {\n          this.$searchFlightDate[0].classList.add("error-highlighter");\n        }\n      }\n\n      this.$errorWrapper.addClass("visible");\n      this.$errorWrapper.attr("role", "alert");\n      this.$errorSummary.focus();\n      this.state.submitted = false;\n    }\n  };\n\n  /**\n   * Handles form submission for advanded search.\n   * Updates form values and submits the form.\n   *\n   * @param {Event} e\n   */\n\n\n  SearchFlight.prototype.handleAdvanceSearch = function handleAdvanceSearch(e) {\n    e.preventDefault();\n    this.setFormValues();\n    var $multiCity = this.$el.find(\'[name="multiCity"]\');\n    var $searchType = this.$el.find(\'[name="TID"]\');\n    $multiCity.val(1);\n    $searchType.val("AS");\n    this.$el.find("form")[0].submit();\n  };\n\n  /**\n   * Push analytics event for CTA click.\n   */\n\n\n  SearchFlight.prototype.trackCTAClick = function trackCTAClick() {\n    var eventData = {\n      event: "EventTrigger.Common_pageBodyWidget_CTAClick",\n      category: "Page Body Interaction",\n      action: "CTA Clicked",\n      label: "Widget:Search flights:Search flights"\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  SearchFlight.prototype.handlePassengerFocus = function handlePassengerFocus() {\n    this.$el.find(".js-passenger .dropdown__input-container .js-field-input").attr("aria-expanded", "true");\n  };\n\n  /**\n   * This is to repopulate the `this.state.destination` from the destination airport input,\n   * because for some unpredictable event sequence the `this.state.destination` is getting cleared (Regression Issue EK-4587).\n   *\n   * @param {*} isClicked\n   * @todo The proper fix is to refactor the dropdowns (EK-4371)\n   */\n\n\n  SearchFlight.prototype.handleNullDestinationIssue = function handleNullDestinationIssue(isClicked) {\n    if (this.state.destination) {\n      return;\n    }\n\n    if (isClicked) {\n      var destinationValue = this.$destAirportInput.val();\n      if (destinationValue && destinationValue.length > 3) {\n        // Needs to greater than IataCode length.\n        var destIataCode = destinationValue.match(/\\(([^)]*)\\)[^(]*$/)[1]; // Get the IataCode from the Input Display\n        if (destIataCode) {\n          var $destination = this.$el.find(\'[name="selacity1"]\');\n          this.state.destination = { iataCode: destIataCode };\n          $destination.val(this.state.destination.iataCode);\n        }\n      }\n    }\n  };\n\n  /**\n   * Updates booking redirect notification message based on non local origin airport.\n   *\n   * @param {object} Origin Country\n   */\n\n\n  SearchFlight.prototype.updateBookingNotification = function updateBookingNotification(origin) {\n    var countryList = BOOKING_REDIRECT_COUNTRY_LIST_CONFIG.split(\',\');\n    if ((0, _includes2.default)(countryList, COUNTRY_SELECTED) && origin) {\n      if (origin.code.toLowerCase() === COUNTRY_SELECTED) {\n        this.$notificationTextWrapper.html("");\n        this.$bookingNotification.hide();\n      } else {\n        var notificationText = this.$notificationTextWrapper.attr("data-notificationText");\n        if (notificationText) {\n          this.$notificationTextWrapper.html(notificationText.replace("{{country}}", origin.longName));\n          this.$bookingNotification.show();\n        }\n      }\n    } else {\n      this.$notificationTextWrapper.html("");\n      this.$bookingNotification.hide();\n    }\n  };\n\n  return SearchFlight;\n}(_component2.default);\n\nSearchFlight.selector = ".search-flight";\nSearchFlight.events = {\n  "passenger.increase": "handlePassengerChange",\n  "passenger.decrease": "handlePassengerChange",\n  "click .js-continue-search-flight": "continueSearchFlight",\n  "click .js-login-link": "triggerLogin",\n  "click .js-widget-submit": "handleSubmission",\n  \'change [name="search-flight__rewards_checkbox"]\': "rewardsHandler",\n  "change .js-flexible-dates": "action",\n  "change .js-one-way": "handleOneWay",\n  "search.selection.flight": "searchSelection",\n  "startselect eol-calendar": "handleStartDateSelection",\n  "endselect eol-calendar": "handleEndDateSelection",\n  "dropdown.selection": "searchSelection",\n  "origin.selected.flight": "originSelectedHandler",\n  "recent.search.selection": "recentSearchSelection",\n  "click .search-flight__inline-link--advanced-search": "handleAdvanceSearch",\n  "focus .js-passenger .js-field-input": "handlePassengerFocus"\n};\nexports.default = SearchFlight;\n\n//# sourceURL=webpack:///./src/components/search-flight/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/search-flight/search-flight.scss?")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EXISTING_RECENT_SEARCH_DATE_FORMAT = undefined;\nexports.validate = validate;\nexports.hasOrigin = hasOrigin;\nexports.hasDestination = hasDestination;\nexports.minimumPassengers = minimumPassengers;\nexports.infantHasAccompanyingAdult = infantHasAccompanyingAdult;\nexports.childHasAccompanyingAdult = childHasAccompanyingAdult;\nexports.exceedsStandardSearch = exceedsStandardSearch;\nexports.maxPassengersForClass = maxPassengersForClass;\nexports.hasDates = hasDates;\nexports.exceedsAllowedDates = exceedsAllowedDates;\nexports.toFlightClassText = toFlightClassText;\nexports.toFlightClassValue = toFlightClassValue;\nexports.toFlightTypeText = toFlightTypeText;\nexports.toFlightTypeValue = toFlightTypeValue;\nexports.getRecentSearchCookieObj = getRecentSearchCookieObj;\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _findKey = __webpack_require__(145);\n\nvar _findKey2 = _interopRequireDefault(_findKey);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global __EK__ */\nvar defaultParams = {\n  adults: 0,\n  teenagers: 0,\n  children: 0,\n  infants: 0\n};\n\nvar flightClasses = {\n  'economy': 0,\n  'business': 1,\n  'first': 2\n};\n\nvar flightTypes = {\n  'OW': 0,\n  'RT': 1\n\n  /**\n   * Validates user entered search terms\n   *\n   * @export\n   * @param {any} {\n   *   flightClass = null,\n   *   seats = defaultParams,\n   *   origin = null,\n   *   destination = null,\n   *   departureDate = null,\n   *   returnDate = null\n   * }\n   * @returns\n   */\n};function validate(_ref) {\n  var _ref$flightClass = _ref.flightClass,\n      flightClass = _ref$flightClass === undefined ? null : _ref$flightClass,\n      _ref$seats = _ref.seats,\n      seats = _ref$seats === undefined ? defaultParams : _ref$seats,\n      _ref$origin = _ref.origin,\n      origin = _ref$origin === undefined ? null : _ref$origin,\n      _ref$destination = _ref.destination,\n      destination = _ref$destination === undefined ? null : _ref$destination,\n      _ref$departureDate = _ref.departureDate,\n      departureDate = _ref$departureDate === undefined ? null : _ref$departureDate,\n      _ref$returnDate = _ref.returnDate,\n      returnDate = _ref$returnDate === undefined ? null : _ref$returnDate,\n      _ref$isReturn = _ref.isReturn,\n      isReturn = _ref$isReturn === undefined ? true : _ref$isReturn;\n\n  var results = [hasOrigin(origin), hasDestination(destination), minimumPassengers(seats), infantHasAccompanyingAdult(seats), childHasAccompanyingAdult(seats), exceedsStandardSearch(flightClass, seats), hasDates(departureDate, returnDate, isReturn), exceedsAllowedDates(departureDate, returnDate)];\n\n  var valid = results.every(function (ent) {\n    return ent.valid === true;\n  });\n  return { valid: valid, results: results };\n}\n\nfunction hasOrigin(origin) {\n  if (origin && origin.iataCode) return { term: 'origin', valid: true };\n  return { term: 'origin', valid: false };\n}\n\nfunction hasDestination(destination) {\n  if (destination && destination.iataCode) return { term: 'destination', valid: true };\n  return { term: 'destination', valid: false };\n}\n\n/**\n * Minimum 1 Adult or Teenage passenger to initiate search\n *\n * @export\n * @param {{adults: number, teenagers: number}}\n * @returns {{term: string, valid: boolean}}\n */\nfunction minimumPassengers(_ref2) {\n  var _ref2$adults = _ref2.adults,\n      adults = _ref2$adults === undefined ? 0 : _ref2$adults,\n      _ref2$teenagers = _ref2.teenagers,\n      teenagers = _ref2$teenagers === undefined ? 0 : _ref2$teenagers,\n      _ref2$OFW = _ref2.OFW,\n      OFW = _ref2$OFW === undefined ? 0 : _ref2$OFW;\n\n  if (adults > 0 || teenagers > 0 || OFW > 0) {\n    return { term: 'min_adult_or_teenager', valid: true };\n  }\n  return { term: 'min_adult_or_teenager', valid: false };\n}\n\n/**\n * Accompanying adult passenger for each infant passenger\n *\n * @export\n * @param {{adults: number, infants: number}}\n * @returns {{term: string, valid: boolean}}\n */\nfunction infantHasAccompanyingAdult(_ref3) {\n  var _ref3$adults = _ref3.adults,\n      adults = _ref3$adults === undefined ? 0 : _ref3$adults,\n      _ref3$infants = _ref3.infants,\n      infants = _ref3$infants === undefined ? 0 : _ref3$infants,\n      _ref3$OFW = _ref3.OFW,\n      OFW = _ref3$OFW === undefined ? 0 : _ref3$OFW;\n\n  if (infants === 0 || infants > 0 && adults + OFW >= infants) {\n    return { term: 'adult_accompany_infant', valid: true };\n  }\n  return { term: 'adult_accompany_infant', valid: false };\n}\n\n/**\n * Search for child fare has to be accompanied by an adult\n *\n * @export\n * @param {{adults: number, children: number}}\n * @returns {{term: string, valid: boolean}}\n */\nfunction childHasAccompanyingAdult(_ref4) {\n  var _ref4$adults = _ref4.adults,\n      adults = _ref4$adults === undefined ? 0 : _ref4$adults,\n      _ref4$children = _ref4.children,\n      children = _ref4$children === undefined ? 0 : _ref4$children,\n      _ref4$OFW = _ref4.OFW,\n      OFW = _ref4$OFW === undefined ? 0 : _ref4$OFW;\n\n  if (children === 0 || children > 0 && adults + OFW > 0) {\n    return { term: 'adult_accompany_child', valid: true };\n  }\n  return { term: 'adult_accompany_child', valid: false };\n}\n\n/**\n * Validates the number of seats selected by a user\n * If invalid a user would be directed to advanced search\n *\n * @export\n * @param {string} flightClass\n * @param {Seats} seats\n * @returns {{term: string, valid: boolean}}\n */\nfunction exceedsStandardSearch(flightClass, _ref5) {\n  var _ref5$adults = _ref5.adults,\n      adults = _ref5$adults === undefined ? 0 : _ref5$adults,\n      _ref5$teenagers = _ref5.teenagers,\n      teenagers = _ref5$teenagers === undefined ? 0 : _ref5$teenagers,\n      _ref5$children = _ref5.children,\n      children = _ref5$children === undefined ? 0 : _ref5$children,\n      _ref5$OFW = _ref5.OFW,\n      OFW = _ref5$OFW === undefined ? 0 : _ref5$OFW;\n\n  var total = adults + teenagers + children + OFW;\n  var maxValue = maxPassengersForClass(flightClass);\n  if (total > maxValue) {\n    return { term: 'exceeds_standard_search', valid: false };\n  }\n  return { term: 'exceeds_standard_search', valid: true };\n}\n\n/**\n * Returns the defined max passengers for class of flight\n *\n * @param {string} [term=string]\n * @returns {number}\n */\nfunction maxPassengersForClass() {\n  var term = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'economy';\n\n  var resource = __EK__.resources['BookManage/search-flight/class-' + term + '-max__text'];\n  if (resource) return +resource;\n  if (term === 'economy') return 9;\n  if (term === 'business') return 7;\n  if (term === 'first') return 4;\n}\n\n/**\n * Checks that departure and return dates are correctly entered\n *\n * @export\n * @param {Date|null} departureDate\n * @param {Date|null} returnDate\n * @param {boolean|true} isReturn\n * @returns {{term: string, valid: boolean}}\n */\nfunction hasDates(departureDate, returnDate, isReturn) {\n  var validReturnDate = !isReturn || returnDate ? true : false;\n  return { term: 'allowed_departure_and_return', valid: departureDate && validReturnDate ? true : false };\n}\n\n/**\n * Checks that returnDate is later than departureDate and does not\n * exceed the configured allowed dates for travel\n *\n * @export\n * @param {{date|null}} departureDate\n * @param {{date|null}} returnDate\n * @returns {{term: string, valid: boolean}}\n */\nfunction exceedsAllowedDates(departureDate, returnDate) {\n  if (departureDate && !returnDate) {\n    return { term: 'allowed_departure_and_return', valid: true };\n  }\n  var maxFutureDeparture = __EK__.resources['BookManage/search-flight/max-future-departure__text'] ? addDaysToDate(new Date(), +__EK__.resources['BookManage/search-flight/max-future-departure__text']) : addDaysToDate(new Date(), 329);\n\n  var maxFutureReturn = __EK__.resources['BookManage/search-flight/max-future-return__text'] ? addDaysToDate(new Date(), +__EK__.resources['BookManage/search-flight/max-future-return__text']) : addDaysToDate(new Date(), 329);\n\n  var valid = returnDate >= departureDate && maxFutureDeparture > departureDate && maxFutureReturn > returnDate;\n  return { term: 'allowed_departure_and_return', valid: valid };\n}\n\nvar EXISTING_RECENT_SEARCH_DATE_FORMAT = exports.EXISTING_RECENT_SEARCH_DATE_FORMAT = 'DDMMYY';\n\n/**\n * Return flight class text from given integer value.\n *\n * @export\n * @param {{value: number}}\n * @returns {string}\n */\nfunction toFlightClassText() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  return (0, _findKey2.default)(flightClasses, function (flightClasse) {\n    return flightClasse === value;\n  });\n}\n\n/**\n * Return flight class value from given string.\n *\n * @export\n * @param {{text: string}}\n * @returns {number}\n */\nfunction toFlightClassValue() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'economy';\n\n  return flightClasses[text];\n}\n\n/**\n * Return flight type text from given integer value\n *\n * @export\n * @param {{value: number}}\n * @returns {string}\n */\nfunction toFlightTypeText() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  return (0, _findKey2.default)(flightTypes, function (flightType) {\n    return flightType === value;\n  });\n}\n\n/**\n * Return flight type value from given string\n *\n * @export\n * @param {{text: string}}\n * @returns {number}\n */\nfunction toFlightTypeValue() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'OW';\n\n  return flightTypes[text];\n}\n\n/**\n * Construct the recent search object as per the legacy recent search(ps) cookie for storing into the Cookie.\n *\n * @param {*} item\n * @returns {object}\n */\nfunction getRecentSearchCookieObj(item) {\n  var rsCookie = {\n    \"From\": item.origin.iataCode,\n    \"To\": item.destination.iataCode,\n    \"DepDate\": (0, _moment2.default)(item.departureDate).format(EXISTING_RECENT_SEARCH_DATE_FORMAT),\n    \"RetDate\": (0, _moment2.default)(item.returnDate).format(EXISTING_RECENT_SEARCH_DATE_FORMAT),\n    \"DepClass\": toFlightClassValue(item.flightClass),\n    \"Adults\": item.seats.adults,\n    \"OFWs\": item.seats.OFW,\n    \"Child\": item.seats.children,\n    \"Infants\": item.seats.infants,\n    \"Teenager\": item.seats.teenagers,\n    \"By\": \"0\",\n    \"Type\": item.isReturn ? toFlightTypeValue('RT') : toFlightTypeValue('OW')\n  };\n  return rsCookie;\n}\n\n/**\n * Adds days to a date\n *\n * @param {Date} date\n * @param {number} days\n * @returns {Date}\n */\nfunction addDaysToDate(date, days) {\n  date.setDate(date.getDate() + days);\n  return date;\n}\n\n//# sourceURL=webpack:///./src/components/search-flight/search-utils.js?")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(450);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _utils = __webpack_require__(5);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\n/**\n * Class representing Search Flight Hotel component.\n * Used as a container for Search Flights and Search Holidays components.\n * \n * @extends Component\n */\n\nvar SearchFlightHotel = function (_Component) {\n  _inherits(SearchFlightHotel, _Component);\n\n  function SearchFlightHotel(el, $el) {\n    _classCallCheck(this, SearchFlightHotel);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      searchFlightRadioClass: 'js-activate-search-flight',\n      searchHolidayRadioClass: 'js-activate-search-holiday',\n      searchFlightContainerClass: 'js-search-flight',\n      searchHolidayContainerClass: 'js-search-holiday'\n    };\n\n\n    _this.$searchFlightRadio = _this.$el.find((0, _component.toSel)(_this.options.searchFlightRadioClass));\n    _this.$searchHolidayRadio = _this.$el.find((0, _component.toSel)(_this.options.searchHolidayRadioClass));\n    _this.$searchFlightContainer = _this.$el.find((0, _component.toSel)(_this.options.searchFlightContainerClass));\n    _this.$searchHolidayContainer = _this.$el.find((0, _component.toSel)(_this.options.searchHolidayContainerClass));\n\n    _this.setDefaultContainer();\n    return _this;\n  }\n\n  /**\n   * Show default container.\n   */\n\n\n  SearchFlightHotel.prototype.setDefaultContainer = function setDefaultContainer() {\n    var showFlightContainer = (0, _get2.default)(__EK__, 'resources.BookManage/search-holiday/default-option-flight__text', 'true');\n    if (showFlightContainer === 'true') {\n      this.showFlightContainer();\n    } else {\n      this.showHolidayContainer();\n    }\n  };\n\n  /**\n   * Show the Search Flight container.\n   */\n\n\n  SearchFlightHotel.prototype.showFlightContainer = function showFlightContainer() {\n    this.$searchFlightContainer.removeClass('hidden');\n    this.$searchHolidayContainer.addClass('hidden');\n    (0, _utils.setCheckedStatus)(true, this.$searchFlightRadio);\n    (0, _utils.setCheckedStatus)(false, this.$searchHolidayRadio);\n  };\n\n  /**\n   * Show the Search Holiday container.\n   */\n\n\n  SearchFlightHotel.prototype.showHolidayContainer = function showHolidayContainer() {\n    this.$searchHolidayContainer.removeClass('hidden');\n    this.$searchFlightContainer.addClass('hidden');\n    (0, _utils.setCheckedStatus)(false, this.$searchFlightRadio);\n    (0, _utils.setCheckedStatus)(true, this.$searchHolidayRadio);\n  };\n\n  return SearchFlightHotel;\n}(_component2.default);\n\nSearchFlightHotel.selector = '.js-search-flight-container';\nSearchFlightHotel.events = {\n  'click .js-activate-search-flight': 'showFlightContainer',\n  'click .js-activate-search-holiday': 'showHolidayContainer'\n};\nexports.default = SearchFlightHotel;\n\n//# sourceURL=webpack:///./src/components/search-flight-hotel/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/search-flight-hotel/search-flight-hotel.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(452);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _throttle = __webpack_require__(56);\n\nvar _throttle2 = _interopRequireDefault(_throttle);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _find = __webpack_require__(32);\n\nvar _find2 = _interopRequireDefault(_find);\n\nvar _searchUtils = __webpack_require__(453);\n\nvar utils = _interopRequireWildcard(_searchUtils);\n\nvar _utils = __webpack_require__(5);\n\nvar _airports = __webpack_require__(17);\n\nvar _analytics = __webpack_require__(13);\n\nvar _config = __webpack_require__(23);\n\nvar _store = __webpack_require__(62);\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__, location, Boxever, fetch */\n\n/**\n * Class representing Search Holiday component.\n * \n * @extends Component\n */\nvar SearchHoliday = function (_Component) {\n  _inherits(SearchHoliday, _Component);\n\n  function SearchHoliday(el, $el) {\n    _classCallCheck(this, SearchHoliday);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      outage: false\n    };\n\n\n    _this.registerResources();\n\n    _this.store = new _store2.default({ type: _store2.default.getStorageTypes().COOKIE }); // Initialize the Cookie Store.\n    _this.refs = {\n      adults: 'adults',\n      children: 'children'\n    };\n\n    _this.state = {\n      flightClass: 'economy',\n      origin: null,\n      destination: null,\n      departureDate: null,\n      returnDate: null,\n      rooms: []\n    };\n\n    _this.options.outage = _this.$el.hasClass('js-outage');\n    _this.$errorWrapper = _this.$el.find('.error-wrapper');\n    _this.$errorSummary = _this.$el.find('.js-error-summary');\n    _this.$errorMessages = _this.$el.find('.js-error-message');\n    _this.$dateField = _this.$el.find('eol-datefield');\n    _this.$calendar = _this.$el.find('eol-calendar');\n    _this.$flightDepartInput = _this.$el.find('.textfield__input--start');\n    _this.$continueFocus = _this.$el.find('.js-continue-focus');\n    _this.$destAirportInput = _this.$el.find('[data-data-type=\"destinations\"]').find('.field__input');\n    _this.$errorFieldCollection = _this.$el.find('.js-field-input,.textfield__controls');\n    _this.$leavingFrom = _this.$el.find('input[name=\"Leaving from\"]');\n    _this.$goingTo = _this.$el.find('input[name=\"Going to\"]');\n    _this.$searchHolidayDate = _this.$el.find('.textfield__controls');\n    _this.$rooms = _this.$el.find('input[name=\"Rooms\"]');\n    var classChoice = _this.$el.find('.class-dropdown').find('[data-dropdown-id=\"0\"]');\n    classChoice.trigger('click');\n\n    _this.updateCalendarDates();\n\n    // Avoid multiple renderings and selectings by waiting for the whole data to be\n    // retrieved.\n\n    _this.loadOrigins();\n\n    (0, _airports.getAirports)().then(function (_ref) {\n      var airportsByIataCode = _ref.airportsByIataCode;\n\n      _this.airportsByIataCodeCache = airportsByIataCode;\n      _this.initBoxever(airportsByIataCode);\n    });\n\n    // XXX: this seems to be a code smell.\n\n    var _queryStringParams = (0, _utils.queryStringParams)(),\n        login = _queryStringParams.login;\n\n    if (login) _this.$el.find('.js-login-link').trigger('click');\n\n    _this.setFormUrl();\n    return _this;\n  }\n\n  /**\n   * Load resource values.\n   */\n\n\n  SearchHoliday.prototype.registerResources = function registerResources() {\n    this.initialDepartureDateOffset = parseInt((0, _get2.default)(__EK__, 'env.EKH_CALENDAR_INITIAL_DEPARTURE_DATE_OFFSET', 0)) || 0;\n    this.initialReturnDateOffset = parseInt((0, _get2.default)(__EK__, 'env.EKH_CALENDAR_INITIAL_RETURN_DATE_OFFSET', 0)) || 0;\n    this.formUrlUs = (0, _get2.default)(__EK__.resources, 'BookManage/search-holiday/form-endpoint-us__url.url', '');\n    this.formUrlNonUs = (0, _get2.default)(__EK__.resources, 'BookManage/search-holiday/form-endpoint-non-us__url.url', '');\n  };\n\n  /**\n   * Update form URL.\n   */\n\n\n  SearchHoliday.prototype.setFormUrl = function setFormUrl() {\n    var _this2 = this;\n\n    var US_LANG_CODE = 'us';\n    var locale = this.getLocale();\n    var searchHolidayUrl = locale.split('_')[0] === US_LANG_CODE ? this.formUrlUs : this.formUrlNonUs;\n    var queryParams = searchHolidayUrl.indexOf('?') !== -1 ? searchHolidayUrl.split('?')[1] : null;\n    if (queryParams) {\n      var hdnInputField = queryParams.split('&');\n      hdnInputField.map(function (v) {\n        return _this2.$el.find('form').append('<input type=\"hidden\" name=\"' + _.get(v.split('='), '0') + '\" value=\"' + _.get(v.split('='), '1') + '\"/>');\n      });\n    }\n    var domain = searchHolidayUrl.split('?')[0] + ('/' + locale);\n\n    this.$el.find('form')[0].action = '' + domain;\n  };\n\n  /**\n   * Trigger loading destinations.\n   * \n   * @param {Event} eventName \n   * @param {string} code Search keyword\n   */\n\n\n  SearchHoliday.prototype.handleDestData = function handleDestData(eventName, code) {\n    this.loadDestinations(code);\n  };\n\n  /**\n   * Load origins list.\n   * Get origins and closest origin, then publish event to update origins dropdown.\n   */\n\n\n  SearchHoliday.prototype.loadOrigins = function loadOrigins() {\n    var _this3 = this;\n\n    Promise.all([(0, _airports.getOriginsHoliday)(), (0, _airports.getClosestOrigin)().catch(function () {\n      return [];\n    })])\n    // Transform data to match with the template structure.\n    .then(function (_ref2) {\n      var origins = _ref2[0],\n          closest = _ref2[1];\n\n      var originsItems = origins[0];\n      if (closest.iataCode) {\n        // Remove closest origin if it does not exist in the origins list\n        var originsContainClosest = !!(0, _find2.default)(originsItems, function (origin) {\n          return origin.iataCode === closest.iataCode;\n        });\n        if (!originsContainClosest) {\n          closest = [];\n        }\n      }\n      var preselectFirstOption = !!closest.iataCode || originsItems.length === 1;\n      return {\n        items: originsItems,\n        closest: closest,\n        preselectFirstOption: preselectFirstOption\n      };\n    })\n    // Publish the retrieved data.\n    .then(function (data) {\n      return _this3.publish('origin-holiday.refresh', data);\n    });\n  };\n\n  /**\n   * Load destinations.\n   * Get list of destinations, then publish event to update destinations dropdown.\n   * \n   * @param {string} code Search keyword\n   */\n\n\n  SearchHoliday.prototype.loadDestinations = function loadDestinations(code) {\n    var _this4 = this;\n\n    Promise.all([(0, _airports.getDestinationsHoliday)(code)])\n    // Transform data to match with the template structure.\n    .then(function (_ref3) {\n      var destinations = _ref3[0];\n\n      return {\n        items: destinations[0]\n      };\n    })\n    // Publish the retrieved data.\n    .then(function (data) {\n      return _this4.publish('dest-holiday.refresh', data);\n    });\n  };\n\n  /**\n   * Handles data validation and triggers search submittion.\n   * \n   * @todo Improve validity to avoid double validation, as currently it is called here and again in handleSubmission.\n   * @todo Improve form value update to be called only on submit, as currently it is called each time we make any change to any field.\n   */\n\n\n  SearchHoliday.prototype.action = function action() {\n    this.setFormValues();\n    this.handleSubmission();\n  };\n\n  /**\n   * Prepopulate calendar date.\n   */\n\n\n  SearchHoliday.prototype.updateCalendarDates = function updateCalendarDates() {\n    this.state.departureDate = new Date((0, _moment2.default)().add(this.initialDepartureDateOffset, 'days'));\n    this.$dateField[0].initialStartDate = this.state.departureDate;\n    this.$dateField[0].$inputStart.closest('.textfield__date').toggleClass('textfield__date--active', true);\n\n    this.state.returnDate = new Date((0, _moment2.default)().add(this.initialReturnDateOffset, 'days'));\n    this.$dateField[0].initialEndDate = this.state.returnDate;\n    this.$dateField[0].$inputEnd.closest('.textfield__date').toggleClass('textfield__date--active', true);\n  };\n\n  /**\n   * Gets destinations based on provided criteria and publish results.\n   * \n   * @param {string} iataCode \n   * @param {*} focusDestinations \n   */\n\n\n  SearchHoliday.prototype.updateDestinations = function updateDestinations(iataCode, focusDestinations) {\n    var _this5 = this;\n\n    return (0, _airports.getDestinations)(iataCode, false) // TODO get rid of false (that was this.state.isReward)\n    .then(function (destinations) {\n      _this5.publish('destinations.loaded', { destinations: destinations, focusDestinations: focusDestinations, iataCode: iataCode, section: 'holiday' });\n    });\n  };\n\n  /**\n   * Updates state and triggers next action.\n   * \n   * @param {string} event Event name\n   * @param {Object} obj Data object to destruct\n   * @param {string} obj.type Search type\n   * @param {object} obj.value \n   * @param {*} obj.display\n   * @param {*} obj.section\n   */\n\n\n  SearchHoliday.prototype.searchSelection = function searchSelection(event, _ref4) {\n    var _this6 = this;\n\n    var type = _ref4.type,\n        value = _ref4.value,\n        display = _ref4.display,\n        section = _ref4.section;\n\n    var originError = this.$el.find('.js-origin');\n    var destinationError = this.$el.find('.js-destination');\n    if (type) {\n      if (type === 'origin' || type === 'destination') {\n        if (value && value.iataCode) {\n          this.state[type] = value;\n          if (type === 'origin') {\n            this.$leavingFrom && this.$leavingFrom[0] && this.$leavingFrom[0].classList.contains('error-highlighter') && this.$leavingFrom[0].classList.remove('error-highlighter');\n            originError.hide();\n          }\n          if (type === 'destination') {\n            this.$goingTo && this.$goingTo[0] && this.$goingTo[0].classList.contains('error-highlighter') && this.$goingTo[0].classList.remove('error-highlighter');\n            this.continueSearch();\n            this.$flightDepartInput.focus();\n            destinationError.hide();\n          }\n        } else if (!value || value === '') {\n          this.state[type] = null;\n        }\n      }\n      if (type === 'from') this.state.departureDate = value;\n      if (type === 'to') this.state.returnDate = value;\n      this.removeOuterErrorBox();\n    }\n\n    if (section === 'class-holiday') {\n      this.state.flightClass = utils.toFlightClassText(value);\n    }\n\n    var fn = (0, _throttle2.default)(function () {\n      return _this6.action();\n    }, 250);\n    fn();\n  };\n\n  /**\n   * Remove outer error box layout\n   */\n\n\n  SearchHoliday.prototype.removeOuterErrorBox = function removeOuterErrorBox() {\n    var originError = this.$el.find(\".js-origin\");\n    var destinationError = this.$el.find(\".js-destination\");\n\n    if (!destinationError.is(\":visible\") && !originError.is(\":visible\")) {\n      if (this.$errorWrapper && this.$errorWrapper[0] && this.$errorWrapper[0].classList.contains('visible')) {\n        this.$errorWrapper[0].classList.remove('visible');\n      }\n    }\n  };\n\n  /**\n   * \n   * Updates state with new departure and return date, and triggers DOM form update.\n   * \n   * @param {Event} e \n   */\n\n\n  SearchHoliday.prototype.handleStartDateSelection = function handleStartDateSelection(e) {\n    this.state.departureDate = e.detail;\n    this.state.returnDate = this.$calendar[0].arrivalDate;\n    this.setFormValues();\n  };\n\n  /**\n   * Updates state with new return date, and triggers DOM form update.\n   * \n   * @param {Event} e\n   */\n\n\n  SearchHoliday.prototype.handleEndDateSelection = function handleEndDateSelection(e) {\n    this.state.returnDate = e.detail;\n    this.setFormValues();\n  };\n\n  /**\n   * Triggers state update for rooms.\n   * \n   * @param {Event} event\n   * @param {object} data\n   */\n\n\n  SearchHoliday.prototype.handleRoomsUpdated = function handleRoomsUpdated(event, data) {\n    this.state.rooms = data.rooms.map(function (room) {\n      return room.details;\n    });\n    this.action();\n  };\n\n  /**\n   * Expands search form inputs to reveals all details.\n   */\n\n\n  SearchHoliday.prototype.continueSearch = function continueSearch() {\n    this.$el.addClass('search-holiday--continue');\n    this.$continueFocus.focus();\n  };\n\n  /**\n   * Sets the hidden form data with the values of Search Flight fields.\n   */\n\n\n  SearchHoliday.prototype.setFormValues = function setFormValues() {\n    var $origin = this.$el.find('[name=\"depAir\"]');\n    var $destination = this.$el.find('[name=\"dest\"]');\n    var $departureDate = this.$el.find('[name=\"startDate\"]');\n    var $returnDate = this.$el.find('[name=\"endDate\"]');\n    var $cabinClass = this.$el.find('[name=\"cabin\"]');\n    var $rooms = this.$el.find('[name=\"occ\"]');\n\n    if (this.state.origin) {\n\n      (0, _get2.default)(__EK__, 'env.EKH_ENABLE_GROUP_CODE', false) === 'true' && this.state.origin.groupcode ? $origin.val(this.state.origin.groupcode) : $origin.val(this.state.origin.iataCode);\n    }\n\n    if (this.state.destination) $destination.val(this.state.destination.iataCode);\n\n    var roomsFormated = this.state.rooms.map(function (room) {\n      var adults = 'A' + room.adults;\n      var children = room.children ? 'C' + room.childrenAges.join('C') : '';\n      return '' + adults + children;\n    });\n    $rooms.val(roomsFormated.join(''));\n\n    var classValue = utils.toFlightClassValue(this.state.flightClass);\n    $cabinClass.val(classValue);\n\n    var DATE_FORMAT = 'YYYY-MM-DD';\n\n    var departureDateValue = this.state.departureDate ? (0, _moment2.default)(this.state.departureDate).format(DATE_FORMAT) : '';\n    $departureDate.val(departureDateValue);\n\n    var returnDateValue = this.state.returnDate ? (0, _moment2.default)(this.state.returnDate).format(DATE_FORMAT) : '';\n    $returnDate.val(returnDateValue);\n  };\n\n  /**\n   * Initializes the Boxever settings.\n   * \n   * @param {object} airportsByIataCode \n   */\n\n\n  SearchHoliday.prototype.initBoxever = function initBoxever(airportsByIataCode) {\n    var _this7 = this;\n\n    var hn = window.location.hostname.split('.').reverse();\n    var host = hn[1] + '.' + hn[0];\n    window._boxeverq = window._boxeverq || [];\n    window._boxever_settings = {\n      client_key: (0, _config.getConfig)('BOXEVER_CLIENT_KEY'),\n      target: (0, _config.getConfig)('BOXEVER_TARGET_URL'),\n      cookie_domain: '.' + host\n    };\n    var scriptUrl = (0, _config.getConfig)('BOXEVER_SCRIPT_URL');\n\n    (0, _utils.loadScript)(scriptUrl).then(function () {\n      return _this7.updateDataLayer();\n    });\n  };\n\n  /**\n   * Updates the Data Layer with the Boxever ID.\n   */\n\n\n  SearchHoliday.prototype.updateDataLayer = function updateDataLayer() {\n    if (typeof Boxever !== 'undefined') {\n      window.dataLayer.push({\n        boxeverBrowserID: Boxever.getID()\n      });\n    }\n  };\n\n  /**\n   * Return locale values for country and language.\n   * Used to construct form URL.\n   * \n   * @return {string}\n   */\n\n\n  SearchHoliday.prototype.getLocale = function getLocale() {\n    var DEFAULT_COUNTRY_CODE = 'gb';\n    var DEFAULT_LANGUAGE_CODE = 'en';\n\n    var countryCode = (0, _get2.default)(__EK__, 'config.content.country.taxonomyKey', DEFAULT_COUNTRY_CODE).toLowerCase();\n\n    if (countryCode === 'global') {\n      return DEFAULT_COUNTRY_CODE + '_' + DEFAULT_LANGUAGE_CODE;\n    }\n\n    var US_COUNTRY_CODE = 'us';\n\n    var languageCode = countryCode === US_COUNTRY_CODE ? DEFAULT_LANGUAGE_CODE : (0, _get2.default)(__EK__, 'config.content.language.taxonomyKey', DEFAULT_LANGUAGE_CODE).toLowerCase();\n\n    return countryCode + '_' + languageCode;\n  };\n\n  /**\n   * Handles form submission.\n   * Validates data and displays errors.\n   * \n   * @param {Event} e\n   * @todo This should be split between 2 functions,\n   * one for handling the submission that would be called ONLY on submitting the form (which is not the case now),\n   * and another one to handle the error messages.\n   */\n\n\n  SearchHoliday.prototype.handleSubmission = function handleSubmission(e) {\n    e && e.preventDefault();\n    var validity = utils.validate(this.state);\n    if (e) {\n      this.state.submitted = true;\n      this.trackCTAClick();\n    }\n    if (validity.valid) {\n      this.$errorWrapper.removeClass('visible');\n      if (e) {\n        this.$el.find('form')[0].submit();\n      }\n    } else if (this.state.submitted) {\n\n      this.$errorWrapper.removeClass('visible');\n      this.$errorWrapper.removeAttr('role', 'alert');\n\n      var originError = this.$el.find('.js-origin');\n      var destinationError = this.$el.find('.js-destination');\n      var departureError = this.$el.find('.js-departure');\n      var returnError = this.$el.find('.js-return');\n      var childrenAgeError = this.$el.find('.js-children-age');\n\n      var originState = validity.results.filter(function (i) {\n        return i.term === 'origin';\n      })[0];\n      var destinationState = validity.results.filter(function (i) {\n        return i.term === 'destination';\n      })[0];\n      var childrenAgeState = validity.results.filter(function (i) {\n        return i.term === 'children_age';\n      })[0];\n\n      var moduleName = 'Flight Search';\n\n      if (originState.valid) originError.hide();else {\n        originError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Origin Error');\n        this.$leavingFrom && this.$leavingFrom[0] && this.$leavingFrom[0].classList.add('error-highlighter');\n      }\n\n      if (destinationState.valid) destinationError.hide();else {\n        destinationError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Destination Error');\n        this.$goingTo && this.$goingTo[0] && this.$goingTo[0].classList.add('error-highlighter');\n      }\n\n      if (this.state.departureDate) departureError.hide();else {\n        departureError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Departure Date Error');\n        this.$searchHolidayDate && this.$searchHolidayDate[0] && this.$searchHolidayDate[0].classList.add('error-highlighter');\n      }\n\n      if (this.state.returnDate) returnError.hide();else {\n        returnError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Return Date Error');\n        if (this.$searchHolidayDate && this.$searchHolidayDate[0] && !this.$searchHolidayDate[0].classList.contains('error-highlighter')) {\n          this.$searchHolidayDate[0].classList.add('error-highlighter');\n        }\n      }\n\n      if (childrenAgeState.valid) childrenAgeError.hide();else {\n        childrenAgeError.show();\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Children Age Error');\n        this.$rooms && this.$rooms[0] && this.$rooms[0].classList.add('error-highlighter');\n      }\n\n      this.$errorWrapper.addClass('visible');\n      this.$errorWrapper.attr('role', 'alert');\n      this.$errorSummary.focus();\n      this.state.submitted = false;\n    }\n  };\n\n  /**\n   * Push analytics event for CTA click.\n   */\n\n\n  SearchHoliday.prototype.trackCTAClick = function trackCTAClick() {\n    var eventData = {\n      event: 'EventTrigger.Common_pageBodyWidget_CTAClick',\n      category: 'Page Body Interaction',\n      action: 'CTA Clicked',\n      label: 'Widget:Search flights:Search holidays'\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  /**\n   * Focus rooms dropdown.\n   */\n\n\n  SearchHoliday.prototype.handleRoomFocus = function handleRoomFocus() {\n    this.$el.find('.js-room-input .dropdown__input-container .js-field-input').attr('aria-expanded', 'true');\n  };\n\n  return SearchHoliday;\n}(_component2.default);\n\nSearchHoliday.selector = '.search-holiday';\nSearchHoliday.events = {\n  'click .js-continue-search-holiday': 'continueSearch',\n  'click .js-widget-submit': 'handleSubmission',\n  'search.selection.holiday': 'searchSelection',\n  'startselect eol-calendar': 'handleStartDateSelection',\n  'endselect eol-calendar': 'handleEndDateSelection',\n  'dropdown.selection': 'searchSelection',\n  'focus .js-room-input .js-field-input': 'handleRoomFocus',\n  'rooms.updated': 'handleRoomsUpdated',\n  'dest-holiday.load': 'handleDestData'\n};\nexports.default = SearchHoliday;\n\n//# sourceURL=webpack:///./src/components/search-holiday/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/search-holiday/search-holiday.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validate = validate;\nexports.hasValidFlightClass = hasValidFlightClass;\nexports.hasOrigin = hasOrigin;\nexports.hasDestination = hasDestination;\nexports.childHasSpecifiedAge = childHasSpecifiedAge;\nexports.childHasAccompanyingAdult = childHasAccompanyingAdult;\nexports.hasPersons = hasPersons;\nexports.hasDates = hasDates;\nexports.exceedsAllowedDates = exceedsAllowedDates;\nexports.toFlightClassPostValue = toFlightClassPostValue;\nexports.toFlightClassText = toFlightClassText;\nexports.toFlightClassValue = toFlightClassValue;\n\nvar _findKey = __webpack_require__(145);\n\nvar _findKey2 = _interopRequireDefault(_findKey);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global __EK__ */\nvar DEFAULT_MAX_DAPARTURE = 329;\n\nvar DEFAULT_MAX_RETURN = 730;\n\nvar flightClasses = {\n  'economy': 0,\n  'business': 1,\n  'first': 2\n};\n\nvar flightClassesValue = {\n  'economy': 'e',\n  'business': 'b',\n  'first': 'f'\n};\n\nvar flightClassesValuePost = {\n  'economy': 1,\n  'business': 8,\n  'first': 4\n\n  /**\n   * Validates user entered search terms\n   *\n   * @export\n   * @param {any} {\n   *   flightClass = null,\n   *   rooms = null,\n   *   origin = null,\n   *   destination = null,\n   *   departureDate = null,\n   *   returnDate = null\n   * }\n   * @returns\n   */\n};function validate(_ref) {\n  var _ref$flightClass = _ref.flightClass,\n      flightClass = _ref$flightClass === undefined ? null : _ref$flightClass,\n      _ref$rooms = _ref.rooms,\n      rooms = _ref$rooms === undefined ? null : _ref$rooms,\n      _ref$origin = _ref.origin,\n      origin = _ref$origin === undefined ? null : _ref$origin,\n      _ref$destination = _ref.destination,\n      destination = _ref$destination === undefined ? null : _ref$destination,\n      _ref$departureDate = _ref.departureDate,\n      departureDate = _ref$departureDate === undefined ? null : _ref$departureDate,\n      _ref$returnDate = _ref.returnDate,\n      returnDate = _ref$returnDate === undefined ? null : _ref$returnDate;\n\n  var results = [hasValidFlightClass(flightClass), hasOrigin(origin), hasDestination(destination), childHasAccompanyingAdult(rooms), hasPersons(rooms), hasDates(departureDate, returnDate), exceedsAllowedDates(departureDate, returnDate), childHasSpecifiedAge(rooms)];\n\n  var valid = results.every(function (ent) {\n    return ent.valid === true;\n  });\n  return { valid: valid, results: results };\n}\n\n/**\n * Validates if flight class is selected and valid\n *\n * @export\n * @param {string} flightClass\n * @returns {{term: string, valid: boolean}}\n */\nfunction hasValidFlightClass(flightClass) {\n  var term = 'flight_class';\n  if (flightClasses[flightClass] !== undefined) return { term: term, valid: true };\n  return { term: term, valid: false };\n}\n\n/**\n * Validates if origin is selected\n *\n * @export\n * @param {string} destination\n * @returns {{term: string, valid: boolean}}\n */\nfunction hasOrigin(origin) {\n  var term = 'origin';\n  if (origin && origin.iataCode) return { term: term, valid: true };\n  return { term: term, valid: false };\n}\n\n/**\n * Validates if destination is selected\n *\n * @export\n * @param {string} destination\n * @returns {{term: string, valid: boolean}}\n */\nfunction hasDestination(destination) {\n  var term = 'destination';\n  if (destination && destination.iataCode) return { term: term, valid: true };\n  return { term: term, valid: false };\n}\n\n/**\n * Search for children has to specify ages\n *\n * @export\n * @param {array} rooms\n * @returns {{term: string, valid: boolean}}\n */\nfunction childHasSpecifiedAge() {\n  var rooms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [{ adults: 0, children: 0, childrenAges: [] }];\n\n  var term = 'children_age';\n  var valid = true;\n  rooms.forEach(function (room) {\n    room.childrenAges.forEach(function (childAge) {\n      if (childAge === null) {\n        valid = false;\n      }\n    });\n  });\n  return { term: term, valid: valid };\n}\n\n/**\n * Search for children has to be accompanied by an adult\n *\n * @export\n * @param {array} rooms\n * @returns {{term: string, valid: boolean}}\n */\nfunction childHasAccompanyingAdult() {\n  var rooms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [{ adults: 0, children: 0 }];\n\n  var term = 'adult_accompany_child';\n  var valid = true;\n  rooms.forEach(function (room) {\n    if (room.children > 0 && room.adults < 1) {\n      valid = false;\n    }\n  });\n  return { term: term, valid: valid };\n}\n\n/**\n * Validates the number of persons\n *\n * @export\n * @param {object} rooms\n * @returns {{term: string, valid: boolean}}\n */\nfunction hasPersons() {\n  var rooms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [{ adults: 0, children: 0 }];\n\n  var term = 'has_persons';\n  if (rooms.length && rooms[0].adults > 0) return { term: term, valid: true };\n  return { term: term, valid: false };\n}\n\n/**\n * Checks that departure and return dates are correctly entered\n *\n * @export\n * @param {Date|null} departureDate\n * @param {Date|null} returnDate\n * @returns {{term: string, valid: boolean}}\n */\nfunction hasDates(departureDate, returnDate) {\n  var term = 'has_departure_and_return';\n  return { term: term, valid: departureDate && returnDate ? true : false };\n}\n\n/**\n * Checks that returnDate is later than departureDate and does not\n * exceed the configured allowed dates for travel\n *\n * @export\n * @param {{date|null}} departureDate\n * @param {{date|null}} returnDate\n * @returns {{term: string, valid: boolean}}\n */\nfunction exceedsAllowedDates(departureDate, returnDate) {\n  var term = 'allowed_departure_and_return';\n  if (departureDate && !returnDate) {\n    return { term: term, valid: true };\n  }\n\n  var maxDepartureOffset = parseInt((0, _get2.default)(__EK__, 'env.EKH_CALENDAR_MAX_FUTURE_DEPARTURE', DEFAULT_MAX_DAPARTURE));\n  var maxFutureDeparture = addDaysToDate(new Date(), maxDepartureOffset);\n\n  var maxReturnOffset = parseInt((0, _get2.default)(__EK__, 'env.EKH_CALENDAR_MAX_FUTURE_RETURN', DEFAULT_MAX_RETURN));\n  var maxFutureReturn = addDaysToDate(new Date(), maxReturnOffset);\n\n  var valid = returnDate >= departureDate && maxFutureDeparture > departureDate && maxFutureReturn > returnDate;\n  return { term: term, valid: valid };\n}\n\n/**\n * Return flight class index from given string value.\n *\n * @export\n * @param {string} text\n * @returns {number}\n */\nfunction toFlightClassPostValue() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'economy';\n\n  return flightClassesValuePost[text];\n}\n\n/**\n * Return flight class text from given integer value.\n *\n * @export\n * @param {{value: number}}\n * @returns {string}\n */\nfunction toFlightClassText() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  return (0, _findKey2.default)(flightClasses, function (flightClasse) {\n    return flightClasse === value;\n  });\n}\n\n/**\n * Return flight class value from given string.\n *\n * @export\n * @param {{text: string}}\n * @returns {number}\n */\nfunction toFlightClassValue() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'economy';\n\n  return flightClassesValue[text];\n}\n\n/**\n * Adds days to a date\n *\n * @param {Date} date\n * @param {number} days\n * @returns {Date}\n */\nfunction addDaysToDate(date, days) {\n  date.setDate(date.getDate() + days);\n  return date;\n}\n\n//# sourceURL=webpack:///./src/components/search-holiday/search-utils.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(455);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _utils = __webpack_require__(5);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _includes = __webpack_require__(39);\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _analytics = __webpack_require__(13);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _mytrips = __webpack_require__(60);\n\nvar _myTripsManageBooking = __webpack_require__(456);\n\nvar _myTripsManageBooking2 = _interopRequireDefault(_myTripsManageBooking);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\n/**\n * Class representing My Trips component.\n * \n * @extends Component\n */\nvar MyTrips = function (_Component) {\n  _inherits(MyTrips, _Component);\n\n  function MyTrips(el, $el) {\n    _classCallCheck(this, MyTrips);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      outage: false\n    };\n\n    _this.state = {\n      showpage: true\n    };\n    _this.$el = _this.$el || $el;\n    var self = _this;\n    if (window.__EK__ && window.__EK__.session.isAuthenticated) {\n      (0, _mytrips.getmytrips)().then(function (mytripsinfo) {\n        self.bulkRender(mytripsinfo);\n      }).then(function () {\n        (0, _utils.injectCityNames)(self.$el);\n      });\n    }\n    _this.lastNameInput = _this.$el.find('[name=\"last-name\"]');\n    _this.$invalidLastName = _this.lastNameInput.siblings('.js-error');\n    _this.$invalidLastName.text('');\n    if (_this.lastNameInput && _this.lastNameInput.val() != \"\") {\n      var validObj = _this.validateLastName(_this.lastNameInput.val());\n      if (!validObj.valid) {\n        _this.lastNameInput && _this.lastNameInput[0] && !_this.lastNameInput[0].classList.contains('error-highlighter') && _this.lastNameInput[0].classList.add('error-highlighter');\n        _this.$invalidLastName.text(validObj.term);\n        _this.$invalidLastName.addClass('show');\n      }\n    }\n    // TODO: The better approach is to introduce show / hide methods to the contextual-help module which can be called from other modules like my-trip module.\n    // INFO: Respecting the hard timeline, this is an alternative workable hack\n    _this.$bookingRefInputContainer = _this.$el.find('.ref-id-container > div');\n    _this.bookingRefInput = _this.$el.find('[name=\"ref-id\"]');\n    _this.bookingRefInputDirty = true;\n    _this.$invalidRefId = _this.bookingRefInput.siblings('.js-error');\n    _this.$invalidRefId.text('');\n    _this.$errorFieldCollection = _this.$el.find('.js-field-input');\n    _this.$lastNameInput = _this.$el.find('input[name=\"last-name\"]');\n    _this.$refIdInput = _this.$el.find('input[name=\"ref-id\"]');\n    _this.$form = _this.$el.find('form');\n    (0, _jquery2.default)('.my-trips__section__row', _this.$el).not(':nth-of-type(1)').not(':nth-of-type(2)').addClass('hidden');\n    _this.itemReveal();\n    _this.options.outage = _this.$el.hasClass('js-outage');\n\n    return _this;\n  }\n\n  /**\n   * Trigger validation for Last Name and update class state.\n   * \n   * @param {Event} e Keyboard event\n   */\n\n\n  MyTrips.prototype.handleLastName = function handleLastName(e) {\n    var val = e.currentTarget ? e.currentTarget.value : e;\n    if (e.type === 'keyup') {\n      var $errorElWrapper = this.$el && this.$el.find('.error-wrapper');\n      var $errorEl = $errorElWrapper && $errorElWrapper.find('p');\n      if ($errorEl.text() === __EK__.resources['BookManage/Retrieve-Trips/Widget/form-error__text'] || $errorEl.text() === __EK__.resources['BookManage/Retrieve-Trips/Widget/form-error-name__text']) {\n        $errorElWrapper && $errorElWrapper.hide();\n      }\n    }\n    if (val.trim().length > 0) {\n      var valid = this.validateLastName(val);\n      if (valid.valid) {\n        this.$invalidLastName.removeClass('show');\n        if (e.type === 'focusout') {\n          e.currentTarget && e.currentTarget.classList.contains('error-highlighter') && e.currentTarget.classList.remove('error-highlighter');\n        }\n      } else {\n        this.$invalidLastName.text(valid.term);\n        this.$invalidLastName.addClass('show');\n        e.currentTarget && !e.currentTarget.classList.contains('error-highlighter') && e.currentTarget.classList.add('error-highlighter');\n      }\n    } else {\n      this.$invalidLastName.removeClass('show');\n    }\n  };\n\n  /**\n  * Returns the Mytrips template.\n  * \n  * @param {object} data \n  */\n\n\n  MyTrips.prototype.getTemplate = function getTemplate(data) {\n    return (0, _myTripsManageBooking2.default)(data);\n  };\n\n  /**\n   * Renders Mytrips mange-booking list and injects into DOM.\n   * \n   * @param {object} data \n   */\n\n\n  MyTrips.prototype.bulkRender = function bulkRender(data) {\n\n    var mytripsData = {\n      myTrips: {\n        trips: data.data && data.data.trips ? data.data.trips : null\n      },\n      resources: (0, _get2.default)(window, '__EK__.resources'),\n      session: (0, _get2.default)(window, '__EK__.session')\n    };\n    this.$el.find('.my-trips__mange-booking').html(this.getTemplate(mytripsData));\n  };\n\n  /**\n   * Show or hide contextual help.\n   * \n   * @param {string} val Value to test\n   */\n\n\n  MyTrips.prototype.showHideContextualHelp = function showHideContextualHelp(val) {\n    if (this.bookingRefInput.is(':focus') && val === '') {\n      this.$bookingRefInputContainer.addClass('show');\n    } else {\n      this.$bookingRefInputContainer.removeClass('show');\n    }\n  };\n  /**\n   * Trigger validation for ID and update class state.\n   * \n   * @param {Event} e Keyboard event\n   */\n\n\n  MyTrips.prototype.handleRefId = function handleRefId(e) {\n    var val = e.currentTarget ? e.currentTarget.value.trim() : e;\n    if (e.type === 'keyup') {\n      var $errorElWrapper = this.$el && this.$el.find('.error-wrapper');\n      var $errorEl = $errorElWrapper && $errorElWrapper.find('p');\n      if ($errorEl.text() === __EK__.resources['BookManage/Retrieve-Trips/Widget/form-error__text'] || $errorEl.text() === __EK__.resources['BookManage/Retrieve-Trips/Widget/form-error-booking__text']) {\n        $errorElWrapper && $errorElWrapper.hide();\n      }\n    }\n    if (val.length > 0) {\n      var validity = this.validateRefId(val);\n      this.showHideContextualHelp(val);\n      if (validity.valid) {\n        this.$invalidRefId.removeClass('show');\n        if (e.type === 'focusout') {\n          e.currentTarget && e.currentTarget.classList.contains('error-highlighter') && e.currentTarget.classList.remove('error-highlighter');\n        }\n      } else {\n        this.$invalidRefId.text(validity.term);\n        this.$invalidRefId.addClass('show');\n        e.currentTarget && !e.currentTarget.classList.contains('error-highlighter') && e.currentTarget.classList.add('error-highlighter');\n      }\n    } else {\n      this.$invalidRefId.removeClass('show');\n      this.showHideContextualHelp(val);\n    }\n  };\n\n  /**\n   * Trigger validation handlers for ID and Last Name.\n   * \n   * @param {Event} event Keyboard event\n   * @param {Object} obj Data object to destruct\n   * @param {string} obj.name The name\n   * @param {string} obj.value The value\n   */\n\n\n  MyTrips.prototype.handleSelection = function handleSelection(event, _ref) {\n    var name = _ref.name,\n        value = _ref.value;\n\n    if (name === 'ref-id') this.handleRefId(value);\n    if (name === 'last-name') this.handleLastName(value);\n  };\n\n  /**\n   * Validate the ID.\n   * Trim the value and update class state.\n   * \n   * @param {string} value The ID value\n   * @return {object}\n   */\n\n\n  MyTrips.prototype.validateRefId = function validateRefId(value) {\n    var validity = { valid: true };\n    if (this.bookingRefInputDirty) {\n      if (!(value.trim().length === 0 && this.bookingRefInput.is(':focus')) && value.trim().length !== 6) {\n        validity.valid = false;\n        validity.term = (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/error-length__text');\n      }\n      if (!value.match(/^[0-9a-zA-Z]+$/) && value.trim().length !== 0) {\n        validity.valid = false;\n        validity.term = (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/error-characters__text');\n      }\n    } else {\n      this.bookingRefInputDirty = true;\n    }\n    return validity;\n  };\n\n  /**\n   * Check if provided last name is valid.\n   * Validating if the last name is less than 22 characters\n   * @param {string} value The value of last name\n   * @return {object} New state\n   */\n\n\n  MyTrips.prototype.validateLastName = function validateLastName(v) {\n    var validity = {\n      valid: true\n    };\n    var value = v || \"\";\n    var trimmedValue = value.replace(/\\s/g, \"\");\n    var maxLength = (0, _get2.default)(__EK__, 'env.EK_MYTRIPS_LASTNAME_MAX_LENGTH');\n    if (trimmedValue.length > parseInt(maxLength)) {\n      var errorMsg = (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/error-last-name-length__text') && (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/error-last-name-length__text').replace('{{value}}', maxLength);\n      validity.valid = false;\n      validity.term = errorMsg;\n    } else if (trimmedValue.length !== 0 && !trimmedValue.match(/^[a-zA-Z ]+$/)) {\n      validity.valid = false;\n      if (trimmedValue.match(/^[0-9a-zA-Z]+$/)) {\n        validity.term = (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/error-name__text');\n      } else {\n        validity.term = (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/error-characters__text');\n      }\n    }\n    if (trimmedValue.length === 0) {\n      validity.valid = false;\n      validity.term = (0, _get2.default)(__EK__, 'resources.BookManage/Retrieve-Trips/Widget/length-error__text');\n    }\n    return validity;\n  };\n\n  /**\n   * Fires the Open Login event on the Main Navigation element.\n   */\n\n\n  MyTrips.prototype.triggerLogin = function triggerLogin() {\n    (0, _jquery2.default)('.main-navigation').trigger('openLogin');\n  };\n\n  /**\n   * Construct URL address and update DOM anchor element.\n   * \n   * @param {string} link The URL value\n   */\n\n\n  MyTrips.prototype.updateFormUrl = function updateFormUrl(link) {\n    var params = (0, _utils.toQueryString)(this.state, true);\n    var url = link + '&' + params;\n    this.$form.attr('action', url);\n  };\n\n  /**\n   * Handle form submission.\n   * Trigger validations and do some updates on state and DOM.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  MyTrips.prototype.submit = function submit(e) {\n    e && e.preventDefault();\n    this.trackMytripsCtaClick(e);\n    var $errorElWrapper = this.$el.find('.error-wrapper');\n    var $errorElSummary = $errorElWrapper.find('.js-error-summary');\n    var nameValue = this.lastNameInput.val();\n    var refValue = this.bookingRefInput.val().trim();\n    var nameValid = this.validateLastName(nameValue);\n    var refValid = this.validateRefId(refValue);\n    if (refValue && !refValid.valid) {\n      return false;\n    }\n    if (nameValue && nameValue.trim() !== \"\" && !nameValid.valid) {\n      return false;\n    }\n    if (nameValid && nameValid.valid && refValid && refValid.valid) {\n      $errorElWrapper.hide();\n      switch (true) {\n        case (0, _includes2.default)(e.currentTarget.className, 'js-my-trips-submit-check-in'):\n          this.state.lastname = nameValue;\n          this.state.bookref = refValue;\n          this.updateFormUrl(__EK__.resources['BookManage/Retrieve-Trips/Cards/check-in__url'].url);\n          break;\n        case (0, _includes2.default)(e.currentTarget.className, 'js-my-trips-submit-manage'):\n        default:\n          this.state.lastname2 = nameValue;\n          this.state.bookref2 = refValue;\n          this.updateFormUrl(__EK__.resources['BookManage/Retrieve-Trips/Widget/manage-booking__url'].url);\n          break;\n      }\n      this.$form.submit();\n    } else {\n      var invalidName = !(nameValid && nameValue);\n      var invalidBookRef = !(refValid.valid && refValue);\n      var $errorEl = $errorElWrapper.find('p');\n      var moduleName = (0, _includes2.default)(e.currentTarget.className, 'js-my-trips-submit-manage') ? 'Manage Booking' : 'Check in';\n      if (invalidName && invalidBookRef) {\n        $errorEl.text(__EK__.resources['BookManage/Retrieve-Trips/Widget/form-error__text']);\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Last Name and Booking Reference Error');\n        this.$lastNameInput && this.$lastNameInput[0] && this.$lastNameInput[0].classList.add('error-highlighter');\n        this.$refIdInput && this.$refIdInput[0] && this.$refIdInput[0].classList.add('error-highlighter');\n      } else if (invalidName) {\n        $errorEl.text(__EK__.resources['BookManage/Retrieve-Trips/Widget/form-error-name__text']);\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Last Name Error');\n        this.$lastNameInput && this.$lastNameInput[0] && this.$lastNameInput[0].classList.add('error-highlighter');\n      } else if (invalidBookRef) {\n        $errorEl.text(__EK__.resources['BookManage/Retrieve-Trips/Widget/form-error-booking__text']);\n        (0, _analytics.pushClientErrorEvent)(moduleName, 'Booking Reference Error');\n        this.$refIdInput && this.$refIdInput[0] && this.$refIdInput[0].classList.add('error-highlighter');\n      }\n      $errorElWrapper.show();\n      $errorElWrapper.attr('role', 'alert');\n      $errorElSummary.focus();\n    }\n  };\n\n  /**\n   * Attach click event to Show Flights button that handles show/hide toggle.\n   * \n   * @todo Check if this is dead code.\n   */\n\n\n  MyTrips.prototype.itemReveal = function itemReveal() {\n    var _this2 = this;\n\n    (0, _jquery2.default)('.js-show-flights', this.$el).bind('click', function (e) {\n      _this2.$el.find('.my-trips__section__row').not(':nth-of-type(1)').not(':nth-of-type(2)').toggleClass('hidden');\n      e.preventDefault();\n      (0, _jquery2.default)(e.currentTarget).hide();\n    });\n  };\n\n  /**\n   * Sends tracking event to Google Analytics.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  MyTrips.prototype.trackMytripsCtaClick = function trackMytripsCtaClick(e) {\n    var trackValue = void 0;\n    switch (true) {\n      case (0, _includes2.default)(e.currentTarget.className, 'js-my-trips-submit-manage'):\n        trackValue = 'Widget:Check in:Manage your trip';\n        break;\n      case (0, _includes2.default)(e.currentTarget.className, 'js-my-trips-submit-check-in'):\n        trackValue = 'Widget:Check in:Check in';\n        break;\n      default:\n        trackValue = 'Widget:Check in:Unknown button';\n    }\n    var eventData = {\n      event: 'EventTrigger.Common_pageBodyWidget_CTAClick',\n      category: 'Page Body Interaction',\n      action: 'CTA Clicked',\n      label: trackValue\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  return MyTrips;\n}(_component2.default);\n\nMyTrips.selector = '.my-trips';\nMyTrips.events = {\n  'click .js-login-link': 'triggerLogin',\n  'keyup [name=\"last-name\"]': 'handleLastName',\n  'blur [name=\"last-name\"]': 'handleLastName',\n  'keyup [name=\"ref-id\"]': 'handleRefId',\n  'focus [name=\"ref-id\"]': 'handleRefId',\n  'blur [name=\"ref-id\"]': 'handleRefId',\n  'input.cleared': 'handleSelection',\n  'click .js-widget-submit': 'submit'\n};\nexports.default = MyTrips;\n\n//# sourceURL=webpack:///./src/components/my-trips/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/my-trips/my-trips.scss?")},function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "  <div class=\\"my-trips__outage-message\\">\\n    <span class=\\"icon icon-information\\"></span>\\n    <span class=\\"my-trips__outage-message--text\\">"\n    + container.escapeExpression(__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Experience/Womf/Womf-results/mytrips-outage__text",{"name":"resource","hash":{},"data":data}))\n    + "</span>\\n"\n    + ((stack1 = container.invokePartial(__webpack_require__(98),depth0,{"name":"content-split","data":data,"indent":"    ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "")\n    + "  </div>\\n";\n},"3":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "  <section class=\\"my-trips__section my-trips__section__list\\">\\n    <h2 class=\\"womf__section__header womf__section__header--tight\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"BookManage/Retrieve-Trips/Widget/upcoming-trips-header__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h2>  \\n"\n    + ((stack1 = helpers["if"].call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1),{"name":"if","hash":{},"fn":container.program(4, data, 0, blockParams, depths),"inverse":container.program(22, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "  </section>\\n";\n},"4":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "        <div class=\\"my-trips__section__row\\">            \\n"\n    + ((stack1 = helpers.each.call(alias1,__default(__webpack_require__(457)).call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1),2,{"name":"limit-trips-data","hash":{},"data":data}),{"name":"each","hash":{},"fn":container.program(5, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "        </div>\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,((stack1 = ((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1)) != null ? stack1.length : stack1),">",2,{"name":"op","hash":{},"fn":container.program(19, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.airSegments : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"6":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "              <div class=\\"my-trips__section__row automation-my-trips-row-"\n    + alias2(alias1((data && data.key), depth0))\n    + "\\">\\n                <div class=\\"grid grid--middle womf__item\\">\\n                  <div class=\\"grid__item medium--one-sixth my-trips__divider-container\\">\\n                    <div class=\\"womf__divider\\">\\n"\n    + ((stack1 = helpers["if"].call(alias3,((stack1 = (depth0 != null ? depth0.tripDetail : depth0)) != null ? stack1.customTripName : stack1),{"name":"if","hash":{},"fn":container.program(7, data, 0),"inverse":container.program(9, data, 0),"data":data})) != null ? stack1 : "")\n    + "                      "\n    + ((stack1 = __default(__webpack_require__(0)).call(alias3,"BookManage/Retrieve-Trips/Widget/trip__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "\\n                    </div>\\n                  </div>\\n                  <div class=\\"grid__item one-half medium--one-sixth womf__item--left\\">\\n                    <span class=\\"flight-status__cell-heading\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias3,"BookManage/Retrieve-Trips/Widget/departing__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</span>\\n                    <span class=\\"flight-status__emphasize js-time-date\\">"\n    + alias2(__default(__webpack_require__(37)).call(alias3,((stack1 = ((stack1 = (depth0 != null ? depth0.airSegments : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.departureDateTime : stack1),{"name":"formatResourceDate","hash":{"key":"shortDateShortDay"},"data":data}))\n    + "</span>\\n                  </div>\\n"\n    + ((stack1 = helpers["if"].call(alias3,((stack1 = ((stack1 = (data && data.root)) && stack1.session)) && stack1.isFullyLoggedIn),{"name":"if","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "                  <div class=\\"grid__item one-half medium--one-quarter\\">\\n                    <a\\n                      href=\\""\n    + ((stack1 = helpers["with"].call(alias3,__default(__webpack_require__(0)).call(alias3,"BookManage/Retrieve-Trips/Widget/manage-booking__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "&showpage=true&bookref2="\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.pnrInfo : depth0)) != null ? stack1.pnr : stack1), depth0))\n    + "&lastname2="\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.pnrInfo : depth0)) != null ? stack1.paxLastName : stack1), depth0))\n    + "\\"\\n                      class=\\"cta cta--large cta--primary my-trips__link my-trips-cta-manage\\">\\n                        "\n    + alias2(__default(__webpack_require__(0)).call(alias3,"BookManage/Retrieve-Trips/Widget/manage-trip__text",{"name":"resource","hash":{},"data":data}))\n    + "\\n                    </a>\\n                  </div>\\n                  <div class=\\"grid__item one-half medium--one-quarter\\">\\n"\n    + ((stack1 = helpers["if"].call(alias3,((stack1 = ((stack1 = (depth0 != null ? depth0.ctaEligibility : depth0)) != null ? stack1.checkin : stack1)) != null ? stack1.eligibile : stack1),{"name":"if","hash":{},"fn":container.program(15, data, 0),"inverse":container.program(17, data, 0),"data":data})) != null ? stack1 : "")\n    + "                  </div>\\n                </div>\\n              </div>\\n";\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "                        "\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tripDetail : depth0)) != null ? stack1.tripName : stack1), depth0))\n    + "\\n";\n},"9":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "                        <span class=\\"js-city-name-field\\" data-iata-code=\\""\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.airSegments : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.destination : stack1), depth0))\n    + "\\"></span>\\n";\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "                  <div class=\\"grid__item one-half medium--one-sixth womf__item--right\\">\\n                    <span class=\\"flight-status__cell-heading\\">\\n                      "\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/Retrieve-Trips/Widget/placeholder-booking-reference__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "\\n                    </span>\\n                    <span class=\\"flight-status__emphasize automation-my-trips-booking-ref\\">"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.pnrInfo : depth0)) != null ? stack1.pnr : stack1), depth0))\n    + "</span>\\n                  </div>\\n";\n},"13":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.url : depth0), depth0));\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression;\n\n  return "                    <a\\n                      href=\\""\n    + ((stack1 = helpers["with"].call(alias1,__default(__webpack_require__(0)).call(alias1,"BookManage/Retrieve-Trips/Cards/check-in__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "&showpage=true&seldcity2="\n    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.airSegments : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.destination : stack1), depth0))\n    + "&bookref="\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.pnrInfo : depth0)) != null ? stack1.pnr : stack1), depth0))\n    + "&lastname="\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.pnrInfo : depth0)) != null ? stack1.paxLastName : stack1), depth0))\n    + "\\"\\n                      class=\\"cta cta--large cta--primary my-trips__link\\">\\n                        "\n    + alias3(__default(__webpack_require__(0)).call(alias1,"BookManage/Retrieve-Trips/Cards/check-in__text",{"name":"resource","hash":{},"data":data}))\n    + "\\n                      </a>\\n";\n},"17":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(__webpack_require__(458),depth0,{"name":"cta","hash":{"class":"my-trips__link automation-my-trips-cta-checkin","label":__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/Retrieve-Trips/Widget/online-check-in-unavailable__text",{"name":"resource","hash":{},"data":data}),"disabled":"true","type":"primary","size":"large","element":"button"},"data":data,"indent":"                      ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");\n},"19":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return ((stack1 = helpers["with"].call(alias1,__default(__webpack_require__(0)).call(alias1,"BookManage/Retrieve-Trips/Widget/view-all-trips__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(20, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"20":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "              <a href=\\""\n    + alias2(alias1((depth0 != null ? depth0.url : depth0), depth0))\n    + "\\" target=\\""\n    + alias2(alias1((depth0 != null ? depth0.target : depth0), depth0))\n    + "\\" class=\\"my-trips__inline-link my-trips__inline-link--view-all\\">\\n                "\n    + alias2(__default(__webpack_require__(146)).call(alias3,__default(__webpack_require__(0)).call(alias3,"BookManage/Retrieve-Trips/Widget/view-all-trips__text",{"name":"resource","hash":{},"data":data}),"allTripsCount",(depths[1] != null ? depths[1].myTrips : depths[1]),{"name":"flight-count","hash":{},"data":data}))\n    + "\\n              </a>\\n";\n},"22":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "          <p class=\\"womf__section__paragraph  ta--left no-flights\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Experience/Womf/Womf-widget/no-upcoming-flights__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return ((stack1 = __default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.myTrips : depth0),"===",undefined,{"name":"op","hash":{},"data":data}),"||",__default(__webpack_require__(3)).call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.outage : stack1),"===","true",{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.program(3, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "");\n},"usePartial":true,"useData":true,"useDepths":true});\n\n//# sourceURL=webpack:///./src/components/my-trips/my-trips-manage-booking.handlebars?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar sortBy = __webpack_require__(59);\n\n/**\n * Returns trips limited and sorted with departure date of first segment.\n *\n * @param {array} trips List of trips with details\n * @param {number} limit Maximum number of trips\n * @returns {array}\n */\nmodule.exports = function (trips, limit) {\n  return sortBy(trips, 'airSegments.0.departureDateTime').splice(0, limit);\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/limit-trips-data.js?")},function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.element : depth0), depth0));\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "a href=\\""\n    + ((stack1 = container.lambda((depth0 != null ? depth0.externalLink : depth0), depth0)) != null ? stack1 : "")\n    + "\\" "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.isFeaturedFares : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.analyticsLabel : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.target : depth0),{"name":"if","hash":{},"fn":container.program(8, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"4":function(container,depth0,helpers,partials,data) {\n    var alias1=container.escapeExpression;\n\n  return " aria-live=\\"on\\" aria-label=\\""\n    + alias1(__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/Featured-Fares/announcement-destinations-from__text",{"name":"resource","hash":{},"data":data}))\n    + " "\n    + alias1(container.lambda((depth0 != null ? depth0.label : depth0), depth0))\n    + "\\"";\n},"6":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return "data-id=\\""\n    + alias2(alias1((depth0 != null ? depth0.analyticsId : depth0), depth0))\n    + "\\" data-link=\\""\n    + alias2(alias1((depth0 != null ? depth0.analyticsLabel : depth0), depth0))\n    + "\\" ";\n},"8":function(container,depth0,helpers,partials,data) {\n    return "target=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.target : depth0), depth0))\n    + "\\"";\n},"10":function(container,depth0,helpers,partials,data) {\n    return "cta--"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.size : depth0), depth0));\n},"12":function(container,depth0,helpers,partials,data) {\n    return "cta--"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.type : depth0), depth0));\n},"14":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0["class"] : depth0), depth0));\n},"16":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda((depth0 != null ? depth0.customClass : depth0), depth0));\n},"18":function(container,depth0,helpers,partials,data) {\n    return "disabled ";\n},"20":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.lambda((depth0 != null ? depth0.attrs : depth0), depth0)) != null ? stack1 : "");\n},"22":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "type=\\""\n    + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.isSubmit : depth0),{"name":"if","hash":{},"fn":container.program(23, data, 0),"inverse":container.program(25, data, 0),"data":data})) != null ? stack1 : "")\n    + "\\"";\n},"23":function(container,depth0,helpers,partials,data) {\n    return "submit";\n},"25":function(container,depth0,helpers,partials,data) {\n    return "button";\n},"27":function(container,depth0,helpers,partials,data) {\n    return "role=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.role : depth0), depth0))\n    + "\\"";\n},"29":function(container,depth0,helpers,partials,data) {\n    return "aria-label=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.ariaLabel : depth0), depth0))\n    + "\\"";\n},"31":function(container,depth0,helpers,partials,data) {\n    return "aria-expanded=\\"true\\"";\n},"33":function(container,depth0,helpers,partials,data) {\n    return "<span class=\\"visually-hidden\\">"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.srLabel : depth0), depth0))\n    + "</span>";\n},"35":function(container,depth0,helpers,partials,data) {\n    return "    <span class=\\"visually-hidden should-expand-collapse-announce\\" ></span>\\n";\n},"37":function(container,depth0,helpers,partials,data) {\n    return "<span class=\\"sr-end\\"></span>";\n},"39":function(container,depth0,helpers,partials,data) {\n    return "aria-hidden=\\"true\\"";\n},"41":function(container,depth0,helpers,partials,data) {\n    return "aria-live=\\"off\\"";\n},"43":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "  <i class=\\"icon icon-external-link\\">\\n    <span class=\\"visually-hidden\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Common/Accessibility/opens-in-new-tab__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</span>\\n  </i>\\n";\n},"45":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials["@partial-block"],depth0,{"name":"@partial-block","data":data,"indent":"    ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");\n},"47":function(container,depth0,helpers,partials,data) {\n    return "a";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "<"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.element : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.program(3, data, 0),"data":data})) != null ? stack1 : "")\n    + " class=\\"cta "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.size : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.type : depth0),{"name":"if","hash":{},"fn":container.program(12, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0["class"] : depth0),{"name":"if","hash":{},"fn":container.program(14, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.customClass : depth0),{"name":"if","hash":{},"fn":container.program(16, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\"\\n    "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.disabled : depth0),{"name":"if","hash":{},"fn":container.program(18, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n    "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.attrs : depth0),{"name":"if","hash":{},"fn":container.program(20, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "    \\n    "\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.element : depth0),"===","button",{"name":"op","hash":{},"fn":container.program(22, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.role : depth0),{"name":"if","hash":{},"fn":container.program(27, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.ariaLabel : depth0),{"name":"if","hash":{},"fn":container.program(29, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.ctaAriaExpanded : depth0),{"name":"if","hash":{},"fn":container.program(31, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ">\\n  "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.srLabel : depth0),{"name":"if","hash":{},"fn":container.program(33, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.shouldExpandCollapseAnnounce : depth0),{"name":"if","hash":{},"fn":container.program(35, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "  "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.srLinkEnd : depth0),{"name":"if","hash":{},"fn":container.program(37, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\n  <span class=\\"js-label cta__text\\" "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.srLabel : depth0),{"name":"if","hash":{},"fn":container.program(39, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.isFeaturedFares : depth0),{"name":"if","hash":{},"fn":container.program(41, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ">"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.label : depth0), depth0))\n    + "</span>\\n"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.showExternalIcon : depth0),{"name":"if","hash":{},"fn":container.program(43, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + ((stack1 = helpers["if"].call(alias1,(data && data["partial-block"]),{"name":"if","hash":{},"fn":container.program(45, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "</"\n    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.element : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.program(47, data, 0),"data":data})) != null ? stack1 : "")\n    + ">\\n";\n},"usePartial":true,"useData":true});\n\n//# sourceURL=webpack:///./src/components/cta/cta.handlebars?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(460);\n\nvar _component = __webpack_require__(2);\n\nvar _utils = __webpack_require__(5);\n\nvar _flightCommon = __webpack_require__(138);\n\nvar _flightCommon2 = _interopRequireDefault(_flightCommon);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _airports = __webpack_require__(17);\n\nvar _mytrips = __webpack_require__(60);\n\nvar _myTripsFlightStatus = __webpack_require__(461);\n\nvar _myTripsFlightStatus2 = _interopRequireDefault(_myTripsFlightStatus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\n/**\n * Class representing Flight Status component.\n * \n * @extends FlightCommon\n */\nvar FlightStatus = function (_FlightCommon) {\n  _inherits(FlightStatus, _FlightCommon);\n\n  function FlightStatus(el, $el) {\n    _classCallCheck(this, FlightStatus);\n\n    var _this = _possibleConstructorReturn(this, _FlightCommon.call(this, el, $el));\n\n    _this.options = {\n      flightTypeArrival: 'js-select-flight-arrival',\n      flightTypeDeparture: 'js-select-flight-departure',\n      outage: false\n    };\n\n    _this.state = {\n      flightType: 2\n    };\n    if (__EK__.resources['BookManage/Flight-Status/Widget/default-option-flightnumber__text'] && __EK__.resources['BookManage/Flight-Status/Widget/default-option-flightnumber__text'] === 'true') {\n      _this.state.type = 'flightNumber';\n    } else {\n      _this.state.type = 'route';\n    }\n    _this.$flightTypeArrivalRadio = _this.$el.find((0, _component.toSel)(_this.options.flightTypeArrival));\n    _this.$flightTypeDepartureRadio = _this.$el.find((0, _component.toSel)(_this.options.flightTypeDeparture));\n\n    _this.options.outage = _this.$el.hasClass('js-outage');\n    return _this;\n  }\n\n  /**\n   * Returns the Mytrips template.\n   * \n   * @param {object} data \n   */\n\n\n  FlightStatus.prototype.getTemplate = function getTemplate(data) {\n    return (0, _myTripsFlightStatus2.default)(data);\n  };\n\n  /**\n  * Renders Mytrips list and injects into DOM.\n  * \n  * @param {object} data \n  */\n\n\n  FlightStatus.prototype.bulkRender = function bulkRender(data) {\n    var mytripsData = {\n      myTrips: {\n        trips: data.data && data.data.trips ? data.data.trips : null\n      },\n      resources: (0, _get2.default)(window, '__EK__.resources')\n    };\n    this.$el.find('.my-trips__flight-status').html(this.getTemplate(mytripsData));\n  };\n\n  /**\n   * Get destinations based on provided details.\n   * \n   * @param {string} eventName Event name\n   * @param {object} details Data object\n   */\n\n\n  FlightStatus.prototype.originSelectedHandler = function originSelectedHandler(eventName, details) {\n    var _this2 = this;\n\n    var iataCode = details.iataCode,\n        focusDestinations = details.focusDestinations;\n\n    return (0, _airports.getDestinations)(iataCode, false).then(function (destinations) {\n      _this2.publish('destinations.loaded', {\n        destinations: destinations,\n        focusDestinations: focusDestinations,\n        iataCode: iataCode,\n        section: 'status'\n      });\n    });\n  };\n\n  /**\n   * Update state to indicate search by Arrival day.\n   */\n\n\n  FlightStatus.prototype.setFlightTypeArrival = function setFlightTypeArrival() {\n    (0, _utils.setCheckedStatus)(false, this.$flightTypeDepartureRadio);\n    (0, _utils.setCheckedStatus)(true, this.$flightTypeArrivalRadio);\n    this.state.flightType = 1;\n  };\n\n  /**\n   * Update state to indicate search by Departure day.\n   */\n\n\n  FlightStatus.prototype.setFlightTypeDeparture = function setFlightTypeDeparture() {\n    (0, _utils.setCheckedStatus)(false, this.$flightTypeArrivalRadio);\n    (0, _utils.setCheckedStatus)(true, this.$flightTypeDepartureRadio);\n    this.state.flightType = 2;\n  };\n\n  /**\n   * Show or hide control for search by Departure day or Arrival day.\n   */\n\n\n  FlightStatus.prototype.toggleFlightTypeControls = function toggleFlightTypeControls() {\n    var hideElementClass = 'flight-status__flight-type--hidden';\n    if (this.state.type === 'route') return this.$el.find('.js-flight-status-type').removeClass(hideElementClass);\n    return this.$el.find('.js-flight-status-type').addClass(hideElementClass);\n  };\n\n  /**\n   * Get values required to submit the form when searching by Flight number.\n   * \n   * @return {object} Data\n   */\n\n\n  FlightStatus.prototype.flightNumberValues = function flightNumberValues() {\n    var DateSelected = this.formatDate();\n    var FlightNumber = this.$flightStatusNumber.val().replace(/[^0-9]/, '');\n    if (DateSelected) return { DateSelected: DateSelected, FlightNumber: FlightNumber };\n    return { FlightNumber: FlightNumber };\n  };\n\n  /**\n   * Get values required to submit the form when searching by Flight route.\n   * \n   * @return {object} Data\n   */\n\n\n  FlightStatus.prototype.routeValues = function routeValues() {\n    var DateSelected = this.formatDate();\n    var Departure = this.state.origin;\n    var Arrival = this.state.destination;\n    var FlightStatusOption = this.state.flightType;\n    return { DateSelected: DateSelected, Departure: Departure, Arrival: Arrival, FlightStatusOption: FlightStatusOption };\n  };\n\n  /**\n   * Get formatted date.\n   * \n   * @return {string} Formatted date\n   */\n\n\n  FlightStatus.prototype.formatDate = function formatDate() {\n    var DATE_FORMAT = 'YYMMDD';\n    if (this.state.date) {\n      return (0, _moment2.default)(this.state.date).format(DATE_FORMAT);\n    }\n  };\n\n  return FlightStatus;\n}(_flightCommon2.default);\n\nFlightStatus.selector = '.js-flight-status';\nFlightStatus.events = {\n  'click .js-activate-flight-number': 'showFlightNumber',\n  'click .js-activate-flight-route': 'showFlightRoute',\n  'click .js-select-flight-arrival': 'setFlightTypeArrival',\n  'click .js-select-flight-departure': 'setFlightTypeDeparture',\n  'keyup .js-flight-number-status': 'handleKeyUp',\n  'click .js-login-link': 'triggerLogin',\n  'dropdown.selection': 'handleSelection',\n  'search.selection.status': 'handleSelection',\n  'origin.selected.status': 'originSelectedHandler',\n  'click .js-widget-submit': 'submit',\n  'input.cleared': 'handleSelection'\n};\nexports.default = FlightStatus;\n\n//# sourceURL=webpack:///./src/components/flight-status/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/flight-status/flight-status.scss?")},function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "  <div class=\\"womf__outage-message\\">\\n    <span class=\\"icon icon-information\\"></span>\\n    <span class=\\"womf__outage-message--text\\">"\n    + container.escapeExpression(__default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"Experience/Womf/Womf-results/mytrips-outage__text",{"name":"resource","hash":{},"data":data}))\n    + "</span>\\n"\n    + ((stack1 = container.invokePartial(__webpack_require__(98),depth0,{"name":"content-split","data":data,"indent":"    ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "")\n    + "  </div>\\n";\n},"3":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "      <section class=\\"womf__section womf__section__trips \\">\\n        <h2 class=\\"womf__section__header womf__section__header--tight grid__item ta--left no-flights\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias1,"BookManage/Flight-Status/Widget/upcoming-flights__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h2>\\n"\n    + ((stack1 = helpers["if"].call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1),{"name":"if","hash":{},"fn":container.program(4, data, 0, blockParams, depths),"inverse":container.program(15, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")\n    + "        </section> \\n";\n},"4":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "            "\n    + container.escapeExpression(__default(__webpack_require__(139)).call(alias1,"trips",__default(__webpack_require__(462)).call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1),2,{"name":"flight-status-trips","hash":{},"data":data}),{"name":"var","hash":{},"data":data}))\n    + "\\n"\n    + ((stack1 = helpers["if"].call(alias1,((stack1 = (depth0 != null ? depth0.trips : depth0)) != null ? stack1.length : stack1),{"name":"if","hash":{},"fn":container.program(5, data, 0, blockParams, depths),"inverse":container.program(13, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "");\n},"5":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "              <div class=\\"womf__section__rows\\">\\n"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.trips : depth0),{"name":"each","hash":{},"fn":container.program(6, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "              </div>\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias1,((stack1 = ((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.trips : stack1)) != null ? stack1.length : stack1),">",2,{"name":"op","hash":{},"fn":container.program(10, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"6":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = helpers["with"].call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? depth0.airSegments : depth0)) != null ? stack1["0"] : stack1),{"name":"with","hash":{},"fn":container.program(7, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");\n},"7":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "                    <div class=\\"womf__section__row\\">\\n                      <div class=\\"grid grid--middle womf__item\\">\\n                        <div class=\\"grid__item medium--one-quarter womf__divider-container\\">\\n                          <div class=\\"womf__divider\\">\\n                            <span class=\\"js-city-name-field\\" data-iata-code=\\""\n    + alias2(alias1((depth0 != null ? depth0.origin : depth0), depth0))\n    + "\\"></span>\\n                            <span class=\\"js-city-name-code\\">("\n    + alias2(alias1((depth0 != null ? depth0.origin : depth0), depth0))\n    + ")</span>\\n                            <span class=\\"flight-status__city-separator\\"></span>\\n                            <span class=\\"js-city-name-field\\" data-iata-code=\\""\n    + alias2(alias1((depth0 != null ? depth0.destination : depth0), depth0))\n    + "\\"></span>\\n                            <span class=\\"js-city-name-code\\">("\n    + alias2(alias1((depth0 != null ? depth0.destination : depth0), depth0))\n    + ")</span>\\n                            <p class=\\"flight__status--text\\">"\n    + alias2(__default(__webpack_require__(465)).call(alias3,depths[1],(depth0 != null ? depth0.flightStatus : depth0),{"name":"flight-status","hash":{},"data":data}))\n    + "</p>\\n                          </div>\\n                        </div>\\n                        <div class=\\"grid__item one-half medium--one-quarter womf__item--left\\">\\n                          <h3 class=\\"flight-status__cell-heading\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias3,"BookManage/Flight-Status/Widget/departing-heading__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h3>\\n                          <span class=\\"flight-status__emphasize\\">\\n                            "\n    + alias2(__default(__webpack_require__(37)).call(alias3,(depth0 != null ? depth0.departureDateTime : depth0),{"name":"formatResourceDate","hash":{"key":"shortDateShortDay"},"data":data}))\n    + "\\n                          </span>\\n                        </div>\\n                        <div class=\\"grid__item one-half medium--one-quarter womf__item--right\\">\\n                          <h3 class=\\"flight-status__cell-heading\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(alias3,"BookManage/Flight-Status/Widget/flight-number-heading__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</h3>\\n                          <span class=\\"flight-status__emphasize\\">"\n    + alias2(alias1((depth0 != null ? depth0.flightNumber : depth0), depth0))\n    + "</span>\\n                        </div>\\n                        <div class=\\"grid__item medium--one-quarter womf__cta\\">\\n                            <a\\n"\n    + ((stack1 = helpers["with"].call(alias3,__default(__webpack_require__(0)).call(alias3,"BookManage/Flight-Status/Widget/status-cta__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(8, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "                              class=\\"cta cta--large cta--primary flight-status__link\\"\\n                              href=\\""\n    + alias2(__default(__webpack_require__(61)).call(alias3,"status",__default(__webpack_require__(0)).call(alias3,"BookManage/Flight-Status/Widget/status-cta__url",{"name":"resource","hash":{},"data":data}),(depth0 != null ? depth0.flightNumber : depth0),(depth0 != null ? depth0.departureDateTime : depth0),{"name":"deep-link","hash":{},"data":data}))\n    + "\\">\\n                                "\n    + alias2(__default(__webpack_require__(0)).call(alias3,"BookManage/Flight-Status/Widget/status-cta__text",{"name":"resource","hash":{},"data":data}))\n    + "\\n                            </a>\\n                        </div>\\n                      </div>\\n                    </div>\\n";\n},"8":function(container,depth0,helpers,partials,data) {\n    return "                                target=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.target : depth0), depth0))\n    + "\\"\\n";\n},"10":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression;\n\n  return "                <div class=\\"grid grid--middle womf__item womf__item--pure-left\\">\\n                  <div class=\\"grid__item medium--one-half\\">\\n                      <a\\n"\n    + ((stack1 = helpers["with"].call(alias1,__default(__webpack_require__(0)).call(alias1,"BookManage/Flight-Status/Widget/view-all-flights__url",{"name":"resource","hash":{},"data":data}),{"name":"with","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "                        class=\\"my-trips__inline-link womf__section__inline-link\\"\\n                        href=\\""\n    + alias2(__default(__webpack_require__(61)).call(alias1,"status-upcoming-flights",__default(__webpack_require__(0)).call(alias1,"BookManage/Flight-Status/Widget/view-all-flights__url",{"name":"resource","hash":{},"data":data}),"","",{"name":"deep-link","hash":{},"data":data}))\n    + "\\">\\n                          "\n    + alias2(__default(__webpack_require__(146)).call(alias1,__default(__webpack_require__(0)).call(alias1,"BookManage/Flight-Status/Widget/view-all-flights__text",{"name":"resource","hash":{},"data":data}),"allTripsCount",(depth0 != null ? depth0.myTrips : depth0),{"name":"flight-count","hash":{},"data":data}))\n    + "\\n                      </a>\\n                  </div>\\n                </div>\\n";\n},"11":function(container,depth0,helpers,partials,data) {\n    return "                          target=\\""\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.target : depth0), depth0))\n    + "\\"\\n";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "              <p class=\\"womf__section__paragraph no-flights\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/Flight-Status/Widget/no-upcoming-flights__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n";\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "            <p class=\\"womf__section__paragraph no-flights\\">"\n    + ((stack1 = __default(__webpack_require__(0)).call(depth0 != null ? depth0 : (container.nullContext || {}),"BookManage/Flight-Status/Widget/no-upcoming-flights__text",{"name":"resource","hash":{},"data":data})) != null ? stack1 : "")\n    + "</p>\\n";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return ((stack1 = __default(__webpack_require__(3)).call(alias1,__default(__webpack_require__(3)).call(alias1,(depth0 != null ? depth0.myTrips : depth0),"===",undefined,{"name":"op","hash":{},"data":data}),"||",__default(__webpack_require__(3)).call(alias1,((stack1 = (depth0 != null ? depth0.myTrips : depth0)) != null ? stack1.outage : stack1),"===","true",{"name":"op","hash":{},"data":data}),{"name":"op","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.program(3, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "");\n},"usePartial":true,"useData":true,"useDepths":true});\n\n//# sourceURL=webpack:///./src/components/my-trips/my-trips-flight-status.handlebars?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar sortBy = __webpack_require__(59);\nvar inRange = __webpack_require__(463);\n\n/**\n * Returns trips enabled for flight status.\n *\n * @param {array} trips\n * @param {number} limit\n * @return {array}\n */\nmodule.exports = function (trips, limit) {\n  var validFlightStatus = trips.filter(function (item) {\n    return inRange(item.tripDetail.daysToTravel, -1, 2);\n  });\n  return sortBy(validFlightStatus, 'airSegments.0.departureDateTime').slice(0, limit);\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/flight-status-trips.js?")},,,function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * Returns flight data.\n * \n * @param {object} trip \n * @param {object} statusData \n * @return {object|null}\n */\nfunction statusForFlight(trip, statusData) {\n  var data = null;\n  statusData.forEach(function (item) {\n    if (item && item.flightStatus) {\n      item.flightStatus.forEach(function (status) {\n        if (status.formattedflightNo === trip.flightNumber) {\n          data = status;\n        }\n      });\n    }\n  });\n  return data;\n}\n\n/**\n * Returns flight status message.\n * \n * @param {object} trip \n * @param {object} statusData \n * @param {object} resources Resources object\n * @return {string}\n */\nmodule.exports = function flightStatus(trip, statusData, resources) {\n  if (!statusData) return '';\n  var data = statusForFlight(trip, statusData);\n  if (data) {\n    var leg = data.legs.filter(function (i) {\n      if (i.destination.airport.code === trip.destination && i.origin.airport.code === trip.origin) {\n        return true;\n      }\n      return false;\n    });\n    if (leg.length) {\n      return resources['BookManage/Flight-Status/Statuses/status-' + leg[0].status + '__text'];\n    } else {\n      return '';\n    }\n  }\n  return '';\n};\n\n//# sourceURL=webpack:///./src/common/scripts/handlebars-helpers/flight-status.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(467);\n\n//# sourceURL=webpack:///./src/components/promo-block/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/promo-block/promo-block.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(469);\n\n//# sourceURL=webpack:///./src/components/special-offers/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/special-offers/special-offers.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(471);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _loyaltyService = __webpack_require__(472);\n\nvar _loyalityOfferItem = __webpack_require__(473);\n\nvar _loyalityOfferItem2 = _interopRequireDefault(_loyalityOfferItem);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__ */\n\n\nvar formatResourceDate = __webpack_require__(37);\n\nvar TargetedLoyaltyOffers = function (_Component) {\n  _inherits(TargetedLoyaltyOffers, _Component);\n\n  function TargetedLoyaltyOffers(el, $el) {\n    _classCallCheck(this, TargetedLoyaltyOffers);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.collection = {};\n    _this.daysOfWeek = {};\n\n    _this.getTemplate = function (data) {\n      data.resources = (0, _get2.default)(window, "__EK__.resources");\n      return (0, _loyalityOfferItem2.default)(data);\n    };\n\n    _this.findCategoryWiseDate = function (_ref) {\n      var format = _ref.format,\n          key = _ref.key,\n          date = _ref.date;\n\n      var firstIndex = format.toLowerCase().indexOf(key);\n      var lastIndex = format.toLowerCase().lastIndexOf(key);\n      return date.slice(firstIndex, lastIndex + 1);\n    };\n\n    _this.addTimeStampToDate = function (_ref2) {\n      var date = _ref2.date,\n          format = _ref2.format;\n\n      var dd = _this.findCategoryWiseDate({ format: format, key: \'d\', date: date });\n      var mm = _this.findCategoryWiseDate({ format: format, key: \'m\', date: date });\n      var months = {\n        \'jan\': \'01\',\n        \'feb\': \'02\',\n        \'mar\': \'03\',\n        \'apr\': \'04\',\n        \'may\': \'05\',\n        \'jun\': \'06\',\n        \'jul\': \'07\',\n        \'aug\': \'08\',\n        \'sep\': \'09\',\n        \'oct\': \'10\',\n        \'nov\': \'11\',\n        \'dec\': \'12\'\n      };\n      mm = months[mm.toLowerCase()];\n      var yy = _this.findCategoryWiseDate({ format: format, key: \'y\', date: date });\n      return yy + "-" + mm + "-" + dd + "T00:00:00.000Z";\n    };\n\n    _this.dateFormater = function (_ref3) {\n      var date = _ref3.date,\n          data = _ref3.data;\n\n      var options = {};\n      options.data = data;\n      options.data.root = { resources: (0, _get2.default)(window, "__EK__.resources") };\n      options.hash = { key: "shortDate" };\n      var dateWithTimeStamp = _this.addTimeStampToDate({ date: date, format: "DDMMMYYYY" });\n\n      return formatResourceDate(dateWithTimeStamp, options);\n    };\n\n    _this.splitValues = function (string) {\n      return string.split(",").map(function (val) {\n        return val.trim();\n      });\n    };\n\n    _this.arrayToObject = function (_ref4) {\n      var array = _ref4.array,\n          _ref4$keyModifier = _ref4.keyModifier,\n          keyModifier = _ref4$keyModifier === undefined ? function (_) {\n        return _;\n      } : _ref4$keyModifier;\n      return array.reduce(function (accumulator) {\n        var currentValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var _currentValue$key = currentValue.key,\n            key = _currentValue$key === undefined ? "" : _currentValue$key,\n            value = currentValue.value;\n\n        accumulator[keyModifier(key)] = value;\n        return accumulator;\n      }, {});\n    };\n\n    _this.getCabinString = function (_ref5) {\n      var _ref5$cabins = _ref5.cabins,\n          cabins = _ref5$cabins === undefined ? "" : _ref5$cabins;\n\n      var classMap = {\n        F: __EK__.resources["BookManage/search-flight/class-first__text"],\n        J: __EK__.resources["BookManage/search-flight/class-business__text"],\n        Y: __EK__.resources["BookManage/search-flight/class-economy__text"]\n      };\n      var values = _this.splitValues(cabins);\n      var cabinNames = [];\n      for (var _iterator = values, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref6;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref6 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref6 = _i.value;\n        }\n\n        var cabin = _ref6;\n\n        cabinNames.push(classMap[cabin]);\n      }\n      return cabinNames.join(", ");\n    };\n\n    _this.getAirportsString = function (_ref7) {\n      var collection = _ref7.collection,\n          _ref7$airports = _ref7.airports,\n          airports = _ref7$airports === undefined ? "" : _ref7$airports;\n\n      var values = _this.splitValues(airports);\n      var airportShortNames = [];\n      for (var _iterator2 = values, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref8;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref8 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref8 = _i2.value;\n        }\n\n        var airport = _ref8;\n        var _collection$airport = collection[airport];\n        _collection$airport = _collection$airport === undefined ? {} : _collection$airport;\n        var shortName = _collection$airport.shortName;\n\n        airportShortNames.push(shortName);\n      }\n      return airportShortNames.join(", ");\n    };\n\n    _this.resolveDayOfWeek = function (_ref9) {\n      var day = _ref9.day,\n          collection = _ref9.collection;\n\n      var resolvedWeeks = _this.stringToArray({\n        string: day,\n        valueModifier: function valueModifier(val) {\n          return collection[String.prototype.toLowerCase.call(val)];\n        }\n      });\n      return resolvedWeeks.join(", ");\n    };\n\n    _this.formatData = function (_ref10) {\n      var key = _ref10.key,\n          data = _ref10.data,\n          options = _ref10.options;\n\n      key = key.toLowerCase();\n      var len = key.length;\n      if (key.substr(len - 4) === "date") {\n        data = _this.dateFormater({ date: data, data: options });\n      } else if (key === "origin" || key === "destination") {\n        return _this.getAirportsString({\n          collection: _this.collection,\n          airports: data\n        });\n      } else if (key === "cabin") {\n        return _this.getCabinString({ cabins: data });\n      } else if (key === "dayofweek") {\n        _this.resolveDays = _this.resolveDays || _this.arrayToObject({\n          array: _this.daysOfWeek.value,\n          keyModifier: function keyModifier(key) {\n            return key.toLowerCase();\n          }\n        });\n        return _this.resolveDayOfWeek({ day: data, collection: _this.resolveDays });\n      }\n      return data;\n    };\n\n    _this.filterData = function (resultArray) {\n      var result = resultArray.filter(function (card) {\n        if (card !== undefined) {\n          var desc = (0, _get2.default)(card, "desc", "");\n          return desc.indexOf("{{") === -1;\n        }\n      });\n      return result;\n    };\n\n    _this.getResolveImage = function (card) {\n      var multimedia = (0, _get2.default)(card, "content.component.content.artwork.multimedia", undefined);\n      if (typeof multimedia != "undefined") {\n        var mediaPath = __EK__.env.MEDIA_URL || "";\n        multimedia.url = mediaPath + multimedia.url;\n        if (multimedia.contentHash) {\n          multimedia.url = (multimedia.url + "?h=" + multimedia.contentHash).toLowerCase();\n        }\n        return multimedia.url;\n      }\n    };\n\n    _this.redirectToDynamicDetailPage = function (detailLink, card, event) {\n      if (!(0, _jquery2.default)(event.target).hasClass("offers__item" + card.cssSelector + "__link")) {\n        window.dataLayer.push({\n          event: "DataPush.PageBody_CardClicked",\n          category: "Page Body Interaction",\n          action: "Card Clicked",\n          label: "" + card.offerCode,\n          offerState: card.promoDisplayCategory + " State",\n          value: 0\n        });\n        window.location = detailLink;\n      }\n    };\n\n    _this.resolveData = function (card) {\n      card = _this.resolvePlaceholders(card);\n      card.thumbnail = _this.getResolveImage(card);\n      var _EK__$resources$Book = __EK__.resources["BookManage/Special-Offers/Targeted-Offers/learn-more__url"].url,\n          baseUrlDetailOffer = _EK__$resources$Book === undefined ? "" : _EK__$resources$Book;\n\n\n      var detailLink = card.detailLink || baseUrlDetailOffer + "?offerID=" + card.offerCode;\n      card.detailLink = detailLink;\n      var expiry = card.offerEndDate || "";\n      if (expiry.length) {\n        expiry = _this.dateFormater({ date: expiry, data: card });\n        if (expiry.toLowerCase().trim().substr(0, 7) !== "expires") {\n          var expiryText = __EK__.resources["BookManage/Special-Offers/Targeted-Offers/offer-expiry-date"];\n          expiry = expiryText ? expiryText.replace("{{CrisExpiryDate}}", expiry) : "";\n        }\n        card.offerEndDate = expiry;\n        card.learnMore = __EK__.resources["BookManage/Special-Offers/Targeted-Offers/learn-more"];\n      }\n      if (card.promoDisplayCategory === "PAR") {\n        card.promoDisplayCategory = "Participated";\n        (0, _get2.default)(card, "content.component.content.state", []).forEach(function (variations) {\n          if (variations.offerState.toLowerCase() === "participated") {\n            card.progresstitle = variations.status;\n          }\n        });\n        var achivedListData = (0, _get2.default)(card, "achievedHistoricCriteria.achievedHistoricCriteriaList[0]", {});\n        var definedListData = (0, _get2.default)(card, "definedHistoricCriteria.definedHistoricCriteriaList[0]", {});\n        var achievedCriteria = (0, _get2.default)(achivedListData["No Of Activities"], "[0].value", 0);\n        var definedCriteria = (0, _get2.default)(definedListData["No Of Activities"], "[0].value", 0);\n        card.progressnumber = achievedCriteria + " \\xA0" + __EK__.resources["BookManage/Special-Offers/Targeted-Offers/out-of"] + " " + definedCriteria;\n        definedCriteria = definedCriteria == 0 ? 1 : definedCriteria;\n        card.progressMade = achievedCriteria * 100 / definedCriteria;\n        card.progressMade = card.progressMade > 100 ? 100 : card.progressMade;\n      } else if (card.promoDisplayCategory === "ADV") {\n        card.promoDisplayCategory = "Advertised";\n      }\n      return card;\n    };\n\n    _this.resolvePlaceholders = function (card) {\n      var desc = (0, _get2.default)(card, "content.component.content.body", undefined);\n      if (desc !== "") {\n        var offerTemplateDetails = (0, _get2.default)(card, "offerTemplateDetails.offerTemplateDetailsList[0]", {});\n        var regex = /{{[^}]*}}/g;\n        desc = desc.replace(regex, function (match) {\n          var itemKey = match.replace(/(\\{|\\})/g, "");\n          var itemValue = offerTemplateDetails[itemKey];\n          if (itemValue && itemValue[0] && itemValue[0].value) {\n            return _this.formatData({\n              key: itemKey,\n              data: itemValue[0].value,\n              options: card\n            });\n          }\n          return match;\n        });\n        card.desc = desc;\n      }\n      return card;\n    };\n\n    _this.renderData = function (result, loyaltyBlock) {\n      var loyaltyOfferContainer = (0, _jquery2.default)("#loyalty-offers-item-container");\n      var cssSelector = "";\n      var resultArray = result.map(function (card) {\n        return _this.resolveData(card);\n      });\n      resultArray = _this.filterData(resultArray);\n      (0, _jquery2.default)(".loyality-offers__loader-wrapper").css({ display: "none" });\n      loyaltyBlock.css({ display: "block" });\n      if (resultArray.length < 3) cssSelector = resultArray.length;else if (resultArray.length > 3) {\n        var exploreCTA = loyaltyBlock.children(".loyality-offers__url");\n        var exploreLabel = exploreCTA[0].innerText.trim();\n        exploreCTA.css({ display: "block" });\n        exploreCTA.on("click", function () {\n          window.dataLayer.push({\n            event: "DataPush.PageBody_CTAClicked",\n            category: "Page Body Interaction",\n            action: "CTA Clicked",\n            label: "" + exploreLabel,\n            value: 0\n          });\n        });\n      }\n      loyaltyOfferContainer.addClass("offers__item-container" + cssSelector);\n      resultArray.slice(0, 3).map(function (card) {\n        card.cssSelector = cssSelector;\n        loyaltyOfferContainer.append(_this.getTemplate(card));\n        var _EK__$resources$Book2 = __EK__.resources["BookManage/Special-Offers/Targeted-Offers/learn-more__url"].url,\n            baseUrlDetailOffer = _EK__$resources$Book2 === undefined ? "" : _EK__$resources$Book2;\n\n\n        var detailLink = card.detailLink || baseUrlDetailOffer + "?offerID=" + card.offerCode;\n        (0, _jquery2.default)("#" + card.offerCode).on("click", function (event) {\n          return _this.redirectToDynamicDetailPage(detailLink, card, event);\n        });\n      });\n    };\n\n    _this.init = function () {\n      var lazyLoader = (0, _jquery2.default)(".loyality-offers__loader-wrapper");\n      var session = (0, _loyaltyService.hasSession)();\n      if (session.isAuthenticated) {\n        var userAccount = (0, _get2.default)(session, "brsrMember.accounts", []).filter(function (acc) {\n          if ((0, _get2.default)(acc, "option", "").toLowerCase() === "skywards") {\n            return acc;\n          }\n        });\n        if (userAccount.length > 0) {\n          var cardno = (0, _get2.default)(userAccount[0], "id", 0);\n          lazyLoader.css({ display: "block" });\n          (0, _loyaltyService.getLoyaltyOffers)(cardno).then(function (result) {\n            if (result.length > 0) {\n              _this.renderData(result, _this.$el);\n            } else {\n              lazyLoader.css({ display: "none" });\n            }\n          }).catch(function () {\n            lazyLoader.css({ display: "none" });\n            _this.$el.css({ display: "none" });\n          });\n          (0, _loyaltyService.getLoyaltyAirports)().then(function (result) {\n            if (result) {\n              _this.collection = result.results;\n            }\n          });\n\n          (0, _loyaltyService.getDaysOfWeek)().then(function (result) {\n            if (result) {\n              _this.daysOfWeek = (0, _get2.default)(result, "results.days", {});\n            }\n          });\n        }\n      }\n    };\n\n    _this.init();\n    return _this;\n  }\n\n  /**\n   * return value of separate date fields\n   *\n   * @param {string} format\n   * @param {string} key\n   * @param {string} date\n   * @return {*}\n   */\n\n  /**\n  * time stamp to date\n  *\n  * @param {string} date\n  * @param {string} format\n  * @return {*}\n  */\n\n\n  /**\n  * format date\n  *\n  * @param {string} date\n  * @param {object} data\n  * @return {*}\n  */\n\n\n  /**\n   * split values\n   *\n   * @param {string} string\n   * @return {*}\n   */\n\n  TargetedLoyaltyOffers.prototype.stringToArray = function stringToArray(_ref11) {\n    var _ref11$string = _ref11.string,\n        string = _ref11$string === undefined ? "" : _ref11$string,\n        _ref11$valueModifier = _ref11.valueModifier,\n        valueModifier = _ref11$valueModifier === undefined ? function (_) {\n      return _;\n    } : _ref11$valueModifier;\n\n    return string && string.split(",").map(function (val) {\n      return valueModifier(val.trim());\n    });\n  };\n\n  /**\n   * Name oF cabin\n   *\n   * @param {string}  cabins\n   * @return {*}\n   */\n\n  /**\n   * Name oF airport\n   *\n   * @param {object}  collection\n   * @param {string}  airports\n   * @return {*}\n   */\n\n  /**\n   * resolving day of week\n   *\n   * @param {object}  collection\n   * @param {string} day\n   * @return {*}\n   */\n\n\n  /**\n   * Returns formatted date and percentage.\n   * @function\n   * @param {string} key\n   * @param {*}  data\n   * @return {*}\n   */\n\n  /**\n   * Filter data to hide cards with missing fields.\n   *\n   * @param {array} resultArray\n   * @return {*}\n   */\n\n\n  /**\n   * Returns Image URL.\n   *\n   * @param {Object} card\n   * @return {*}\n   */\n\n\n  /**\n   * Updates the Data Layer with the Card Clicked Event.\n   */\n\n\n  /**\n   * Returns card with formatted data to be displayed.\n   *\n   * @param {Object} card\n   * @return {Object}\n   */\n\n\n  /**\n   * Returns card with resolved placeholders in template.\n   *\n   * @param {Object} card\n   * @return {Object}\n   */\n\n\n  /**\n   * Renders loyality-offer-item on UI\n   *\n   * @param {Object[]} result\n   * @param {Object} loyaltyBlock\n   */\n\n\n  /**\n   * Get-session and related offers from api and call renderData\n   */\n\n\n  return TargetedLoyaltyOffers;\n}(_component2.default);\n\nTargetedLoyaltyOffers.selector = ".loyality-offers";\nTargetedLoyaltyOffers.events = {};\nexports.default = TargetedLoyaltyOffers;\n\n//# sourceURL=webpack:///./src/components/targeted-loyalty-offers/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/targeted-loyalty-offers/targeted-loyalty-offers.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasSession = exports.getDaysOfWeek = exports.getLoyaltyAirports = exports.getLoyaltyOffers = undefined;\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _defaultsDeep = __webpack_require__(80);\n\nvar _defaultsDeep2 = _interopRequireDefault(_defaultsDeep);\n\nvar _utils = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ENDPOINTS = {\n  LOYALITYOFFERS: 'service/offer-list',\n  GETSESSION: 'service/get-session',\n  LOYALTYAIRPORT: 'service/airports',\n  DAYOFWEEK: 'service/itemlist'\n}; /* global __EK__ */\n\n\nvar offerpath = __EK__.urlparser.country + '/' + __EK__.urlparser.language || '';\nvar country = __EK__.urlparser.country || '';\nvar airportsLang = __EK__.urlparser.langCode || '';\nvar weeksLang = __EK__.urlparser.language || '';\n\nvar FETCH_OPTIONS = {\n  credentials: 'same-origin'\n};\nvar cards = [];\n\nvar toJSON = function toJSON(response) {\n  return response.json();\n};\nvar readResults = function readResults(json) {\n  return json.loyaltyOffers;\n};\nvar readLoyaltyOffers = function readLoyaltyOffers(loyaltyOffers) {\n  var allOffers = (0, _get2.default)(loyaltyOffers, 'results.loyaltyOffersResponse.offerDetails', undefined);\n  if (typeof allOffers !== 'undefined') {\n    var advertised = [];\n    var participated = [];\n    allOffers.map(function (obj) {\n      // eslint-disable-line\n      Object.keys(obj).map(function (type) {\n        // eslint-disable-line\n        if (type === 'ADV') {\n          advertised.push.apply(advertised, obj[type]);\n        }\n        if (type === 'PAR') {\n          participated.push.apply(participated, obj[type]);\n        }\n      });\n    });\n    cards = [].concat(advertised, participated);\n  }\n  return cards.filter(function (el) {\n    // eslint-disable-line\n    if (typeof (0, _get2.default)(el, 'content.component', undefined) !== 'undefined') {\n      return el;\n    }\n  });\n};\n\nvar checkIsOk = function checkIsOk(response) {\n  if (!response.ok) {\n    throw Error(response);\n  }\n  return response;\n};\n\nvar getResults = function getResults(input) {\n  var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return fetch(input, (0, _defaultsDeep2.default)({}, init, FETCH_OPTIONS)) // eslint-disable-line\n  .then(checkIsOk).then(toJSON);\n};\n\nvar getLoyaltyOffers = exports.getLoyaltyOffers = function getLoyaltyOffers() {\n  return (0, _utils.retry)(function () {\n    return getResults('/' + ENDPOINTS.LOYALITYOFFERS + '/loyalty-offers?offerpath=/' + offerpath + '/').then(readResults).then(readLoyaltyOffers);\n  });\n};\n\nvar getLoyaltyAirports = exports.getLoyaltyAirports = function getLoyaltyAirports() {\n  return getResults('/' + ENDPOINTS.LOYALTYAIRPORT + '/?lang=' + airportsLang);\n};\n\nvar getDaysOfWeek = exports.getDaysOfWeek = function getDaysOfWeek() {\n  return getResults('/' + ENDPOINTS.DAYOFWEEK + '?country=' + country + '&lang=' + weeksLang);\n};\n\nvar hasSession = exports.hasSession = function hasSession() {\n  return __EK__.session;\n};\n\n//# sourceURL=webpack:///./src/common/scripts/services/loyaltyService.js?")},function(module,exports,__webpack_require__){eval('var Handlebars = __webpack_require__(20);\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return "    <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__image\\" style=\\"background-image:URL(\'"\n    + alias2(alias1((depth0 != null ? depth0.thumbnail : depth0), depth0))\n    + "\')\\" aria-hidden=\\"true\\"></div>\\n    ";\n},"3":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return "\\n    <div class=\\"only-aria-display\\">"\n    + alias2(alias1((depth0 != null ? depth0.progresstitle : depth0), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.progressnumber : depth0), depth0))\n    + "</div>\\n    <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__image offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress\\" style=\\"background-image:URL(\'"\n    + alias2(alias1((depth0 != null ? depth0.thumbnail : depth0), depth0))\n    + "\')\\"\\n        aria-hidden=\\"true\\">\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress__graphic-container\\">\\n            <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress__graphic-white\\"></div>\\n            <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress__graphic\\" style=\\"width:"\n    + alias2(alias1((depth0 != null ? depth0.progressMade : depth0), depth0))\n    + "%\\"></div>\\n        </div>\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress__number-container\\">\\n            <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress__in-number\\">"\n    + alias2(alias1((depth0 != null ? depth0.progressnumber : depth0), depth0))\n    + "</div>\\n        </div>\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__progress__title\\">"\n    + alias2(alias1((depth0 != null ? depth0.progresstitle : depth0), depth0))\n    + "</div>\\n    </div>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return "            <a href="\n    + alias2(alias1((depth0 != null ? depth0.detailLink : depth0), depth0))\n    + " class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__link\\" aria-hidden=\\"false\\" onclick=\\"window.dataLayer.push({\'event\': \'DataPush.PageBody_LinkClicked\',\\n                                                    \'category\': \'Page Body Interaction\',\\n                                                    \'action\' : \'Link Clicked\',\\n                                                    \'label\' :`"\n    + alias2(alias1((depth0 != null ? depth0.offerCode : depth0), depth0))\n    + ":Learn more about the offer`,\\n                                                    \'offerID\' : `"\n    + alias2(alias1((depth0 != null ? depth0.offerCode : depth0), depth0))\n    + "`,\\n                                                    \'offerState\': `"\n    + alias2(alias1((depth0 != null ? depth0.promoDisplayCategory : depth0), depth0))\n    + " State`,\\n                                                    \'value\': 0})\\">\\n                "\n    + alias2(alias1((depth0 != null ? depth0.learnMore : depth0), depth0))\n    + "\\n            </a>\\n";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "<div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "\\" id=\\""\n    + alias2(alias1((depth0 != null ? depth0.offerCode : depth0), depth0))\n    + "\\" tabindex=\\"0\\" role=\\"link\\" aria-label=\\""\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.content : depth0)) != null ? stack1.component : stack1)) != null ? stack1.content : stack1)) != null ? stack1.category : stack1)) != null ? stack1.description : stack1), depth0))\n    + " "\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.content : depth0)) != null ? stack1.component : stack1)) != null ? stack1.content : stack1)) != null ? stack1.title : stack1), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.offerEndDate : depth0), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.progresstitle : depth0), depth0))\n    + " "\n    + alias2(alias1((depth0 != null ? depth0.progressnumber : depth0), depth0))\n    + " to get more details about the offer click here\\">\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias3,(depth0 != null ? depth0.promoDisplayCategory : depth0),"===","Advertised",{"name":"op","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + " "\n    + ((stack1 = __default(__webpack_require__(3)).call(alias3,(depth0 != null ? depth0.promoDisplayCategory : depth0),"===","Participated",{"name":"op","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "    <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__body-container\\">\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__category\\" aria-hidden=\\"true\\">"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.content : depth0)) != null ? stack1.component : stack1)) != null ? stack1.content : stack1)) != null ? stack1.category : stack1)) != null ? stack1.description : stack1), depth0))\n    + "</div>\\n        <h3 class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__title\\" aria-hidden=\\"true\\">"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.content : depth0)) != null ? stack1.component : stack1)) != null ? stack1.content : stack1)) != null ? stack1.title : stack1), depth0))\n    + "</h3>\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__red-border\\"></div>\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__description\\" aria-hidden=\\"true\\">"\n    + alias2(alias1((depth0 != null ? depth0.desc : depth0), depth0))\n    + "</div>\\n        <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__expiry--absolute\\">\\n"\n    + ((stack1 = __default(__webpack_require__(3)).call(alias3,(depth0 != null ? depth0.promoDisplayCategory : depth0),"===","Participated",{"name":"op","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "                <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__expiry\\" aria-hidden=\\"true\\">\\n                    <strong>"\n    + alias2(alias1((depth0 != null ? depth0.offerEndDate : depth0), depth0))\n    + "</strong>\\n                </div>\\n            </div>\\n            <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__expiry--hidden\\" aria-hidden=\\"true\\">\\n                <a href=\\"javascript:void(0)\\" class=\\"offers__item__link\\">"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? depth0.content : depth0)) != null ? stack1.component : stack1)) != null ? stack1.content : stack1)) != null ? stack1.learnMore : stack1), depth0))\n    + "</a>\\n                <div class=\\"offers__item"\n    + alias2(alias1((depth0 != null ? depth0.cssSelector : depth0), depth0))\n    + "__expiry\\"><strong>"\n    + alias2(alias1((depth0 != null ? depth0.offerEndDate : depth0), depth0))\n    + "</strong></div>\\n\\n        </div>\\n    </div>\\n</div>";\n},"useData":true});\n\n//# sourceURL=webpack:///./src/components/loyality-offer-item/loyality-offer-item.handlebars?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _get = __webpack_require__(4);\n\nvar _get2 = _interopRequireDefault(_get);\n\n__webpack_require__(475);\n\nvar _utils = __webpack_require__(5);\n\nvar _analytics = __webpack_require__(13);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _debounce = __webpack_require__(35);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _CalendarConfig = __webpack_require__(42);\n\nvar _moment = __webpack_require__(8);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar shouldOpenHamburgerMenu = function shouldOpenHamburgerMenu() {\n  return global.matchMedia('screen and (max-width: 1023px)').matches;\n};\n\n/**\n * Class representing Main Navigation component.\n * \n * @extends Component\n */\n\nvar MainNavigation = function (_Component) {\n  _inherits(MainNavigation, _Component);\n\n  function MainNavigation(el, $el) {\n    _classCallCheck(this, MainNavigation);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      blocker: 'html, body',\n      currentDepth: 0,\n      slidePercentage: 100,\n      currentActiveContainers: [],\n      activeClass: 'active',\n      animateClass: 'animate',\n      lastScrollTop: 0,\n      delay: 500\n    };\n\n    var $self = _this;\n\n    _this.$scrollBlocker = (0, _jquery2.default)(_this.options.blocker);\n    _this.$animationWrapper = _this.$el.find('.js-animation-controller');\n    _this.$modalsContainer = _this.$el.find('.js-modals-container');\n    _this.$rootLinks = _this.$el.find('.js-root-link');\n    _this.$mobileMenu = _this.$el.find('.js-mobile-menu');\n    _this.$logo = _this.$el.find('.js-brand-logo');\n    _this.$window = (0, _jquery2.default)(window);\n    _this.$toolbar = (0, _jquery2.default)('.js-toolbar');\n\n    (0, _jquery2.default)(document).on('touchstart', _this.handleTouchStart);\n    if ('ontouchstart' in window || window.DocumentTouch) {\n      (0, _jquery2.default)(document).trigger('touchstart');\n    }\n\n    (0, _jquery2.default)(document).on('touchend.navigation', function () {\n      return _this.closeDesktopNav();\n    });\n\n    window.addEventListener('keyup', function (e) {\n      var $modalContainer = (0, _jquery2.default)('.main-navigation__modal-container');\n\n      if (e.keyCode === 27 && $modalContainer.hasClass('active')) {\n        $self.toggleLogin(e);\n        $self.clearActiveModals();\n      }\n    });\n\n    _this.setMenuHeight();\n    _this.$window.resize((0, _debounce2.default)(function () {\n      return _this.setMenuHeight();\n    }, _this.options.delay));\n    return _this;\n  }\n\n  /**\n   * Stops the event propagation.\n   * \n   * @param {Event} ev\n   */\n\n\n  MainNavigation.prototype.preventPropagation = function preventPropagation(ev) {\n    ev.stopPropagation();\n  };\n\n  /**\n   * Updates accessibility state for DOM element to indicate that menu is opened.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.changeState = function changeState(e) {\n    if ((0, _jquery2.default)(e.target).hasClass('js-nested-parent-link')) {\n      (0, _jquery2.default)(e.target).attr('aria-expanded', true);\n    }\n  };\n\n  /**\n   * Triggers click event on the icon.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.clickableIcon = function clickableIcon(e) {\n    var anchor = (0, _jquery2.default)(e.target).next('a');\n\n    (0, _jquery2.default)(anchor)[0].click();\n  };\n\n  /**\n   * Handles action to show or hide mobile menu.\n   * Also updates CSS to make sure there is no modal windows over the menu.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.handleClickNavButton = function handleClickNavButton(e) {\n    this.toggleMobileNav(e);\n\n    if (this.$el.hasClass('widget-login')) this.$el.removeClass('widget-login');\n  };\n\n  /**\n   * @todo Add description.\n   */\n\n\n  MainNavigation.prototype.handleTouchStart = function handleTouchStart() {\n    (0, _jquery2.default)('body').addClass('is--touch-device');\n    (0, _jquery2.default)(document).off('touchstart', this.handleTouchStart);\n  };\n\n  /**\n   * Handles opening of main navigation.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.openNewMenuPane = function openNewMenuPane(e) {\n    if (!shouldOpenHamburgerMenu()) return;\n    e.preventDefault();\n    var $c = (0, _jquery2.default)(e.currentTarget).parent();\n    if (this.containerInActiveArray($c)) return;\n    $c.addClass(this.options.activeClass);\n    this.applyContainerToActiveArray($c);\n    this.increaseMenuDepth();\n  };\n\n  /**\n   * Returns boolean if the provided number is in between two numbers.\n   * \n   * @param {number} x \n   * @param {number} min \n   * @param {number} max \n   * @todo Check if this is dead code?\n   */\n\n\n  MainNavigation.prototype.between = function between(x, min, max) {\n    return x >= min && x <= max;\n  };\n\n  /**\n   * Handles navigating back in mobile navigation.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.clickBackwardsLink = function clickBackwardsLink(e) {\n    e.preventDefault();\n    this.waitForAnimationThen(this.$animationWrapper, this.removeLastContainerFromActiveArray);\n    this.decreaseMenuDepth();\n  };\n\n  /**\n   * Handles updating mobile menu depth when going to lower level.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.increaseMenuDepth = function increaseMenuDepth(e) {\n    var newDepth = this.options.currentDepth + this.options.slidePercentage;\n\n    this.updateMenuDepthClass(newDepth);\n    this.setNewCurrentMenuDepth(newDepth);\n  };\n\n  /**\n   * Handles updating mobile menu depth when going to higher level.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.decreaseMenuDepth = function decreaseMenuDepth(e) {\n    var newDepth = this.options.currentDepth - this.options.slidePercentage;\n\n    this.updateMenuDepthClass(newDepth, true);\n    this.setNewCurrentMenuDepth(newDepth);\n  };\n\n  /**\n   * Remove states for layout.\n   */\n\n\n  MainNavigation.prototype.resetMenuStateLayout = function resetMenuStateLayout() {\n    var prefix = 'main-navigation__mobileMenu--layout-';\n    var classes = [prefix + 'root', prefix + 'first', prefix + 'second'];\n    this.$mobileMenu.removeClass(classes.join(' '));\n  };\n\n  /**\n   * Remove states for transition.\n   */\n\n\n  MainNavigation.prototype.resetMenuStateTransition = function resetMenuStateTransition() {\n    var prefix = 'main-navigation__mobileMenu--transition-';\n    var classes = [prefix + 'root', prefix + 'first', prefix + 'second'];\n    this.$mobileMenu.removeClass(classes.join(' '));\n  };\n\n  /**\n   * Update depth state on the menu for mobile users.\n   * Gives some delay before depth state is applied on the menu.\n   * This is to prevent flickering of the menu when sliding left/right.\n   * \n   * @param {number} depth - Depth state, defined by this.options.slidePercentage\n   * @param {boolean} decrease - Defines if the menu level is decreasing (to apply delay for transition)\n   */\n\n\n  MainNavigation.prototype.updateMenuDepthClass = function updateMenuDepthClass(depth, decrease) {\n    var _this2 = this;\n\n    var level = 'root';\n    switch (depth) {\n      case 100:\n        level = 'first';\n        break;\n      case 200:\n        level = 'second';\n        break;\n    }\n\n    this.resetMenuStateTransition();\n    this.$mobileMenu.addClass('main-navigation__mobileMenu--transition-' + level);\n\n    // must be delayed (to avoid disappearing) when the menu changes to level up (back)\n    var timeout = decrease ? this.options.delay : 0;\n    setTimeout(function () {\n      _this2.resetMenuStateLayout();\n      _this2.$mobileMenu.addClass('main-navigation__mobileMenu--layout-' + level);\n    }, timeout);\n  };\n\n  /**\n   * Updates state with new depth level.\n   * \n   * @param {number} newDepth\n   */\n\n\n  MainNavigation.prototype.setNewCurrentMenuDepth = function setNewCurrentMenuDepth(newDepth) {\n    this.options.currentDepth = newDepth;\n  };\n\n  /**\n   * Applied container to active array.\n   * \n   * @param {JQuery} $container\n   */\n\n\n  MainNavigation.prototype.applyContainerToActiveArray = function applyContainerToActiveArray($container) {\n    this.options.currentActiveContainers.push($container);\n  };\n\n  /**\n   * Removes last container from active array.\n   */\n\n\n  MainNavigation.prototype.removeLastContainerFromActiveArray = function removeLastContainerFromActiveArray() {\n    var lastActiveItem = this.options.currentActiveContainers.pop();\n\n    lastActiveItem.removeClass(this.options.activeClass);\n  };\n\n  /**\n   * Returns boolean if container is in active array.\n   * \n   * @return {boolean}\n  */\n\n\n  MainNavigation.prototype.containerInActiveArray = function containerInActiveArray($container) {\n    var matched = false;\n    for (var i = 0; i < this.options.currentActiveContainers.length; i++) {\n      var $currentItem = this.options.currentActiveContainers[i];\n\n      $currentItem.each(function (idx, elem) {\n        $container.each(function (cIdx, cElem) {\n          if (elem === cElem) {\n            matched = true;\n          }\n        });\n      });\n    }\n\n    return matched;\n  };\n\n  /**\n   * Handles delay for mobile menu transition to avoid animation jump.\n   * \n   * @param {JQuery} element \n   * @param {function} callback \n   */\n\n\n  MainNavigation.prototype.waitForAnimationThen = function waitForAnimationThen(element, callback) {\n    var boundCallback = callback.bind(this);\n\n    element.on('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function () {\n      element.off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');\n      boundCallback();\n    });\n  };\n\n  /**\n   * Handles opening and closing main navigation.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.toggleMobileNav = function toggleMobileNav(e) {\n    var _this3 = this;\n\n    if (!shouldOpenHamburgerMenu()) return;\n\n    e.preventDefault();\n    this.clearActiveModals();\n    this.scrollToNav();\n    this.waitForAnimationThen(this.$el, this.controlPageOverlay);\n\n    var isActive = this.$el.hasClass(this.options.activeClass);\n\n    if (!isActive) {\n      this.setMenuHeight();\n      this.openMobileNav();\n    } else {\n      setTimeout(function () {\n        _this3.closeMobileNav();\n      }, this.options.delay);\n    }\n\n    setTimeout(function () {\n      _this3.$el.toggleClass(_this3.options.activeClass, !isActive);\n    }, 0);\n  };\n\n  /**\n   * Handles showing main navigation.\n   */\n\n\n  MainNavigation.prototype.openMobileNav = function openMobileNav() {\n    this.$el.addClass('overlay-visible');\n    this.$el.addClass(this.options.animateClass);\n    this.blockScrolling();\n    this.$el.addClass(this.options.activeClass);\n  };\n\n  /**\n   * Handles hiding main navigation.\n   */\n\n\n  MainNavigation.prototype.closeMobileNav = function closeMobileNav() {\n    this.resetMenuStateLayout();\n    this.resetMenuStateTransition();\n    this.$el.removeClass(this.options.activeClass);\n  };\n\n  /**\n   * Scroll page to position of main navigation.\n   */\n\n\n  MainNavigation.prototype.scrollToNav = function scrollToNav() {\n    window.scrollTo(0, (0, _jquery2.default)('.main-navigation').offset().top);\n  };\n\n  /**\n   * Prevents page scrolling.\n   */\n\n\n  MainNavigation.prototype.blockScrolling = function blockScrolling() {\n    var _this4 = this;\n\n    if (this.$el.hasClass('overlay-visible') && (0, _utils.getCurrentBreakpoint)().breakpoint !== 'desktop') {\n      this.$scrollBlocker.addClass('has-overlay');\n\n      this.$animationWrapper.on('touchstart', function (e) {\n        _this4.options.touchY = e.originalEvent.touches[0].clientY;\n      });\n\n      this.$animationWrapper.on('touchmove', function (e) {\n        var dir = void 0;\n        if (_this4.options.touchY >= e.originalEvent.touches[0].clientY) {\n          dir = 'down';\n        } else {\n          dir = 'up';\n        }\n\n        var scrollPos = _this4.$animationWrapper.scrollTop();\n        if (dir === 'up' && scrollPos === 0 || dir === 'down' && scrollPos + (0, _jquery2.default)(_this4.$animationWrapper).outerHeight() === (0, _jquery2.default)(_this4.$animationWrapper)[0].scrollHeight) {\n          if (_this4.$mobileMenu.hasClass('main-navigation__mobileMenu--layout-first')) {\n            // To fix https://jiraagile.emirates.com/browse/EK-4531, preventDefault method preventing smooth scrolling.\n            return;\n          }\n          e.preventDefault();\n        }\n      });\n    }\n  };\n\n  /**\n   * Handles opening for the Login modal window.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.openFullLogin = function openFullLogin(e) {\n    var _this5 = this;\n\n    e.preventDefault();\n    var $container = (0, _jquery2.default)('.main-navigation__login-container');\n\n    if (!$container.hasClass('active')) {\n      this.clearActiveModals();\n      $container.addClass('active');\n      this.$el.addClass('widget-login');\n\n      this.waitForAnimationThen(this.$el, this.controlPageOverlay);\n      this.$el.addClass('overlay-visible');\n      this.blockScrolling();\n\n      var $input = $container.find('.field__input');\n\n      if ($input.length > 0) {\n        $input.first().focus();\n      }\n\n      (0, _jquery2.default)('.js-widget .js-close-tab').trigger('click');\n    }\n\n    setTimeout(function () {\n      _this5.$el.toggleClass(_this5.options.activeClass);\n    }, 0);\n  };\n\n  /**\n   * Handles opening and closing for the Login modal window.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.toggleLogin = function toggleLogin(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var $container = (0, _jquery2.default)('.main-navigation__login-container');\n    var $target = (0, _jquery2.default)('.main-navigation').find('.js-login-link.js-toolbar-link');\n    var $aria = (0, _jquery2.default)('.login__section--container').attr('aria-expanded');\n\n    this.waitForAnimationThen(this.$el, this.controlPageOverlay);\n\n    this.toggleModal($container, $target);\n\n    var isOpen = $container.hasClass(this.options.activeClass);\n\n    var isLoginAriaExpanded = $aria !== 'false' ? false : true;\n\n    (0, _jquery2.default)('.login__section--container').attr('aria-expanded', isLoginAriaExpanded);\n    $target.attr('aria-expanded', isLoginAriaExpanded);\n\n    if (isOpen) {\n      this.closeMobileNav();\n    }\n\n    if (this.$el.hasClass('widget-login')) {\n      this.$el.toggleClass(this.options.activeClass);\n      this.$el.removeClass('widget-login');\n    }\n\n    var $familySpinner = $container.find('.js-family-spinner');\n    if (isLoginAriaExpanded && $familySpinner.length == 1 && !$familySpinner.hasClass('hidden')) {\n      var url = '/service/family-group';\n      fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        cache: 'no-store',\n        method: 'GET'\n      }).then(function (res) {\n        if (res.status > 299) {\n          $familySpinner.addClass('hidden');\n          return;\n        }\n        res.json().then(function (json) {\n          $familySpinner.addClass('hidden');\n          if (json.data != null) {\n            var $familyName = $container.find('.js-family-name');\n            var $familyMiles = $container.find('.js-family-miles');\n            var $familyExpDetails = $container.find('.js-family-exp-details');\n            var $familyExpDate = $container.find('.js-family-date');\n            var $familyContainer = $container.find('.js-family-container');\n            var $familyExpMilesText = $container.find('.js-family-miles-expire-text');\n\n            $familyName.text(json.data.name);\n            $familyMiles.text((0, _utils.numberFormat)(json.data.rewardBalance));\n            if (json.data.expiringMiles > 0) {\n              var date = (0, _get2.default)(json, 'data.dateOfMilesExpiry', null);\n              var formattedDate = date !== null ? (0, _CalendarConfig.dateFormat)((0, _moment2.default)(date, 'DDMMMYYYY')._d, $familyExpDate.data('date-format')) : '';\n              $familyExpDate.text(formattedDate);\n              $familyExpMilesText.text($familyExpMilesText.text().replace('{{expiringMiles}}', (0, _utils.numberFormat)(json.data.expiringMiles)));\n              $familyExpDetails.removeClass('hidden');\n            }\n            $familyContainer.removeClass('hidden');\n          }\n        });\n      });\n    }\n  };\n\n  /**\n   * Handles opening and closing for the Search modal.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.toggleSearch = function toggleSearch(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var $container = (0, _jquery2.default)('.main-navigation__site-search-container');\n    var $target = (0, _jquery2.default)('.main-navigation').find('.js-search-link.js-toolbar-link');\n    var $aria = this.$el.find('.js-search-link').attr('aria-expanded');\n\n    this.toggleModal($container, $target);\n    this.toggleAria($target, $aria);\n  };\n\n  /**\n   * Closes all active modal windows.\n   */\n\n\n  MainNavigation.prototype.clearActiveModals = function clearActiveModals() {\n    this.$modalsContainer.find('.active').removeClass('active');\n    this.toggleFixedToolbar(false);\n    var $activeNavLinks = (0, _jquery2.default)('.js-toolbar-link.active');\n    $activeNavLinks.removeClass('active');\n  };\n\n  /**\n    * Apply CSS state on toolbar element to avoid rubber band effect on iOS devices\n    * The state will have effect when language selector is in full screen mode (defined by media query)\n    * \n    * @param {boolean} state Defines if class will be applied or not (if undefined then jQuery will toggle the class)\n    */\n\n\n  MainNavigation.prototype.toggleFixedToolbar = function toggleFixedToolbar(state) {\n    var fixedClass = 'toolbar--fixed';\n    this.$toolbar.toggleClass(fixedClass, state);\n  };\n\n  /**\n   * Updates aria property to indicate if the element is expanded.\n   * \n   * @param {JQuery} target \n   * @param {string} aria \n   */\n\n\n  MainNavigation.prototype.toggleAria = function toggleAria(target, aria) {\n    if (aria !== 'false') {\n      target.attr('aria-expanded', 'false');\n    } else {\n      target.attr('aria-expanded', 'true');\n    }\n  };\n\n  /**\n   * Handles opening and showing modal window for provided section.\n   * \n   * @param {JQuery} container \n   * @param {JQuery} target \n   */\n\n\n  MainNavigation.prototype.toggleModal = function toggleModal(container, target) {\n    if (!container.hasClass('active')) {\n      this.clearActiveModals();\n      container.addClass('active');\n      target.addClass('active');\n\n      this.handleOutsideClick(container, target);\n\n      var $input = container.find('.field__input');\n\n      if ($input.length > 0) {\n        $input.first().focus();\n      }\n    } else {\n      container.removeClass('active');\n      target.removeClass('active');\n      // TODO looks like missing dot (.) for the js-mobile-menu class, need to investigate the impact of bugfix\n      (0, _jquery2.default)('#maincontent, js-mobile-menu').unbind('click');\n    }\n  };\n\n  /**\n   * Triggers clearing all modals when the Escape key is pressed.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.handleKeyUp = function handleKeyUp(e) {\n    if (e.which === 27) {\n      this.clearActiveModals();\n    }\n  };\n\n  /**\n   * Handles closing remaining active modal window.\n   * \n   * @param {JQuery} container \n   * @param {JQuery} target \n   */\n\n\n  MainNavigation.prototype.handleOutsideClick = function handleOutsideClick(container, target) {\n    var $self = this;\n\n    (0, _jquery2.default)('#maincontent, .js-mobile-menu, .main-navigation, .operational-updates').click(function (e) {\n      if (!(0, _jquery2.default)(e.target).hasClass('js-login-link') && (0, _jquery2.default)('.main-navigation__login-container').hasClass('active')) {\n        $self.toggleLogin(e);\n      }\n      if (!(0, _jquery2.default)(e.target).hasClass('js-search-link') && (0, _jquery2.default)('.main-navigation__site-search-container').hasClass('active')) {\n        $self.toggleSearch(e);\n      }\n      if (!(0, _jquery2.default)(e.target).hasClass('js-language-link') && (0, _jquery2.default)('.main-navigation__language-selector-container').hasClass('active')) {\n        $self.toggleLanguageSelector(e);\n      }\n    });\n  };\n\n  /**\n   * Handles closing of the Toolbox element.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  MainNavigation.prototype.closeToolbox = function closeToolbox(e) {\n    var $rootLink = (0, _jquery2.default)(e.currentTarget).closest('.toolbar__link-container').find('.js-toolbar-link');\n\n    $rootLink.focus();\n    this.scrollToTop();\n  };\n\n  /**\n   * Add active class when in focus.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.focusMenu = function focusMenu(e) {\n    (0, _jquery2.default)(e.currentTarget).addClass(this.options.activeClass);\n  };\n\n  /**\n   * Handles opening and closing for the main navigation.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.touchMenu = function touchMenu(e) {\n    if (shouldOpenHamburgerMenu()) return;\n\n    var isParent = (0, _jquery2.default)(e.target).hasClass('js-nested-parent-link');\n    if (!isParent) return;\n\n    this.$rootLinks.removeClass(this.options.activeClass);\n\n    var isActive = (0, _jquery2.default)(e.currentTarget).hasClass(this.options.activeClass);\n    if (!isActive) {\n      (0, _jquery2.default)(e.currentTarget).addClass(this.options.activeClass);\n    }\n  };\n\n  /**\n   * Moves focus to next navigation group.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.focusNextMenu = function focusNextMenu(e) {\n    e.preventDefault();\n    var $target = (0, _jquery2.default)(e.target);\n    var href = $target.attr('href');\n    (0, _jquery2.default)(href).children('a').focus();\n  };\n\n  /**\n   * Removes active state from all parent menu items.\n   */\n\n\n  MainNavigation.prototype.closeDesktopNav = function closeDesktopNav() {\n    this.$rootLinks.removeClass(this.options.activeClass);\n  };\n\n  /**\n   * Keep menu active when tabbing through it's links.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.focusInMenu = function focusInMenu(e) {\n    var _this6 = this;\n\n    setTimeout(function () {\n      if (shouldOpenHamburgerMenu()) return;\n      _this6.closeDesktopNav();\n      var activeClass = _this6.options.activeClass;\n      var $rootLink = (0, _jquery2.default)(e.target).closest('.js-root-link');\n      $rootLink.addClass(activeClass);\n    }, 100);\n  };\n\n  /**\n   * Handles closing main navigation when not in focus.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.focusOutMenu = function focusOutMenu(e) {\n    var _this7 = this;\n\n    if (shouldOpenHamburgerMenu()) return;\n    setTimeout(function () {\n      var isFocusInsideMenu = !!_this7.$rootLinks.has(document.activeElement).length;\n      var isFocusOnBody = document.activeElement === document.body;\n      if (!isFocusInsideMenu) {\n        if (isFocusOnBody) {\n          var isAnyMenuItemActive = _this7.$rootLinks.hasClass(_this7.activeClass);\n          if (isAnyMenuItemActive) {\n            _this7.closeDesktopNav();\n          }\n        } else {\n          _this7.closeDesktopNav();\n        }\n      }\n    }, 100);\n  };\n\n  /**\n   * Handles closing main navigation.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.closeMenu = function closeMenu(e) {\n    e.stopPropagation();\n\n    var activeClass = this.options.activeClass;\n    var $rootLink = (0, _jquery2.default)(e.currentTarget).closest('.js-root-link');\n    var $menuDropdown = (0, _jquery2.default)(e.currentTarget).closest('.js-main-nav-dropdown');\n\n    $rootLink.removeClass(activeClass);\n    $menuDropdown.css({ 'display': 'none' });\n    this.$logo.focus();\n\n    // remove display prop so it not overriding mouseover to show the menu again\n    setTimeout(function () {\n      $menuDropdown.css({ 'display': '' });\n    }, 300);\n  };\n\n  /**\n   * Removed any active class, and focus as soon as mouse interacts with the menu.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.mouseMenu = function mouseMenu(e) {\n    if (this.isTouchDevice()) {\n      // this break is to prevent closing main nav when user touch inside the nav window\n      // because touch device will trigger mouseenter/mouseleave events which are bound to this func\n      return;\n    }\n    this.clearActiveModals();\n    if (!this.$el.hasClass(this.options.activeClass)) {\n      this.$rootLinks.removeClass(this.options.activeClass).add(this.$rootLinks.find('.js-nested-link')).blur();\n    }\n  };\n\n  /**\n   * Handles opening and closing for the Language modal.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.toggleLanguageSelector = function toggleLanguageSelector(e) {\n    var _this8 = this;\n\n    e.preventDefault();\n    e.stopPropagation();\n    var $languageSelector = (0, _jquery2.default)('.js-language-selector');\n    var $container = (0, _jquery2.default)('.main-navigation__language-selector-container');\n    var $target = this.$el.find('.js-language-link.js-toolbar-link');\n    var $aria = this.$el.find('.js-language-link').attr('aria-expanded');\n\n    this.toggleModal($container, $target);\n    this.toggleAria($target, $aria);\n\n    setTimeout(function () {\n      $languageSelector.toggleClass('active');\n      _this8.toggleFixedToolbar();\n    }, 1);\n  };\n\n  /**\n   * Controls page overlay.\n    * @todo Check if this is dead code.\n   */\n\n\n  MainNavigation.prototype.controlPageOverlay = function controlPageOverlay() {\n    if (!this.$el.hasClass(this.options.activeClass)) {\n      this.resetMenuPosition();\n    }\n  };\n\n  /**\n   * Resets menu position.\n   */\n\n\n  MainNavigation.prototype.resetMenuPosition = function resetMenuPosition() {\n    this.resetAllActiveContainers();\n    this.options.currentActiveContainers = [];\n    this.$animationWrapper.attr('style', '');\n    this.options.currentDepth = 0;\n    this.$el.removeClass('overlay-visible');\n    this.$el.removeClass(this.options.activeClass);\n    this.$scrollBlocker.removeClass('has-overlay');\n    this.$scrollBlocker.off('touchmove.blocker');\n  };\n\n  /**\n   * Triggers menu reset position.\n   */\n\n\n  MainNavigation.prototype.respondToDesktop = function respondToDesktop() {\n    this.options.shouldShowHambergerMenu = false;\n    this.resetMenuPosition();\n  };\n\n  /**\n   * Called when mobile nav (open or closed) goes to desktop view and when mobile nav closes.\n   */\n\n\n  MainNavigation.prototype.resetAllActiveContainers = function resetAllActiveContainers() {\n    var _this9 = this;\n\n    this.$el.removeClass(this.options.animateClass);\n    this.options.currentActiveContainers.forEach(function (container) {\n      container.removeClass(_this9.options.activeClass);\n    });\n  };\n\n  /**\n   * Hides main navigation and unhides after some delay.\n   * This is to avoid moving navigation over the screen caused by CSS animations.\n   */\n\n\n  MainNavigation.prototype.delayMobileNav = function delayMobileNav() {\n    var _this10 = this;\n\n    this.$el.find('.js-animation-controller').addClass('hidden');\n    setTimeout(function () {\n      _this10.$el.find('.js-animation-controller').removeClass('hidden');\n    }, this.options.delay);\n  };\n\n  /**\n   * Sends tracking data to analytics.\n   */\n\n\n  MainNavigation.prototype.trackSearchClick = function trackSearchClick() {\n    var eventData = {\n      event: 'EventTrigger.Common_topNavigation_CTAClick',\n      category: 'Links | Top Navigation',\n      action: 'CTA Clicked',\n      label: 'Widget:Site Search'\n    };\n    (0, _analytics.pushEvent)(eventData);\n  };\n\n  /**\n   * Scroll page to the top.\n   */\n\n\n  MainNavigation.prototype.scrollToTop = function scrollToTop() {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n  };\n\n  /**\n   * Updated menu height for mobile view.\n   */\n\n\n  MainNavigation.prototype.setMenuHeight = function setMenuHeight() {\n    var navHeight = '54px';\n    var pageWidth = 1024;\n    var $operationalUpdates = (0, _jquery2.default)('.operational-updates');\n    var operationalUpdatesHeight = '0px';\n    var menuHeight = '';\n\n    if ($operationalUpdates.length && this.$window.width() < pageWidth) {\n      operationalUpdatesHeight = $operationalUpdates.outerHeight(false) + 'px';\n    }\n    menuHeight = 'calc(100% - ' + navHeight + ' - ' + operationalUpdatesHeight + ' - ' + this.getSmartBannerHeight() + ' - ' + this.getCookiePolicyHeight() + ')';\n    this.$mobileMenu.height(menuHeight);\n  };\n\n  /**\n   * Returns height of the Smart Banner DOM element.\n   * \n   * @return {string}\n   */\n\n\n  MainNavigation.prototype.getSmartBannerHeight = function getSmartBannerHeight() {\n    var smartBannerHeight = '0px';\n    var $smartBanner = (0, _jquery2.default)('.smartbanner');\n    if ((0, _jquery2.default)('html').hasClass('smartbanner-show')) {\n      smartBannerHeight = $smartBanner.height() + 'px';\n    }\n    return smartBannerHeight;\n  };\n\n  /**\n   * Returns height of the Cookie Policy DOM element.\n   * \n   * @return {string}\n   */\n\n\n  MainNavigation.prototype.getCookiePolicyHeight = function getCookiePolicyHeight() {\n    var cookiePolicyHeight = '0px';\n    var $cookiePolicy = (0, _jquery2.default)('.js-cookie');\n    if ($cookiePolicy.hasClass('show')) {\n      cookiePolicyHeight = $cookiePolicy.height() + 'px';\n    }\n    return cookiePolicyHeight;\n  };\n\n  /**\n   * Adds class to menu item for indicating what menu is selected.\n   * \n   * @param {Event} e \n   */\n\n\n  MainNavigation.prototype.clickNavItemLink = function clickNavItemLink(e) {\n    (0, _jquery2.default)(e.target).addClass('main-navigation__nested-dropdown-link--selected');\n  };\n\n  /**\n   * Returns boolean to indicate if device has touch screen.\n   * \n   * @return {boolean}\n   */\n\n\n  MainNavigation.prototype.isTouchDevice = function isTouchDevice() {\n    return (0, _jquery2.default)('body').hasClass('is--touch-device');\n  };\n\n  return MainNavigation;\n}(_component2.default);\n\nMainNavigation.selector = '.main-navigation';\nMainNavigation.events = {\n  'click .js-nested-link': 'openNewMenuPane',\n  'click .js-nested-back-link': 'clickBackwardsLink',\n  'click .js-nav-item-link': 'clickNavItemLink',\n  'click .js-mobile-nav-button': 'handleClickNavButton',\n  'click .js-search-link': 'toggleSearch',\n  // Ensure the login modal is clickable.\n  'click .js-login': 'preventPropagation',\n  'click .js-modals-container': 'preventPropagation',\n  'click .js-login-link': 'toggleLogin',\n  'click .js-login-close': 'toggleLogin',\n  'click .js-main-navigation-close': 'closeMenu',\n  'focus .js-main-navigation-close': 'preventPropagation',\n  'click .js-language-link': 'toggleLanguageSelector',\n  'keyup': 'handleKeyUp',\n  'touchstart .js-root-link': 'touchMenu',\n  'focus .js-root-link': 'focusMenu',\n  'click .js-skip-link': 'focusNextMenu',\n  // To avoid closing navigaton if touched inside the navigation window\n  'touchend .js-mobile-menu': 'preventPropagation',\n  'focusin .js-root-link': 'focusInMenu',\n  'touchend .js-main-nav-dropdown': 'focusInMenu',\n  'focusout .js-mobile-menu': 'focusOutMenu',\n  'mouseenter .js-root-link': 'mouseMenu',\n  'mouseleave .js-root-link': 'mouseMenu',\n  'click .js-overlay': 'toggleMobileNav',\n  'openLogin': 'openFullLogin',\n  'breakpoint.medium': 'delayMobileNav',\n  'breakpoint.desktop': 'respondToDesktop',\n  'click .js-icon-click': 'clickableIcon',\n  'focus .js-aria-main-nav': 'changeState',\n  'click .js-close-toolbox': 'closeToolbox',\n  'click .search__button': 'trackSearchClick',\n  'operational.update.close': 'setMenuHeight',\n  'cookie.policy.close': 'setMenuHeight',\n  'smart.banner.open': 'setMenuHeight',\n  'smart.banner.close': 'setMenuHeight',\n  'operational.update.toggle': 'setMenuHeight'\n};\nexports.default = MainNavigation;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(16)))\n\n//# sourceURL=webpack:///./src/components/main-navigation/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/main-navigation/main-navigation.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(477);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _navUtils = __webpack_require__(38);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class for the Main Navigation component.\n *\n * @extends Component\n */\nvar NewMainNavigation = function (_Component) {\n  _inherits(NewMainNavigation, _Component);\n\n  function NewMainNavigation(el, $el) {\n    _classCallCheck(this, NewMainNavigation);\n\n    var _this2 = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this2.registerElements();\n    _this2.$window.on('load resize', _this2.adjustStickyNavOnResize.bind(_this2));\n    _this2.$window.on('orientationchange', _this2.collapsePopups.bind(_this2));\n    _this2.$secondaryMenu.closest('li').on('mouseleave', _this2.secondLevelMenuCloseInMouseOut.bind(_this2));\n    _this2.handleDocumentClick = _this2.handleDocumentClick.bind(_this2);\n    _this2.handleSecondLevelMenu = _this2.handleSecondLevelMenu.bind(_this2);\n    _this2.diagonalTimeouts = [];\n    return _this2;\n  }\n\n  /**\n   * Register DOM elements.\n   */\n\n\n  NewMainNavigation.prototype.registerElements = function registerElements() {\n    this.$htmlBody = (0, _jquery2.default)('html,body');\n    this.$window = (0, _jquery2.default)(window);\n    this.$document = (0, _jquery2.default)(document);\n    this.$navRoot = (0, _jquery2.default)('.js-ek-global-navigation');\n    this.$secondaryMenuLinks = (0, _jquery2.default)('.js-ek-global-navigation-secondarymenu ul li a');\n    this.$secondaryMenu = this.$navRoot.find('.secondlevel-link');\n    this.$megalinksChildren = this.$navRoot.find('.megalinks-list-parent').children('li');\n    this.$megalinksParentList = this.$navRoot.find('.megalinks-list-parent');\n    this.$accountPopup = this.$navRoot.find('.js-ek-account-popup');\n    this.$searchPopup = this.$navRoot.find('.search-popup');\n    this.$countrySelector = (0, _jquery2.default)('.country-selector-list-item-link');\n    this.$countryEl = (0, _jquery2.default)('.website-selector-wrapper');\n    this.$searchSelector = (0, _jquery2.default)('.search-selector-list-item-link');\n    this.$searchEl = (0, _jquery2.default)('.search-popup');\n    this.$loginNavLink = (0, _jquery2.default)('.js-account-popup-link');\n  };\n\n  /**\n   * Remove the Outline for anchor tags\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.removeLinkFocus = function removeLinkFocus(e) {\n    e.preventDefault();\n  };\n\n  /**\n   * Expand the Mega menu\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.megaMenuOpen = function megaMenuOpen(e) {\n    e.preventDefault();\n    var _this = e.target;\n    var $topLevelMenu = (0, _jquery2.default)(_this).parent('li');\n    var linkName = $topLevelMenu.attr('data-link-name');\n    this.$secondaryMenuLinks.removeClass('active');\n    this.$accountPopup.hide();\n    this.$searchPopup.hide();\n    (0, _jquery2.default)(_this).attr('aria-expanded', function (i, attr) {\n      return attr === 'false' ? 'true' : 'false';\n    });\n\n    this.thirdLevelMouseover();\n    if (window.innerWidth >= _navUtils.mobileBreakpoint) {\n      $topLevelMenu.toggleClass('active-menu').siblings('li').removeClass('active-menu');\n      $topLevelMenu.find('.megalinks__secondlevel--inner > ul:first > li').removeClass('second-level-active-list');\n      $topLevelMenu.find('.megalinks__secondlevel--inner > ul:first > li:first-child').addClass('second-level-active-list');\n      setTimeout(function () {\n        $topLevelMenu.find('.megalinks__secondlevel--inner > ul:first > li:first-child > .megalinks__thirdlevel').show();\n      }, 50);\n      this.$document.on('touchstart', this.handleDocumentClick);\n    } else {\n      $topLevelMenu.toggleClass('active-menu').siblings('li').removeClass('active-menu');\n      $topLevelMenu.parent('ul').toggleClass(linkName + '--clicked');\n      (0, _jquery2.default)(_this).closest('li').siblings('li').find('.megalinks__secondlevel').css({ height: '' });\n      $topLevelMenu.hasClass('active-menu') ? $topLevelMenu.find('.js-megalinks__secondlevel').css({ height: window.innerHeight - 50 }) : $topLevelMenu.find('.js-megalinks__secondlevel').css({ height: '' });\n      $topLevelMenu.find('.active-thirdlevel').siblings('a').trigger('click');\n      this.$navRoot.find('.ek-global-navigation__megalinks').scrollTop(0);\n      this.$navRoot.find('.ek-global-navigation__megalinks').toggleClass('megalinks--landscape--fix');\n    }\n  };\n\n  /**\n   * Handle the Second Level Menu Visibility\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.handleSecondLevelMenu = function handleSecondLevelMenu(e) {\n    e = e || window.event;\n    var hasTarget = (0, _jquery2.default)('.megalinks-list-parent').is(e.target) || (0, _jquery2.default)('.megalinks-list-parent').has(e.target).length != 0;\n    if (window.innerWidth >= _navUtils.mobileBreakpoint && !hasTarget) {\n      this.$navRoot.find('.megalinks-list-parent').removeClass('mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked');\n      this.$navRoot.find('.megalinks-list-parent').children('li').removeClass('active-menu');\n      this.$document.off('mouseover', this.handleSecondLevelMenu);\n    }\n  };\n\n  /**\n   * Handle the Document Click\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.handleDocumentClick = function handleDocumentClick(e) {\n    e = e || window.event;\n    var hasTarget = (0, _jquery2.default)('.megalinks__thirdlevel').is(e.target) || (0, _jquery2.default)('.megalinks__thirdlevel').has(e.target).length != 0;\n    if (window.innerWidth >= _navUtils.mobileBreakpoint && !hasTarget) {\n      (0, _jquery2.default)('.megalinks__thirdlevel').hide();\n      this.$navRoot.find('.megalinks__secondlevel--inner > ul li').removeClass('second-level-active-list');\n      this.$document.off('touchstart', this.handleDocumentClick);\n    }\n  };\n\n  /**\n   * Expand the Second Level menu\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.secondLevelMenuOpen = function secondLevelMenuOpen(e) {\n    e.preventDefault();\n    var _this = e.target;\n    var $thirdLevel = (0, _jquery2.default)('#submenu-' + _this.getAttribute('data-submenu'));\n    var $mobileArrow = (0, _jquery2.default)(_this).find('.secondlevel-mobile-arrow-icon');\n\n    if (window.innerWidth < _navUtils.mobileBreakpoint) {\n      if (typeof $thirdLevel.slideToggle === 'function' && typeof $thirdLevel.slideUp === 'function') {\n        (0, _jquery2.default)(_this).parents('.megalinks__secondlevel--inner').find('.secondlevel-mobile-arrow-icon').not($mobileArrow).removeClass('active');\n        $mobileArrow.toggleClass('active');\n        (0, _jquery2.default)(_this).parent('li').find('.megalinks__thirdlevel').slideToggle();\n        (0, _jquery2.default)(_this).parent('li').find('.megalinks__thirdlevel').toggleClass('active-thirdlevel');\n        (0, _jquery2.default)(_this).parent('li').siblings('li').find('.megalinks__thirdlevel').slideUp().removeClass('active-thirdlevel');\n        return;\n      } else {\n        (0, _jquery2.default)(_this).parents('.megalinks__secondlevel--inner').find('.secondlevel-mobile-arrow-icon').not($mobileArrow).removeClass('active');\n        $mobileArrow.toggleClass('active');\n        if ($thirdLevel.hasClass('active-thirdlevel')) {\n          return $thirdLevel.removeClass('active-thirdlevel').attr('style', 'display: none;');\n        }\n\n        (0, _jquery2.default)(_this).parent('li').siblings('li').find('.megalinks__thirdlevel').removeClass('active-thirdlevel').attr('style', 'display: none;');\n\n        $thirdLevel.attr('style', 'display: block;').toggleClass('active-thirdlevel').toggleClass('animate-menu');\n      }\n    }\n  };\n  /**\n   * Skip to Menu Event Handling\n   */\n\n\n  NewMainNavigation.prototype.skipToMenuEventHandling = function skipToMenuEventHandling(e) {\n    e.preventDefault();\n    var _t = e.target;\n    var nexTab = (0, _jquery2.default)(_t).closest('li').next().find('a[role=\"tab\"]');\n    if (window.innerWidth >= _navUtils.mobileBreakpoint) {\n      nexTab.focus();\n    }\n  };\n\n  /**\n   * Expand the Second Level menu using Enter key down\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.secondLevelMenuOpenInKeyDown = function secondLevelMenuOpenInKeyDown(e) {\n    var _this = e.target;\n    var keycode = e.keyCode || e.which;\n    var nextListItem = (0, _jquery2.default)(_this).closest('li').next().find('.secondlevel-link');\n    var prevListItem = (0, _jquery2.default)(_this).closest('li').prev().find('.secondlevel-link');\n    if (window.innerWidth >= _navUtils.mobileBreakpoint) {\n      if (keycode === 13) {\n        (0, _jquery2.default)(_this).parent('li').find('.megalinks__thirdlevel').show();\n        (0, _jquery2.default)(_this).parent('li').siblings('li').find('.megalinks__thirdlevel').hide();\n      }\n      if (keycode === 39) {\n        if (nextListItem) {\n          nextListItem.attr('aria-selected', 'true');\n          nextListItem.focus();\n          (0, _jquery2.default)(_this).closest('li').next().siblings('li').find('a').attr('aria-selected', 'false');\n          (0, _jquery2.default)(_this).closest('li').next().find('.megalinks__thirdlevel').show();\n          (0, _jquery2.default)(_this).closest('li').next().siblings('li').find('.megalinks__thirdlevel').hide();\n        }\n      }\n      if (keycode === 37) {\n        if (prevListItem) {\n          prevListItem.attr('aria-selected', 'true');\n          prevListItem.focus();\n          (0, _jquery2.default)(_this).closest('li').prev().find('.megalinks__thirdlevel').show();\n          (0, _jquery2.default)(_this).closest('li').prev().siblings('li').find('.megalinks__thirdlevel').hide();\n        }\n      }\n    }\n  };\n\n  /**\n   * Expand the Second Level menu using mouse over\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.secondLevelMenuOpenInMouseOver = function secondLevelMenuOpenInMouseOver(e) {\n    var _this = e.target;\n\n    this.thirdLevelMouseover();\n    if (window.innerWidth >= _navUtils.mobileBreakpoint) {\n      this.diagonalTimeouts.push(setTimeout(function () {\n        (0, _jquery2.default)(_this).closest('li').siblings('li').removeClass('second-level-active-list');\n        (0, _jquery2.default)('.megalinks__thirdlevel').hide();\n        (0, _jquery2.default)(_this).closest('li').addClass('second-level-active-list');\n        (0, _jquery2.default)(_this).closest('li').find('.megalinks__thirdlevel').show();\n        (0, _jquery2.default)(_this).closest('li').removeClass('link-collapsed');\n      }, 300));\n    }\n  };\n\n  /**\n   * close the Second Level menu using mouse out\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.secondLevelMenuCloseInMouseOut = function secondLevelMenuCloseInMouseOut(e) {\n    var _this = this;\n\n    this.thirdLevelMouseover();\n    if (window.innerWidth >= _navUtils.mobileBreakpoint) {\n      this.diagonalTimeouts.push(setTimeout(function () {\n        (0, _jquery2.default)('.megalinks__thirdlevel').hide();\n        _this.$navRoot.find('.megalinks__secondlevel--inner > ul li').removeClass('second-level-active-list');\n        _this.$document.on('mouseover', _this.handleSecondLevelMenu);\n      }, 300));\n    }\n  };\n\n  /**\n   * Resets diagonal mouse move timeout\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.thirdLevelMouseover = function thirdLevelMouseover(e) {\n    this.diagonalTimeouts.forEach(function (timeout) {\n      return clearTimeout(timeout);\n    });\n  };\n\n  /**\n   * Navigate to Help Links (Help section) on click\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.secondLevelHelpMenuLinksOpen = function secondLevelHelpMenuLinksOpen(e) {\n    window.location.href = (0, _jquery2.default)(e.target).attr('href');\n  };\n\n  /**\n   * Navigate to Help Links (Help section) on Enter key\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.secondLevelHelpMenuLinksKeyDownOpen = function secondLevelHelpMenuLinksKeyDownOpen(e) {\n    var keycode = e.keyCode || e.which;\n\n    if (keycode === 13) {\n      window.location.href = (0, _jquery2.default)(e.target).attr('href');\n    }\n  };\n\n  /**\n   * Close the 3rd level links on click\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.closeThirdLevelLinks = function closeThirdLevelLinks(e) {\n    var _this = e.target;\n    var __this = this;\n    if (window.innerWidth >= _navUtils.mobileBreakpoint) {\n      (0, _jquery2.default)(_this).closest('.megalinks__secondlevel').siblings('.megalinks-toplevel').focus();\n      setTimeout(function () {\n        __this.$megalinksChildren.removeClass('active-menu');\n        __this.$megalinksParentList.removeClass('mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked');\n        (0, _jquery2.default)(_this).closest('li').removeClass(\"second-level-active-list\");\n        (0, _jquery2.default)(_this).closest('.megalinks__secondlevel').siblings('.megalinks-toplevel').attr('aria-expanded', 'false');\n        (0, _jquery2.default)(_this).closest('li').addClass('link-collapsed');\n      }, 50);\n    }\n  };\n\n  /**\n   * Open Mobile menu on click\n   */\n\n\n  NewMainNavigation.prototype.openMobileMenu = function openMobileMenu() {\n    this.$navRoot.find('.ekglobal-navigation-megamenu-holder').addClass('menu--opened');\n    this.$navRoot.find('.mobile-menu-overlay').addClass('overlay--open');\n    this.$htmlBody.find('.operational-updates').addClass('menu-open');\n    this.$htmlBody.addClass('noscroll');\n  };\n\n  /**\n   * Close Mobile menu on click\n   */\n\n\n  NewMainNavigation.prototype.closeMobileMenu = function closeMobileMenu() {\n    this.$navRoot.find('.ek-global-navigation__megalinks').find('.megalinks__secondlevel').css({ height: '' });\n    this.$navRoot.find('.ekglobal-navigation-megamenu-holder').removeClass('menu--opened');\n    this.$htmlBody.removeClass('noscroll');\n    this.$navRoot.find('.mobile-menu-overlay').removeClass('overlay--open');\n    this.$htmlBody.find('.operational-updates').removeClass('menu-open');\n    this.$navRoot.find('.active-menu > .megalinks-toplevel').trigger('click');\n  };\n\n  /**\n   * Show responsive/mobile version of language selector.\n   */\n\n\n  NewMainNavigation.prototype.showMobileSelector = function showMobileSelector(e) {\n    this.publish('new-language-selector.show');\n  };\n\n  /**\n   * adjust sticky logo and mobile link container on resize and load\n   */\n\n\n  NewMainNavigation.prototype.adjustStickyNavOnResize = function adjustStickyNavOnResize() {\n    var secondLevelStickyBar = this.$navRoot.find('.ek-global-navigation__megalinks ul > li.active-menu .megalinks__secondlevel');\n\n    if (window.innerWidth <= _navUtils.mobileBreakpoint) {\n      this.$navRoot.find('.megalinks-list-parent').removeClass('mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked');\n      this.$navRoot.find('.megalinks-list-parent').children('li').removeClass('active-menu');\n    } else {\n      (0, _jquery2.default)(secondLevelStickyBar).removeClass('secondlevel--sticky');\n      this.closeMobileMenu();\n    }\n  };\n\n  /**\n   * Collapse Menu/Search/Login/Language Selector popups\n   * @param {Event} e\n   */\n\n\n  NewMainNavigation.prototype.collapsePopups = function collapsePopups(e) {\n    (0, _navUtils.collapseAllPopups)();\n    this.closeMobileMenu();\n  };\n\n  return NewMainNavigation;\n}(_component2.default);\n\nNewMainNavigation.selector = '.js-ek-global-navigation';\nNewMainNavigation.events = {\n  'click .js-megalinks-toplevel': 'megaMenuOpen',\n  'touch .js-megalinks-toplevel': 'megaMenuOpen',\n  'click .js-secondlevel-link': 'secondLevelMenuOpen',\n  'touch .js-secondlevel-link': 'secondLevelMenuOpen',\n  'keydown .js-secondlevel-link': 'secondLevelMenuOpenInKeyDown',\n  'mouseover .js-secondlevel-link': 'secondLevelMenuOpenInMouseOver',\n  'click .menu-nav-accessibility-skip-link': 'skipToMenuEventHandling',\n  'click .js-megalinks-secondlevel.no-third-level .js-secondlevel-link': 'secondLevelHelpMenuLinksOpen',\n  'keydown .js-megalinks-secondlevel.no-third-level .js-secondlevel-link': 'secondLevelHelpMenuLinksKeyDownOpen',\n  'click .js-thirdlevel-close-btn > a': 'closeThirdLevelLinks',\n  'click .js-mobile-open-menu > a': 'openMobileMenu',\n  'click .js-megalinks-mobile-close-btn > a': 'closeMobileMenu',\n  'click .js-mobile-menu-overlay': 'closeMobileMenu',\n  'click .country-selector-mobile': 'showMobileSelector',\n  'touch .country-selector-mobile': 'showMobileSelector',\n  'mousedown .ek-global-navigation__inner-container a': 'removeLinkFocus',\n  'mouseenter .megalinks__thirdlevel': 'thirdLevelMouseover'\n};\nexports.default = NewMainNavigation;\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/main-navigation-v2/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/main-navigation-v2/main-navigation-v2.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(479);\n\n__webpack_require__(480);\n\n__webpack_require__(481);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _utils = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Experience component.\n * \n * @extends Component\n */\nvar ExperienceBlock = function (_Component) {\n  _inherits(ExperienceBlock, _Component);\n\n  function ExperienceBlock(el, $el) {\n    _classCallCheck(this, ExperienceBlock);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.createCarousel();\n    return _this;\n  }\n\n  /**\n   * Initialize carousel plugin.\n   */\n\n\n  ExperienceBlock.prototype.createCarousel = function createCarousel() {\n    var isRtl = (0, _jquery2.default)('html').attr('dir') === 'rtl';\n\n    this.$el.find('.js-mobile-experience').not('.slick-initialized').slick({\n      swipeToSlide: !isRtl, // this causes problem with rlt carousel. Disable it when RTL layout shows\n      draggable: true,\n      infinite: false,\n      speed: 300,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      variableWidth: true,\n      arrows: false,\n      swipe: true,\n      useCSS: true,\n      rtl: isRtl\n    }).on('afterChange', function () {\n      (0, _utils.updateLazyLoad)();\n    });\n  };\n\n  return ExperienceBlock;\n}(_component2.default);\n\nExperienceBlock.selector = '.experience-block';\nexports.default = ExperienceBlock;\n\n//# sourceURL=webpack:///./src/components/featured-promo-block/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/featured-promo-block/featured-promo-block.scss?")},,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./node_modules/slick-carousel/slick/slick.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(483);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global __EK__, fetch */\n\n\n/**\n * Class representing Session Timeout component.\n * \n * @extends Component\n */\nvar SessionTimeout = function (_Component) {\n  _inherits(SessionTimeout, _Component);\n\n  function SessionTimeout(el, $el) {\n    _classCallCheck(this, SessionTimeout);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.values();\n    _this.timer = setInterval(function () {\n      return _this.count();\n    }, 1000);\n    _this.setFocus = false;\n    return _this;\n  }\n\n  /**\n   * Returns remaining time.\n   * \n   * @return {number} Number in miliseconds\n   */\n\n\n  /**\n   * Update the Session timeout value.\n   */\n  SessionTimeout.prototype.values = function values() {\n    var currentDate = new Date();\n    this.sessionEnd = new Date(currentDate.getTime() + this.period * 60 * 1000);\n  };\n\n  /**\n   * Calculate remaining session time and update class state on DOM element.\n   */\n\n\n  SessionTimeout.prototype.count = function count() {\n    if (this.remaining < 0) {\n      clearInterval(this.timer);\n      (0, _jquery2.default)('.session-timeout__primary-cta').text(this.$el.data('login-message'));\n      return (0, _jquery2.default)('.session-timeout__countdown').text('0');\n    }\n    if (this.remaining / 1000 < this.countdown && !(0, _jquery2.default)(this.selector).hasClass('session-timeout__show')) {\n      this.$el.addClass('session-timeout__show');\n      if (!this.setFocus) {\n        this.$el.find('.session-timeout__container').focus();\n        this.setFocus = true;\n      }\n      this.toggleOverlayCheck(true);\n      (0, _jquery2.default)('.js-countdownText').text(parseInt(this.remaining / 1000));\n    }\n  };\n\n  /**\n   * Handle CTA action.\n   * Decide if the page should reload or reset the session.\n   */\n\n\n  SessionTimeout.prototype.ctaHandler = function ctaHandler() {\n    if (this.remaining < 0) {\n      window.location = '' + window.location.origin + this.$el.data('login-url');\n    } else {\n      this.refreshSession();\n    }\n  };\n\n  /**\n   * Scroll the page to top and update class state.\n   * \n   * @param {boolean} hasOverLay Flag if overlay should apply or not\n   */\n\n\n  SessionTimeout.prototype.toggleOverlayCheck = function toggleOverlayCheck(hasOverLay) {\n    (0, _jquery2.default)('html, body').scrollTop(0).toggleClass('has-static-overlay', hasOverLay);\n  };\n\n  /**\n   * Fetch API to refresh the session and trigger some updates.\n   */\n\n\n  SessionTimeout.prototype.refreshSession = function refreshSession() {\n    var _this2 = this;\n\n    fetch('/service/get-session', {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      cache: 'no-store'\n    }).then(function (r) {\n      return r.json();\n    }).then(function (r) {\n      clearInterval(_this2.timer);\n      __EK__.session = r;\n      _this2.$el[0].setAttribute('data-period', r.data.sessionTimeOutInMinutes);\n      _this2.values();\n      _this2.toggleOverlayCheck(false);\n      _this2.$el.removeClass('session-timeout__show');\n      _this2.timer = setInterval(function () {\n        return _this2.count();\n      }, 1000);\n    });\n  };\n\n  _createClass(SessionTimeout, [{\n    key: 'remaining',\n    get: function get() {\n      var d = new Date();\n      return this.sessionEnd - d.getTime();\n    }\n\n    /**\n     * Returns the period value used to calculate the session.\n     * \n     * @return {number} Number in miliseconds\n     */\n\n  }, {\n    key: 'period',\n    get: function get() {\n      if (this.$el[0].getAttribute('data-period')) return +this.$el[0].getAttribute('data-period');\n      return 20;\n    }\n\n    /**\n     * Returns the countdown value.\n     * \n     * @return {number} Number in miliseconds\n     */\n\n  }, {\n    key: 'countdown',\n    get: function get() {\n      if (this.$el[0].getAttribute('data-countdown')) return +this.$el[0].getAttribute('data-countdown');\n      return 60000;\n    }\n  }]);\n\n  return SessionTimeout;\n}(_component2.default);\n\nSessionTimeout.selector = '.session-timeout';\nSessionTimeout.events = {\n  'click .session-timeout__primary-cta': 'ctaHandler'\n};\nexports.default = SessionTimeout;\n\n//# sourceURL=webpack:///./src/components/session-timeout/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/session-timeout/session-timeout.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(485);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _each = __webpack_require__(90);\n\nvar _each2 = _interopRequireDefault(_each);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing a link at the top of page that moves keyboard focus directly to the main content area.\n * \n * @extends Component\n */\nvar AccessibilityControl = function (_Component) {\n  _inherits(AccessibilityControl, _Component);\n\n  function AccessibilityControl() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AccessibilityControl);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.options = {\n      isActive: \'accessibility-control__button--active\'\n\n      /**\n       * Toggle visibility of the link.\n       * \n       * @param {Event} e\n       */\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  AccessibilityControl.prototype.toggleAccessibilityControl = function toggleAccessibilityControl(e) {\n    var _this2 = this;\n\n    if (e.which === 9 || e.which === 27) {\n      var $buttons = (0, _jquery2.default)(\'.accessibility-control__button\');\n\n      (0, _each2.default)($buttons, function (button) {\n        if ((0, _jquery2.default)(button).hasClass(_this2.options.isActive)) {\n          (0, _jquery2.default)(button).removeClass(_this2.options.isActive);\n        }\n      });\n\n      if (e.which === 27) {\n        $buttons.removeClass(this.options.isActive);\n      }\n    }\n  };\n\n  return AccessibilityControl;\n}(_component2.default);\n\nAccessibilityControl.selector = window.document;\nAccessibilityControl.events = {\n  \'keyup\': \'toggleAccessibilityControl\'\n};\nexports.default = AccessibilityControl;\n\n//# sourceURL=webpack:///./src/components/accessibility-control/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/accessibility-control/accessibility-control.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(487);\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/accessibility-control-v2/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/global-nav-v2/accessibility-control-v2/accessibility-control-v2.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(489);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global fetch */\n\n\nvar min = Math.min,\n    max = Math.max;\n\n/**\n * Class representing Captcha component.\n * \n * @extends Component\n */\n\nvar Captcha = function (_Component) {\n  _inherits(Captcha, _Component);\n\n  function Captcha(el, $el) {\n    _classCallCheck(this, Captcha);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    _this.options = {\n      tabClass: 'js-tab',\n      panelClass: 'js-panel',\n      activeClass: 'active-tab',\n      captchaImageHeadingClass: 'js-panel1-heading'\n    };\n\n\n    _this.options.el = el;\n    _this.options.$el = $el;\n\n    _this.$tabs = _this.$el.find((0, _component.toSel)(_this.options.tabClass));\n    _this.$panels = _this.$el.find((0, _component.toSel)(_this.options.panelClass));\n\n    _this.$activeTab = _this.$tabs.filter((0, _component.toSel)(_this.options.activeClass));\n    _this.$activePanel = _this.$panels.filter((0, _component.toSel)(_this.options.activeClass));\n\n    _this.$captchaImageHeading = _this.$el.find((0, _component.toSel)(_this.options.captchaImageHeadingClass));\n    return _this;\n  }\n\n  /**\n   * Fetch new captcha items.\n   * \n   * @param {HTMLElement} el HTML element\n   * @param {JQuery} $el jQuery element\n   */\n\n\n  Captcha.prototype.fetchCaptchaItems = function fetchCaptchaItems(el, $el) {\n    var _this2 = this;\n\n    fetch('/service/captcha?countrylang=' + window.__EK__.urlparser.langCountryCompat, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      cache: 'no-store',\n      method: 'GET'\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json();\n      } else {\n        _this2.errors(response);\n        throw new Error('Server response wasn\\'t OK');\n      }\n    }).then(function (json) {\n      _this2.options.dataSet = json;\n      _this2.captchaSetUp(_this2.options.dataSet, el, $el);\n    }).then(function () {\n      var tar = (0, _jquery2.default)(_this2.options.el).find('img');\n      var $imgLinks = (0, _jquery2.default)(_this2.options.el).find('.js-captcha-img-link');\n\n      tar.each(function () {\n        (0, _jquery2.default)(this).bind('click', function (e) {\n          var target = (0, _jquery2.default)(e.target);\n          var parentDL = (0, _jquery2.default)(e.target).closest('dl');\n          var value = target.attr('data-value');\n\n          target.addClass('selected');\n          (0, _jquery2.default)(parentDL).attr('data-selected', value);\n        });\n      });\n\n      $imgLinks.each(function () {\n        (0, _jquery2.default)(this).bind('click', function (e) {\n          e.preventDefault();\n        });\n      });\n    });\n  };\n\n  /**\n   * Handle error captcha response.\n   * \n   * @param {object} response Response object\n   */\n\n\n  Captcha.prototype.errors = function errors(response) {\n    console.error(response);\n  };\n\n  /**\n   * Set specific tab to active state.\n   * \n   * @param {number} index Number of tab to active\n   */\n\n\n  Captcha.prototype.setActive = function setActive(index) {\n    // remove active state from currently active tab and panel.\n    this.$activeTab.add(this.$activePanel).removeClass(this.options.activeClass);\n    this.$activeTab.attr('aria-selected', false);\n    this.$activePanel.attr('aria-hidden', true);\n\n    // update active tab and panel\n    this.$activeTab = this.$tabs.eq(index);\n    this.$activePanel = this.$panels.eq(index);\n\n    // add active state to new tab and panel.\n    this.$activeTab.add(this.$activePanel).addClass(this.options.activeClass);\n    this.$activeTab.attr('aria-selected', true);\n    this.$activePanel.attr('aria-hidden', false);\n\n    this.$activeTab.attr('tabindex', 0);\n    this.$tabs.not(this.$activeTab).attr('tabindex', -1);\n  };\n\n  /**\n   * Handle tab switch on mouse click or keyboard press.\n   * \n   * @param {Event} e\n   */\n\n\n  Captcha.prototype.tabSwitch = function tabSwitch(e) {\n    var clickedTabIndex = void 0;\n\n    if (e.type === 'keydown') {\n      if (e.originalEvent.key === 'Enter' || e.keyCode === 13) {\n        clickedTabIndex = this.$tabs.index(e.currentTarget);\n      } else if (e.originalEvent.key === 'ArrowRight' || e.keyCode === 39) {\n        var $target = (0, _jquery2.default)(e.currentTarget).next();\n        clickedTabIndex = min(this.$tabs.length - 1, this.$tabs.index($target));\n        $target.focus();\n      } else if (e.originalEvent.key === 'ArrowLeft' || e.keyCode === 37) {\n        var _$target = (0, _jquery2.default)(e.currentTarget).prev();\n        clickedTabIndex = max(0, this.$tabs.index(_$target));\n        _$target.focus();\n      } else {\n        return;\n      }\n    } else if (e.type === 'click') {\n      clickedTabIndex = this.$tabs.index(e.currentTarget);\n    }\n\n    this.setActive(clickedTabIndex);\n  };\n\n  /**\n   * Returns new HTML element.\n   * \n   * @todo Check if this is dead code.\n   */\n\n\n  Captcha.prototype.createNode = function createNode(element) {\n    return document.createElement(element);\n  };\n\n  /**\n   * Create HTML element and append to DOM.\n   * \n   * @param {array} imageUrls List of URL addresses for the images\n   * @param {array} imageValue List of values for the images\n   * @param {string} imageFieldName Field name for the image\n   */\n\n\n  Captcha.prototype.createImageEl = function createImageEl(imageUrls, imageValue, imageFieldName) {\n    var i = void 0;\n    var captchaDl = (0, _jquery2.default)(this.options.el);\n    var ddCount = (0, _jquery2.default)('.js-captcha dl dd').length;\n\n    if (ddCount === 6) {\n      var items = (0, _jquery2.default)('.js-captcha dd');\n\n      for (var _i = 0; _i < items.length; _i++) {\n        (0, _jquery2.default)(items[_i]).remove();\n      }\n    }\n\n    for (i = 0; i < imageUrls.length; i++) {\n      var tar = captchaDl.find('dl');\n      var strImg = imageValue[i];\n      var urlEncodedImg = encodeURIComponent(strImg);\n      var urlEncodedField = encodeURIComponent(imageFieldName);\n\n      var img = '<dd>\\n                  <a href=\"#\" class=\"js-captcha-img-link\" aria-label=\"captcha image\" >\\n                      <img src=\"' + imageUrls[i] + '\" alt=\"\" data-value=\"' + urlEncodedField + '=' + urlEncodedImg + '\" width=\"32px\" height=\"32px\" />\\n                  </a>\\n                </dd>';\n\n      tar.append(img);\n    }\n  };\n\n  /**\n   * Update attributes on audio HTML element.\n   * \n   * @param {string} audioUrl URL address for the audio\n   * @param {string} audioFieldName Field name for the audio\n   */\n\n\n  Captcha.prototype.createAudioEL = function createAudioEL(audioUrl, audioFieldName) {\n    var captchaAudio = (0, _jquery2.default)(this.options.el);\n    var tar = captchaAudio.find('audio source');\n    var val = captchaAudio.find('div input');\n    var urlEncodedField = encodeURIComponent(audioFieldName);\n\n    tar.attr('src', audioUrl);\n    val.attr('name', urlEncodedField);\n  };\n\n  /**\n   * Captcha initial setup.\n   * \n   * @param {object} dataSet Captcha data set\n   * @param {HTMLElement} el Captcha DOM element\n   * @param {JQuery} $el Captcha jQuery element\n   */\n\n\n  Captcha.prototype.captchaSetUp = function captchaSetUp(dataSet, el, $el) {\n    var tar = el.$el[0];\n\n    this.options.elAsObj = el;\n\n    (0, _jquery2.default)(tar).find('.js-span').html(' ' + dataSet.data.imageName);\n\n    this.$captchaImageHeading.focus();\n\n    this.options.el = tar;\n\n    this.createImageEl(dataSet.data.imageUrls, dataSet.data.values, dataSet.data.imageFieldName);\n    this.createAudioEL(dataSet.data.audioUrl, dataSet.data.audioFieldName);\n  };\n\n  /**\n   * Handle refreshing Captcha.\n   * \n   * @param {Event} e Mouse click event\n   */\n\n\n  Captcha.prototype.refreshCaptcha = function refreshCaptcha(e) {\n    var el = this.options.elAsObj;\n    var $el = this.options.$el;\n\n    this.fetchCaptchaItems(el, $el);\n\n    e.preventDefault();\n  };\n\n  return Captcha;\n}(_component2.default);\n\nCaptcha.selector = '.js-captcha';\nCaptcha.events = {\n  'click .js-tab': 'tabSwitch',\n  'keydown .js-tab': 'tabSwitch',\n  'click .captcha-refresh': 'refreshCaptcha'\n};\nexports.default = Captcha;\n\n//# sourceURL=webpack:///./src/components/captcha/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/captcha/captcha.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _smartAppBanner = __webpack_require__(491);\n\nvar _smartAppBanner2 = _interopRequireDefault(_smartAppBanner);\n\n__webpack_require__(499);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Smart Banner component.\n * \n * @extends Component\n */\nvar SmartBanner = function (_Component) {\n    _inherits(SmartBanner, _Component);\n\n    function SmartBanner(el, $el) {\n        _classCallCheck(this, SmartBanner);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n        new _smartAppBanner2.default({\n            title: __EK__.resources['Common/ios-smart-banner/appstore-title__text'],\n            author: __EK__.resources['Common/ios-smart-banner/appstore-author__text'],\n            button: __EK__.resources['Common/ios-smart-banner/appstore-button__text'],\n            store: {\n                ios: __EK__.resources['Common/ios-smart-banner/appstore-store-ios__text'],\n                android: __EK__.resources['Common/ios-smart-banner/appstore-store-android__text'],\n                windows: __EK__.resources['Common/ios-smart-banner/appstore-store-windows__text']\n            },\n            price: {\n                ios: __EK__.resources['Common/ios-smart-banner/appstore-price-ios__text'],\n                android: __EK__.resources['Common/ios-smart-banner/appstore-price-android__text'],\n                windows: __EK__.resources['Common/ios-smart-banner/appstore-price-windows__text']\n            },\n            theme: 'ios',\n            //, force: 'ios' // Uncomment for platform emulation\n            show: function show() {\n                return _this.publish('smart.banner.open', { from: 'SMART_BANNER' });\n            },\n            close: function close() {\n                return _this.publish('smart.banner.close', { from: 'SMART_BANNER' });\n            }\n        });\n        return _this;\n    }\n\n    return SmartBanner;\n}(_component2.default);\n\nSmartBanner.selector = 'body';\nexports.default = SmartBanner;\n\n//# sourceURL=webpack:///./src/components/smart-banner/index.js?")},,,,,,,,,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/smart-banner/smart-banner.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(501);\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar StickyWechatQr = function (_Component) {\n  _inherits(StickyWechatQr, _Component);\n\n  function StickyWechatQr() {\n    _classCallCheck(this, StickyWechatQr);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  StickyWechatQr.prototype.closeWeChatStickyContainer = function closeWeChatStickyContainer() {\n    this.$el.hide();\n  };\n\n  return StickyWechatQr;\n}(_component2.default);\n\nStickyWechatQr.selector = \'.sticky-wechat-qr\';\nStickyWechatQr.events = {\n  \'click .sticky-wechat-qr--closebtn a\': \'closeWeChatStickyContainer\'\n};\nexports.default = StickyWechatQr;\n\n//# sourceURL=webpack:///./src/components/sticky-wechat-qr/index.js?')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/sticky-wechat-qr/sticky-wechat-qr.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(503);\n\n//# sourceURL=webpack:///./src/components/skywards-dashboard/index.js?")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/skywards-dashboard/skywards-dashboard.scss?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _component = __webpack_require__(2);\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _includes = __webpack_require__(39);\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Class representing Session Iframe component.\n * \n * @extends Component\n */\nvar SessionIframe = function (_Component) {\n  _inherits(SessionIframe, _Component);\n\n  function SessionIframe(el, $el) {\n    _classCallCheck(this, SessionIframe);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, el, $el));\n\n    $el = (0, _jquery2.default)(_this.$el);\n    if (!(0, _includes2.default)(document.cookie, 'SSOCallIframe=1')) {\n      $el.remove();\n      return _possibleConstructorReturn(_this);\n    }\n\n    var refToken = $el[0].getAttribute('data-ref-token');\n    var src = $el[0].getAttribute('data-src');\n    el = el.el;\n\n    window.addEventListener('message', function (e) {\n      switch (e.data) {\n        case 'close-iframe':\n          $el.remove();\n          break;\n        case 'load-iframe':\n          el.contentWindow.postMessage('refToken:' + refToken, '*');\n          break;\n      }\n    }, false);\n\n    $el.attr('src', src);\n    return _this;\n  }\n\n  return SessionIframe;\n}(_component2.default);\n\nSessionIframe.selector = 'iframe[name=\\'session-iframe\\']';\nexports.default = SessionIframe;\n\n//# sourceURL=webpack:///./src/components/session-iframe/index.js?")}]);